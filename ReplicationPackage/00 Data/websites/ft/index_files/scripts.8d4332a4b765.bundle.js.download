(window.webpackJsonp=window.webpackJsonp||[]).push([["scripts"],{"004531ae":function(t,e,n){var r=n("f26e1e46");function o(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)}))}}var i=n("dcfa7677").default,c=function(){var t=a(r.mark((function t(e){var n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.fetchJson("GET","".concat(e,"/prioritised/concept"));case 2:return n=t.sent,t.abrupt("return",n&&n.items.length?n.items:[]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=a(r.mark((function t(e,n){var o,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new URLSearchParams({originatingSignals:["followed","topicReadingHistory"],grouped:"concept",dedupeArticles:"basic",maxConcepts:"3",maxArticlesPerConcept:"5",source:"next-front-page".concat(n?":".concat(n):"")}),t.next=3,i.fetchJson("GET","feed/".concat(e,"?").concat(o.toString()));case 3:if(!(a=t.sent)||!a.concepts){t.next=8;break}return t.abrupt("return",a.concepts.map((function(t){return t.latestContent=t.items.slice(0,5).map((function(t){return Object.assign({},t,t.content)})),t})));case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(t,e){return e?t.map((function(t){var n=e.find((function(e){return e.uuid===t.id}));return n&&(t.prioritised=!0,t.prioritisedOn=n._rel.created),t})):t},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.filter((function(t){return!t.prioritised})),n=t.filter((function(t){return t.prioritised}));return{prioritised:n,unprioritised:e}},f=function(t){return t.sort((function(t,e){return e.prioritisedOn-t.prioritisedOn}))};t.exports=function(){var t=a(r.mark((function t(e,n){var o,a,i,d,p,h;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e,n);case 2:if(!(o=t.sent)){t.next=10;break}return t.next=6,c(e);case 6:return a=t.sent,i=u(o,a),d=l(i),p=d.prioritised,h=d.unprioritised,t.abrupt("return",[].concat(f(p),h));case 10:return t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},"04443d17":function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=l;var o=n("2efdf1ec"),a=r(n("5bdd616f")),i=n("ecf9aeee"),c=n("d40f92a1"),s=r(n("33da028e")),u=n("f0d14681");e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function l(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},i.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}l.prototype={constructor:l,logger:s.default,log:s.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var f=s.default.log;e.log=f,e.createFrame=o.createFrame,e.logger=s.default},"051e1e09":function(t,e,n){t.exports=n("d163b785").default},"05f55755":function(t,e,n){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},"08a04e80":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function a(t){var e=u();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)})(t)}function s(t,e,n){return(s=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(Array.isArray(t))return Promise.all(t.map(d));if(!t.ok)throw t.text(),new h(t.url,t.status,t.statusText);if(204!==t.status)return t.json().catch((function(t){if(t.message.indexOf("timeout")>-1)throw new g(t.message);throw new m(t.message)}));t.text()}function p(t){if(Array.isArray(t))return Promise.all(t.map(p));if(!t.ok)throw t.text(),new h(t.url,t.status,t.statusText);if(204!==t.status)return t.text();t.text()}n.r(e),n.d(e,"json",(function(){return d})),n.d(e,"text",(function(){return p})),n.d(e,"BadServerResponseError",(function(){return h})),n.d(e,"InvalidJsonError",(function(){return m})),n.d(e,"ReadTimeoutError",(function(){return g})),n.d(e,"originatedError",(function(){return v}));var h=function(t){o(n,t);var e=a(n);function n(t,o,a){var i;return r(this,n),(i=e.call(this)).message="".concat(t," responded with a ").concat(o," (").concat(a,")"),i.name="BadServerResponseError",i}return n}(c(Error)),m=function(t){o(n,t);var e=a(n);function n(t){var o;return r(this,n),(o=e.call(this)).message=t,o.name="InvalidJsonError",o}return n}(c(Error)),g=function(t){o(n,t);var e=a(n);function n(t){var o;return r(this,n),(o=e.call(this)).message=t,o.name="ReadTimeoutError",o}return n}(c(Error));function v(t){return t.name===h.name||t.name===m.name||t.name===g.name}},"0c5a44d9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<3)throw Error("At least two parameters must be provided");var r=e.pop(),o=e.every((function(t){return t===e[0]}));return o?r.fn(this):r.inverse(this)}},"1160db06":function(t,e){var n=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function a(t,e,n){if(e.match(o)){!function t(e,n,r){if(0===n.length)return e=r;var o=n.shift(),a=o.match(/^\[(.+?)\]$/);if("[]"===o)return e=e||[],Array.isArray(e)?e.push(t(null,n,r)):(e._values=e._values||[],e._values.push(t(null,n,r))),e;if(a){var i=a[1],c=+i;isNaN(c)?(e=e||{})[i]=t(e[i],n,r):(e=e||[])[c]=t(e[c],n,r)}else e[o]=t(e[o],n,r);return e}(t,function(t){var e=[],n=new RegExp(o),r=/^([^\[\]]*)/.exec(t);for(r[1]&&e.push(r[1]);null!==(r=n.exec(t));)e.push(r[1]);return e}(e),n)}else{var r=t[e];r?(Array.isArray(r)||(t[e]=[r]),t[e].push(n)):t[e]=n}return t}function i(t,e,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+n}t.exports=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var o=e.hash?{}:"",c=e.serializer||(e.hash?a:i),s=t&&t.elements?t.elements:[],u=Object.create(null),l=0;l<s.length;++l){var f=s[l];if((e.disabled||!f.disabled)&&f.name&&(r.test(f.nodeName)&&!n.test(f.type))){var d=f.name,p=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(p=void 0),e.empty){if("checkbox"!==f.type||f.checked||(p=""),"radio"===f.type&&(u[f.name]||f.checked?f.checked&&(u[f.name]=!0):u[f.name]=!1),null==p&&"radio"==f.type)continue}else if(!p)continue;if("select-multiple"!==f.type)o=c(o,d,p);else{p=[];for(var h=f.options,m=!1,g=0;g<h.length;++g){var v=h[g],y=e.empty&&!v.value,b=v.value||y;v.selected&&b&&(m=!0,o=e.hash&&"[]"!==d.slice(d.length-2)?c(o,d+"[]",v.value):c(o,d,v.value))}!m&&e.empty&&(o=c(o,d,""))}}}if(e.empty)for(var d in u)u[d]||(o=c(o,d,""));return o}},"153087a3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7220c657");function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=o(n("4cbca5a5"));function i(t){var e,n=t.scheduledStartTime,o=(e=n)instanceof Date&&!isNaN(e.getMilliseconds());return r.h("div",{className:"event-teaser__timestamp"},o&&r.h("time",{dateTime:n.toISOString()},function(t){var e,n=(new Date).setHours(0,0,0,0),r=Math.floor((t.getTime()-n)/864e5),o=new Date(n).getFullYear()===t.getFullYear();switch(r){case 0:e="Today at "+a.default.format(t,"HH:mm");break;case 1:e="Tomorrow at "+a.default.format(t,"HH:mm");break;default:e=a.default.format(t,o?"EEEE, do MMMM":"EEEE, do MMMM yyyy")}return e}(n)))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}var u={source:"community-event-teaser",fit:"scale-down",dpr:2};function l(t,e,n){var r,o;void 0===n&&(n={});var a=new URL("https://www.ft.com/__origami/service/image/v2/images/raw/"+encodeURIComponent(t));try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(c(c({},u),{options:n}))),l=i.next();!l.done;l=i.next()){var f=s(l.value,2),d=f[0],p=f[1];a.searchParams.set(d,String(p))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a.searchParams.set("width",String(e)),a.href}var f=new Map([["XS",180],["Small",240],["Medium",340],["Large",420]]);function d(t){var e=t.url,n=t.title,o=t.eventUrl,a=t.lazyLoad,i=t.imageSize,c=void 0===i?"XS":i;if(!e)return null;var s=e;return e.startsWith("data:")||e.startsWith("blob:")||(s=l(e,f.get(c)||f.get("XS"))),r.h("div",{className:"event-teaser__image-container"},r.h("a",{"data-trackable":"event-teaser-image",href:o,tabIndex:-1,"aria-hidden":"true"},r.h("div",{className:"event-teaser__image-placeholder"},a?r.h("img",{className:"event-teaser__image "+("string"==typeof a?a:""),"data-src":s,alt:n}):r.h("img",{className:"event-teaser__image",src:s,alt:n}))))}function p(t){var e=t.location;return r.h("div",{className:"event-teaser__location"},e)}function h(t){var e=t.title,n=t.eventUrl;return r.h("div",{className:"event-teaser__title"},r.h("a",{"data-trackable":"event-teaser-title",href:n},e))}function m(t){var e=t.eventUrl,n=t.title;return r.h("div",{className:"event-teaser__button_container"},r.h("a",{className:"event-teaser__button","data-trackable":"event-teaser-button",href:e},"Register"," ",r.h("span",{className:"event-teaser__visually-hidden"}," for ",n)))}e.EventTeaser=function(t){var e=t.imgUrl,n=t.title,o=t.eventUrl,a=t.imageLazyLoad,c=void 0!==a&&a,s=t.layout,u=t.location,l=t.scheduledStartTime;return r.h("div",{className:"event-teaser event-teaser--"+s,"data-trackable":"event-teaser"},e&&r.h(d,{url:e,title:n,eventUrl:o,imageSize:"Small",lazyLoad:c}),r.h("div",{className:"event-teaser__content-container"},r.h(i,{scheduledStartTime:l}),r.h(p,{location:u}),r.h(h,{title:n,eventUrl:o}),r.h(m,{title:n,eventUrl:o})))}},"1547090c":function(t,e,n){"use strict";n.r(e),n.d(e,"popular",(function(){return a})),n.d(e,"topics",(function(){return i})),n.d(e,"anonTopics",(function(){return c})),n.d(e,"readingHistory",(function(){return s}));var r=function(t){return encodeURIComponent(t.replace(/\s+/g," "))},o="\n\tfragment BasicConcept on Concept {\n\t\ttype: __typename\n\t\tid\n\t\tprefLabel\n\t\tname: prefLabel\n\t\turl\n\t\tdirectType\n\t\trelativeUrl\n\t}\n",a=r("\n\t".concat("\nfragment Basic on Concept {\n\ttype: __typename\n\tid\n\tprefLabel\n\tname: prefLabel\n\turl\n\tdirectType\n\tlatestContent(limit: 5) {\n\t\tid\n\t\tpublishedDate\n\t\turl\n\t\ttitle\n\t\tisPremium\n\t\t... on Article {\n\t\t\tisPodcast\n\t\t}\n\t\tmainImage {\n\t\t\turl\n\t\t}\n\t}\n}\n",'\n\n\tquery {\n\t\tpopularConcepts(limit: 6, excludeTypes:["http://www.ft.com/ontology/Genre","http://www.ft.com/ontology/Section","http://www.ft.com/ontology/Location"]) {\n\t\t\t... Basic\n\t\t}\n\t}\n')),i=r("\n\t".concat(o,'\n\n\tquery MyFT($uuid: String!) {\n\t\tpopularConcepts(limit: 20, excludeTypes:["http://www.ft.com/ontology/Genre","http://www.ft.com/ontology/Section","http://www.ft.com/ontology/Location"]) {\n\t\t\t... BasicConcept\n\t\t},\n\t\tuser(uuid: $uuid) {\n\t\t\tconceptsFromReadingHistory(limit: 20) {\n\t\t\t\tid\n\t\t\t\tprefLabel\n\t\t\t\tdirectType\n\t\t\t}\n\t\t}\n\t}\n')),c=r("\n\t".concat(o,'\n\n\tquery {\n\t\tpopularConcepts(limit: 20, excludeTypes:["http://www.ft.com/ontology/Genre","http://www.ft.com/ontology/Section","http://www.ft.com/ontology/Location"]) {\n\t\t\t... BasicConcept\n\t\t}\n\t}\n')),s=r("\n\tquery MyFT($uuid: String!) {\n\t\tuser(uuid: $uuid) {\n\t\t\tconceptsFromReadingHistory(limit: 20) {\n\t\t\t\tid\n\t\t\t\tprefLabel\n\t\t\t\tdirectType\n\t\t\t}\n\t\t}\n\t}\n")},"1d447277":function(t,e,n){"use strict";n.r(e);var r=n("0461bd81"),o=n("7bac049d"),a=n("b5b7ab78"),i=n("b4722769"),c=[{name:"FTSE 100",symbol:"FTSE:FSI",type:"indices"},{name:"S&P 500",symbol:"INX:IOM",type:"indices"},{name:"Euro/Dollar",symbol:"EURUSD",type:"equities"},{name:"Pound/Dollar",symbol:"GBPUSD",type:"equities"},{name:"Brent Crude Oil",symbol:"IB.1:IEU",type:"equities"},{name:"10 Year US Gov",symbol:"JPMUS10YCMY:REU",type:"indices"}],s=[{name:"S&P 500",symbol:"INX:IOM",type:"indices"},{name:"Shanghai",symbol:"SHI:SHH",type:"indices"},{name:"FTSE 100",symbol:"FTSE:FSI",type:"indices"},{name:"Euro/Dollar",symbol:"EURUSD",type:"equities"},{name:"Brent Crude Oil",symbol:"IB.1:IEU",type:"equities"},{name:"10 Year US Gov",symbol:"JPMUS10YCMY:REU",type:"indices"}],u=n("f26e1e46"),l=n.n(u),f=n("7220c657"),d=n("8cad10c2");function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var h=function(t){return Object(f.h)("h2",{className:"o-teaser-collection__heading o-teaser-collection__heading--half-width"},t.url?Object(f.h)("a",{href:t.url,"data-trackable":"section-title"},t.title):t.title)},m=function(t){var e=t.items,n=e.slice(1,4);return Object(f.h)("div",{className:"o-grid-row"},Object(f.h)("div",{"data-o-grid-colspan":"12 L6"},Object(f.h)(d.Teaser,p({},e[0],d.presets.Large))),Object(f.h)("div",{"data-o-grid-colspan":"12 L6"},n.map((function(t){return Object(f.h)(d.Teaser,p({},t,d.presets.Small,{showStandfirst:!0}))}))))},g=function(t){return Object(f.h)("section",{className:"o-teaser-collection js-track-scroll-event","data-trackable":"regional-top-stories"},Object(f.h)(h,t),Object(f.h)(m,{items:t.items}))},v=n("66f22398"),y=n.n(v);function b(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=function(t){if(!t)throw new Error("Section argument not supplied");var e=b(document.querySelectorAll("section"));if(!e.includes(t))throw new Error("Cannot find section in page");var n=e.slice(0,e.indexOf(t)).map((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=new Set;return b(t.querySelectorAll(".o-teaser")).forEach((function(t){return e.add(t.dataset.id)})),e}(t)})).reduce((function(t,e){return t.push.apply(t,b(e)),t}),[]);return new Set(n)};var O=n("33cab54f"),x=n("08a04e80");function E(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){E(a,r,o,i,c,"next",t)}function c(t){E(a,r,o,i,c,"throw",t)}i(void 0)}))}}var k=document.querySelector('[data-section-container="regional-news"]');function j(t){var e=new URLSearchParams({format:"teaser",source:"next-front-page:regional-news-section"}),n=S(k.querySelector("section"));return fetch("/__myft/api/onsite/country-feed/".concat(t,"?").concat(e.toString()),{credentials:"include",timeout:5e3}).then(x.json).then((function(t){return t.items=t.items.filter((function(t){var e=t.id;return!n.has(e)})),t}))}function A(t){var e=new URLSearchParams(window.location.search).get("countryCode");if(e&&/([A-Z]{2,3})/.test(e))return Promise.resolve(e);if(!t)return"GBR";return fetch("/__myft/users/".concat(t,"/country"),{credentials:"include",timeout:5e3}).then(x.json).then((function(t){return t.countryCode}))}var P=function(){var t=_(l.a.mark((function t(e,n,r,o){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&r.items){t.next=2;break}return t.abrupt("return");case 2:a={flags:o,items:r.items,storyCount:4,show:!0,title:"".concat(r.title," News"),url:r.url},Object(f.render)(Object(f.h)(n,a),e,e.querySelector("section")),Object(O.broadcast)("oTracking.event",{category:"front-page-myft",action:"regional-news-mounted",detail:{country:r.title}});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),I=function(){var t=_(l.a.mark((function t(e){var n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,y()();case 5:return n=t.sent,t.next=8,A(n);case 8:if("GBR"===(r=t.sent)||"USA"===r){t.next=15;break}return t.next=12,j(r);case 12:if(!((o=t.sent).items&&o.items.length>=4)){t.next=15;break}return t.abrupt("return",P(k,g,o,e));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),window.setTimeout((function(){throw t.t0}));case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),T=n("5ea01441"),M=n("35e4b704"),C=n("4f3b310b"),L=n.n(C),N=n("ef993469"),R=n.n(N),z=n("fd6a6621"),F=n.n(z);function D(t){return function(t){if(Array.isArray(t))return U(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}var H=function(t){return t.filter((function(e,n){return t.findIndex((function(t){return t.conceptId===e.conceptId}))===n}))},V=function(){var t,e=(t=l.a.mark((function t(e,n){var r,o,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F()(e,n);case 3:return r=t.sent,o=[].concat(D(r.historicConcepts),D(r.popularConcepts)),a=H(o),t.abrupt("return",(i=a).length>20?i.splice(0,20):i);case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}var i}),t,null,[[0,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){B(a,r,o,i,c,"next",t)}function c(t){B(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),q=n("80f7e8f4"),G=n.n(q),$=n("004531ae"),W=n.n($),Y=n("78b00075"),J=n.n(Y);function K(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Z(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Q(a,r,o,i,c,"next",t)}function c(t){Q(a,r,o,i,c,"throw",t)}i(void 0)}))}}var tt,et,nt={},rt=function(){var t=Z(l.a.mark((function t(e){var n,a,i,c,s=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,i=Object.assign(n,{title:n.title||"Visit myFT feed",url:"/myft",flags:a.getAll(),followButtonVariant:"inverse",userId:et}),t.next=5,r.client.init();case 5:c=e(i),tt.innerHTML=c,tt.setAttribute("data-animate","fade-in"),r.ui.updateUi(tt),document.body.dispatchEvent(new CustomEvent("asyncContentLoaded")),o.init({anonymous:!/FTSession=/.test(document.cookie),flags:a}),a.get("myftPrioritiseTopicsOnHomepage")&&a.get("myftPrioritiseTopics")&&Object(T.default)(),M.default.init(tt);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ot=function(){var t=Z(l.a.mark((function t(){var e,n,r,o,a,i,c,s=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:3,t.next=3,y()();case 3:if(!(n=t.sent)){t.next=10;break}return t.next=7,W()(n,"myft-section");case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=[];case 11:if(r=t.t0,nt.flags.get("myftPrioritiseTopicsOnHomepage")&&r.forEach((function(t){t.isFollowing=t.signals&&t.signals.followed})),o=K(r),!(r.length<e)){t.next=26;break}if(!n){t.next=21;break}return t.next=18,G()(nt.flags,n).catch((function(){return[]}));case 18:t.t1=t.sent,t.next=22;break;case 21:t.t1=[];case 22:a=t.t1,i=Array.isArray(a.concepts)?a.concepts:[],c=i.filter((function(t){return!r.find((function(e){return t.id===e.id}))})),o.push.apply(o,K(c));case 26:return t.abrupt("return",{followsConcepts:r.filter((function(t){var e=t.signals;return(e=void 0===e?{}:e).followed})).length>0,concepts:o.slice(0,e)});case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),at=function(){var t=tt.querySelectorAll('[data-myft-ui="follow"] [aria-pressed="true"]').length>=1,e=tt.querySelector("[data-section-cta]");e&&e.classList.toggle("n-ui-hide",!t)},it=function(){var t=Z(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot();case 2:return e=t.sent,t.abrupt("return",lt({concepts:e.concepts,flags:nt.flags}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ct=function(){document.addEventListener("myft.user.followed.concept.add",at),document.addEventListener("myft.user.followed.concept.remove",at)},st=function(){document.addEventListener("myft.user.prioritised.concept.add",it),document.addEventListener("myft.user.prioritised.concept.remove",it)},ut=function(){var t=Z(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e,et);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",rt(R.a,{topics:n},e).then(ct));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var t=Z(l.a.mark((function t(e){var n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.concepts,r=e.flags,J()(n),o=Object.assign({},{id:"myft",title:'<a href="/myft" class="section-meta__link section-meta__link--myft-logo" data-trackable="section-title"><span class="section-meta__myft-icon">myFT</span></a>',sponsorshipInfo:{text:"In association with",imageUrl:"https://www.ft.com/__assets/creatives/third-party/ntt-communications-blue.png",alt:"NTT Sponsorship",textClasses:"myft-sponsor__text",imageClasses:"myft-sponsor__image",width:"133",height:"43",clickthroughUrl:"http://www.ntt.com/en/lp/glance?utm_source=other&utm_medium=display&utm_campaign=gbc_d_tp&utm_content=uk_ci__fti_003"},trackScrollEvent:!0,isClient:!0},{data:{content:n}}),t.abrupt("return",rt(L.a,o,r).then(st));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var t=Z(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return nt.flags=e,t.next=3,y()();case 3:if(et=t.sent,e.get("myFtApi")&&e.get("frontPageMyFtSection")){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,tt=document.querySelector('[data-section-container="myft"]'),t.next=10,ot();case 10:if(!(n=t.sent).followsConcepts){t.next=15;break}return t.abrupt("return",lt({concepts:n.concepts,flags:e}));case 15:return t.abrupt("return",ut(e));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),window.setTimeout((function(){throw t.t0}));case 21:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e){return t.apply(this,arguments)}}(),dt=n("c10c62db"),pt=n("2588dbc0"),ht={upNext:function(t){return'\n\t<a class="video-section__autoplay-up-next" data-trackable="manual" href="'.concat(t.url,'">\n\t\t<i class="video-section__autoplay-up-next__icon"></i>\n\t\t<h2 class="video-section__autoplay-up-next__label">\n\t\t\t<span aria-hidden="true">Up Next</span>\n\t\t\t<span class="o-normalise-visually-hidden">Related videos</span>\n\t\t</h2>\n\t\t<p class="video-section__autoplay-up-next__heading">').concat(t.title,'</p>\n\t\t<span class="video-section__autoplay-up-next__duration">').concat(t.duration,"</span>\n\t</a>\n")},share:function(t){return'\n\t<div data-o-component="o-share"\n\t\tclass="o-share o-share--small o-share--inverse video-section__share"\n\t\tdata-o-share-links="twitter facebook whatsapp linkedin link"\n\t\tdata-o-share-url="'.concat(t.url,'"\n\t\tdata-o-share-title="').concat(t.title,'"\n\t\tdata-o-share-titleExtra="Video">\n\t</div>\n')}},mt=n("946b88c4");function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yt=[".o-teaser__meta"],bt={queue:[],player:null,playlist:null,sharer:null,autoplay:null,playsFullScreen:null,elements:{videoPlayer:null,playlistItems:null,shareWrapper:null,playerWrapper:null,saveForLaterForm:null,saveForLaterButton:null,upNext:null}};function wt(t){bt.elements.videoPlayer=Object(O.$)(".video-section__player"),bt.elements.playlistItems=Object(O.$$)(".video-section__item"),bt.elements.videoPlayer&&bt.elements.playlistItems&&(bt.elements.shareWrapper=Object(O.$)(".video-section__share-wrapper"),bt.elements.playerWrapper=Object(O.$)(".video-section__column--player"),bt.elements.saveForLaterForm=Object(O.$)(".n-myft-ui--save",bt.elements.playerWrapper),bt.elements.saveForLaterButton=Object(O.$)(".n-myft-ui__button",bt.elements.saveForLaterForm),bt.elements.upNext=Object(O.$)(".js-video-up-next"),bt.queue=bt.elements.playlistItems.map(xt),bt.elements.videoPlayer.addEventListener("playing",St,!0),bt.elements.playlistItems.forEach((function(t){Object(O.$$)("a:not(.o-teaser__tag)",t).forEach((function(e){e.addEventListener("click",(function(e){bt.autoplay&&clearTimeout(bt.autoplay),Ot(t),e.preventDefault()}))}))})),function(t){bt.player=new a.default(bt.elements.videoPlayer,{advertising:t.get("ads")&&t.get("videoPlayerAdvertising"),playsinline:!0,placeholder:!0,optimumwidth:600,placeholderInfo:[],systemcode:"next-front-page"}),bt.playlist=new a.default.Playlist({player:bt.player,queue:bt.queue.map((function(t){return t.id})),autoplay:!1}),bt.sharer=new mt.default(Object(O.$)(".video-section__share")),bt.elements.videoPlayer.addEventListener("ended",kt,!0),bt.elements.videoPlayer.addEventListener("playing",Pt,!0),bt.elements.playlistItems[0].classList.add("video-section__item--now-playing")}(t),t.get("ads")&&t.get("videoPlayerAdvertising")&&document.body.addEventListener("oTracking.event",(function(t){return function(t){if(t.detail&&"adSkip"===t.detail.action){var e=bt.player.videoEl;if(!e)return;e.setAttribute("tabindex",0),e.focus()}}(t)})))}function St(){var t=jt(bt.playlist.currentIndex);t&&Et(t)}function Ot(t){if(!bt.player.videoAds.adsManager||!bt.player.videoAds.adsManager.getCurrentAd()){var e,n=xt(t);bt.elements.upNext.innerHTML="",Et(t),function(t){yt.forEach((function(e){var n=Object(O.$)(e,bt.elements.playerWrapper),r=Object(O.$)(e,t).cloneNode(!0);n.parentNode.replaceChild(r,n)}))}(t),function(t){var e=bt.queue.findIndex((function(e){return e.id===t.id}));bt.playlist.currentIndex=e,bt.player.update({id:t.id}).then((function(){bt.player.play()}))}(n),function(t){if(t&&t.id&&t.title){var e="true"===bt.elements.saveForLaterButton.getAttribute("aria-pressed"),n="Save ".concat(t.title," to myFT for later");e&&Object(pt.toggleState)(bt.elements.saveForLaterButton),bt.elements.saveForLaterForm.setAttribute("data-content-id",t.id),bt.elements.saveForLaterButton.setAttribute("data-content-id",t.id),bt.elements.saveForLaterButton.setAttribute("aria-label",n),bt.elements.saveForLaterButton.setAttribute("title",n),r.ui.updateUi(bt.elements.playerWrapper)}else console.error("Couldn’t find a title/URL for the current video teaser")}(n),(e=n)&&e.url&&e.title?(_t(ht.share(e)),bt.sharer=new mt.default(Object(O.$)("[data-o-component=o-share]",bt.elements.shareWrapper)),Object(O.$$)(".o-share__icon",bt.elements.shareWrapper).forEach((function(t){var e=gt(/o-share__icon--([^\s]*)/.exec(t.className),2)[1];t.querySelector("a").setAttribute("data-trackable",e)}))):(_t(""),console.error("Couldn’t find a title/URL for the current video teaser"))}}function xt(t){var e=Object(O.$)(".js-teaser-heading-link",t),n=Object(O.$)(".o-teaser__tag-suffix"),r=e.getAttribute("href");return{id:r.replace("/video/",""),title:e.innerText,url:r,duration:n.innerText}}function Et(t){bt.elements.playlistItems.forEach((function(t){t.classList.remove("video-section__item--now-playing")})),t.classList.add("video-section__item--now-playing")}function _t(t){bt.sharer&&bt.sharer.destroy&&(bt.sharer.destroy(),bt.sharer=null),bt.elements.shareWrapper.innerHTML=t}function kt(){if(!(bt.player.videoAds.adsManager&&bt.player.videoAds.adsManager.getCurrentAd()||bt.playsFullScreen)){var t=bt.playlist.currentIndex+1;if(!(t>=bt.queue.length)){var e=jt(t);e&&function(t){var e=xt(t);bt.elements.upNext.innerHTML=ht.upNext(e),Object(O.$)("a",bt.elements.upNext).addEventListener("click",(function(e){Ot(t),e.preventDefault()})),bt.elements.videoPlayer.addEventListener("playing",At,!0),bt.autoplay=setTimeout((function(){bt.elements.videoPlayer.removeEventListener("playing",At,!0),Ot(t)}),5e3)}(e)}}}function jt(t){var e=bt.elements.playlistItems[t];return e&&null!==e.offsetParent?e:void 0}function At(){clearTimeout(bt.autoplay),bt.elements.upNext.innerHTML=""}function Pt(t){bt.playsFullScreen=(t.target,!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||bt.player.videoEl.webkitDisplayingFullscreen)),bt.elements.videoPlayer.removeEventListener("playing",Pt,!0)}var It=n("4acd4fb0"),Tt=n("c735c384"),Mt=n("d2988f39"),Ct=n("1c5be40c"),Lt=n("6d73a2e3"),Nt=n("3c85f3e3");function Rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||Dt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Dt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ft(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Dt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bt=function(t){var e=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;e&&e.mark&&(e.clearMarks(t),e.mark(t))};function Ht(t){var e="";return t&&"object"==typeof t&&"pos"in t&&"name"in t&&(e="__"+[t.pos,t.name,t.size,t.creativeId].join("__")),e}function Vt(t,e,n){t="oAds.".concat(t),(n=n||document.body||document.documentElement).addEventListener(t,e)}function qt(t,e){var n;if(performance&&performance.getEntriesByType){var r=t.filter((function(t){return e.includes(t.spoorAction)})).map((function(t){return t.marks})),o=(n=[]).concat.apply(n,Ft(r));performance.getEntriesByType("mark").forEach((function(t){var e=t.name;o.forEach((function(t){e.match("oAds.".concat(t))&&performance.clearMarks(e)}))}))}}var Gt,$t,Wt,Yt={post:function(t,e){t="string"==typeof t?t:JSON.stringify(t),(e=arguments[1]||window.top).postMessage(t,"*")},parse:function(t){if("string"!=typeof t||"{"!==t[0])return t;try{return JSON.parse(t)}catch(e){return t}}};function Jt(){var t,e=Nt.default.getSize(!0);return Object.keys($t).forEach((function(n){var r=$t[n];e.width>=r[0]&&e.height>=r[1]&&(!t||r[0]>=$t[t][0])&&(t=n)})),t}function Kt(){var t=Jt();Wt!==t&&(Xt(t),Gt(t))}function Xt(t){Wt=t}function Qt(){return Wt}function Zt(t,e){return!!fe.isFunction(e)&&($t=t,Gt=e,Xt(Jt()),document.body.addEventListener("oViewport.orientation",Kt),document.body.addEventListener("oViewport.resize",Kt),Nt.default.listenTo("orientation"),Nt.default.listenTo("resize"),Qt())}function te(){var t,e;-1==="log warn error info".indexOf(arguments[0])?(t="log",e=0):(t=arguments[0],e=1);var n=[].slice.call(arguments,e);te.isOn(t)&&window.console[t].apply(window.console,n)}Nt.default.setThrottleInterval;var ee=Object.prototype.hasOwnProperty;function ne(t){var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1];return null===t?"Null":void 0===t?"Undefined":e}Zt.getCurrent=Qt,te.start=function(t){te.isOn("groupCollapsed")&&window.console.groupCollapsed(t||"o-ads")},te.end=function(){te.isOn("groupEnd")&&window.console.groupEnd()},te.isOn=function(t){return(localStorage&&localStorage.getItem("oAds")||-1!==location.search.indexOf("DEBUG=OADS"))&&window.console&&window.console[t]},te.info=function(){var t=["info"].concat([].slice.call(arguments,0));te.apply(null,t)},te.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));te.apply(null,t)},te.error=function(){var t=["error"].concat([].slice.call(arguments,0));te.apply(null,t)},te.table=function(t,e){te.isOn("log")&&window.console&&(console.table?console.table(t,e):console.log(t))},te.attributeTable=function(t,e){if(te.isOn("log")&&window.console)if(t&&console.table){var n=Object.keys(t).map((function(e){return{key:e,value:re(t[e])||ie(t[e])?JSON.stringify(t[e]):t[e]}}));console.table(n,e)}else console.log(t)};var re=function(t){return"Array"===ne(t)},oe=function(t){return"String"===ne(t)},ae=function(t){return"Function"===ne(t)},ie=function(t){return"Object"===ne(t)},ce=function(t){return t&&null!==t&&t===window},se=function(t){var e,n=Object.prototype.hasOwnProperty;if(!t||!ie(t)||t.nodeType||ce(t))return!1;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(e in t);return void 0===e||n.call(t,e)};var ue=function(t){return t.replace(/(-)([a-z])/g,(function(t,e,n){return n.toUpperCase()}))},le=Math.random();var fe={on:Vt,off:function(t,e,n){t="oAds.".concat(t),(n=n||document.body||document.documentElement).removeEventListener(t,e)},once:function(t,e,n){Vt(t,(function(n){(n.target||n.srcElement).removeEventListener(t="oAds.".concat(t),e),e&&(e(n),e=null)}),n)},broadcast:function(t,e,n){n=n||document.body||document.documentElement,t="oAds.".concat(t);var r={bubbles:!0,cancelable:!0,detail:e},o=Ht("object"==typeof e&&"pos"in e?{pos:e.pos,name:e.name,size:e.size&&e.size.length?e.size.toString():"",creativeId:e.creativeId}:{});Bt(t+o),n.dispatchEvent(new CustomEvent(t,r))},messenger:Yt,responsive:Zt,log:te,isArray:re,isString:oe,isFunction:ae,isStorage:function(t){return"Storage"===ne(t)},isObject:ie,isWindow:ce,isPlainObject:se,isNonEmptyString:function(t){return oe(t)&&Boolean(t.length)},isElement:function(t){return t&&1===t.nodeType&&t.tagName||!1},extend:function t(){var e,n,r,o,a=arguments[0]||{},i=arguments.length,c=!1,s=1;if("boolean"==typeof a&&(c=a,a=arguments[1]||{},s=2),"object"==typeof a||ae(a)||(a={}),i===s)return a;for(;s<i;s++)if(null!==(e=arguments[s]))for(var u in e)if(e.hasOwnProperty(u)){if(n=a[u],a===(r=e[u]))continue;c&&r&&(se(r)||re(r))?(re(r)?(!1,o=n&&re(n)?n:[]):o=n&&ie(n)?n:{},a[u]=t(c,o,r)):void 0!==r&&(a[u]=r)}return a},hash:function(t,e,n){var r,o={};if(t&&t.split)for(var a=0,i=(t=t.split(e)).length;a<i;a+=1)(r=t[a].split(n)).length>1&&(o[r[0].trim()]=r.slice(1).join(n));return o},attach:function(t,e,n,r,o){var a=document.createElement("script"),i=document.getElementsByTagName("script")[0],c=!1;function s(t){c||(t.call(),c=!0,o&&a.parentElement.removeChild(a))}return a.setAttribute("src",t),a.setAttribute("o-ads",""),e&&(a.async="true"),ae(n)&&(ee.call(a,"onreadystatechange")?a.onreadystatechange=function(){"loaded"===a.readyState&&s(n)}:a.onload=function(){s(n)}),ae(r)&&(a.onerror=function(){s(r)}),i.parentNode.insertBefore(a,i),a},getReferrer:function(){return document.referrer||""},dehyphenise:ue,parseAttributeName:function(t){var e=oe(t)?t:t.name;return ue(e.replace(/(data-)?o-ads-/,""))},getLocation:function(){return document.location.href||""},getQueryString:function(){return document.location.search.substring(1)||""},getQueryParamByName:function(t,e){e=e||window.location.href,t=t.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getTimestamp:function(){var t=new Date;return[t.getFullYear(),"0".concat(t.getMonth()+1).slice(-2),"0".concat(t.getDate()).slice(-2),"0".concat(t.getHours()).slice(-2),"0".concat(t.getMinutes()).slice(-2),"0".concat(t.getSeconds()).slice(-2)].join("")},iframeToSlotName:function(t){for(var e,n,r=document.getElementsByTagName("iframe"),o=r.length;o--;)if(r[o].contentWindow===t){n=r[o];break}if(n)for(;n.parentNode;){if(e=n.getAttribute("data-o-ads-name"))return e;n=n.parentNode}return!1},buildObjectFromArray:function(t){return t.reduce((function(t,e){return t[e.key]=e.value,t}),{})},cookie:function(t){var e=document.cookie.match("(^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)"));return e?e.pop():null},getVersion:function(){return"18.3.3"},setupMetrics:function(t,e,n){Array.isArray(t)?t.forEach((function(t){(n||fe.inSample(t.sampleSize))&&(Array.isArray(t.triggers)?t.triggers:[]).forEach((function(n){!function(t,e,n){document.addEventListener(t,(function r(o){!function(t,e,n){var r=fe.buildPerfmarkSuffix(e),o=function(t,e){var n=t.map((function(t){return"oAds."+t+e}));if(!performance||!performance.getEntriesByName)return{};var r={};return n.forEach((function(t){var n=performance.getEntriesByName(t),o=t.replace("oAds.","").replace(e,"");if(n&&n.length)r[o]=Math.round(n[0].startTime);else if(e){var a=t.replace(e,""),i=performance.getEntriesByName(a);i&&i.length&&(r[o]=Math.round(i[0].startTime))}})),r}(t.marks,r);if(t.navigation){var a=function(t){if(!performance||!performance.getEntriesByType||!fe.isArray(t))return{};var e=performance.getEntriesByType("navigation"),n=fe.isArray(e)&&e[0]||{},r={};return t.forEach((function(t){r[t]="number"==typeof n[t]?Math.round(n[t]):0})),r}(t.navigation);Object.assign(o,a)}var i={category:"ads",action:t.spoorAction,timings:{marks:o}};i.advert={correlator:window.oAds.gpt.getCorrelator()},e&&"pos"in e&&(i.creative={name:e.name,pos:e.pos,size:e.size&&e.size.toString(),creativeId:e.creativeId||0},"boolean"==typeof e.isEmpty&&(i.creative.isEmpty=e.isEmpty));n(i)}(e,o.detail,n),e.multiple||document.removeEventListener(t,r)}))}("oAds."+n,t,e)}))})):this.log.warn("Metrics definitions should be an array. o-Ads will not record any metrics.")},clearPerfMarks:qt,markPageChange:function(t,e){qt(t,e),fe.broadcast("pageChange")},inSample:function(t){return void 0===t||t>le},perfMark:Bt,buildPerfmarkSuffix:Ht},de={formats:{MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0},displayLabelWithBorders:!1};function pe(){this.store={}}pe.prototype.access=function(t,e){var n;return fe.isPlainObject(t)?(fe.extend(!0,this.store,t),n=this.store):void 0===e?n=void 0===t?this.store:this.store[t]:(this.store[t]=e,n=e),n},pe.prototype.clear=function(t){t?delete this.store[t]:this.store={}},pe.prototype.init=function(){var t,e,n;return this.store=fe.extend(!0,{},de,((n=document.querySelector('link[rel="canonical"]'))&&(e=n.href),{canonical:e}),(t={},Array.from(document.querySelectorAll("script[data-o-ads-config]")).forEach((function(e){t=window.JSON?fe.extend(t,JSON.parse(e.innerHTML)):"UNSUPPORTED"})),t)),this.store};var he=new pe,me=he.access.bind(he),ge=he.init.bind(he),ve=he.clear.bind(he),ye=["fluid"],be=["before","after","never"],we={sizes:function(t,e){if(!1===t||"false"===t)return!1;if(fe.isArray(e)){var n=/(\d+)x(\d+)/;t.split(",").filter((function(t){return t.length})).forEach((function(t){n.test(t)?t.replace(n,(function(t,n,r){e.push([parseInt(n,10),parseInt(r,10)])})):ye.indexOf(t)>=0&&e.push(t)}))}return e},formats:function(t,e){if(!1===t||"false"===t)e=!1;else{var n=me().formats,r=fe.isArray(t)?t:t.split(",");r.forEach((function(t){n&&n[t]?(t=n[t],fe.isArray(t.sizes[0])||ye.indexOf(t.sizes[0])>=0?t.sizes.forEach((function(t){e.push(t)})):e.push(t.sizes)):fe.log.error("Slot configured with unknown format ".concat(t))}))}return e},responsiveSizes:function(t,e,n){var r=t.replace(/^sizes/,"").toLowerCase();return fe.isPlainObject(n)||(n={}),n[r]=we.sizes(e,n[r]||[]),n},responsiveFormats:function(t,e,n){var r=t.replace(/^formats/,"").toLowerCase();return fe.isPlainObject(n)||(n={}),n[r]=we.formats(e,[]),n},lazyLoadThreshold:function(t){return t.split(",").map(Number)},targeting:function(t,e){return t=fe.hash(t,";","="),fe.extend(e,t),e},base:function(t){return""===t||"true"===t?t=!0:"false"===t&&(t=!1),t},collapseEmpty:function(t){if(-1!==be.indexOf(t))return t;fe.log.warn("Invalid attribute ".concat(t," used for collapse-empty attribute, please use 'before', 'after' or 'never'"))}},Se=function(t){!0===t.lazyLoad&&(t.lazyLoad={})},Oe=function(t){var e=t.detail.slot;e.screensize=t.detail.screensize,e.hasValidSize()?e.uncollapse():(e.collapse(),e.clear())};function xe(t,e,n){var r=this,o=me(),a=me("slots")||{};this.container=t,e&&(this.screensize=e),this.outer=this.addContainer(t,{class:"o-ads__outer","aria-hidden":"true",tabindex:"-1"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),a=a[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=a.targeting||{},this.sizes=a.sizes||[],this.center=a.center||!1,this.label=a.label||!1,this.outOfPage=a.outOfPage||!1,this.companion=!1!==a.companion,this.collapseEmpty=a.collapseEmpty,fe.isArray(a.formats)?we.formats(a.formats,this.sizes):fe.isPlainObject(a.formats)&&(this.sizes={},Object.keys(a.formats).forEach((function(t){r.sizes[t]=we.formats(a.formats[t],[])}))),void 0!==a.lazyLoad?this.lazyLoad=a.lazyLoad:this.lazyLoad=me("lazyLoad")||!1;var i=t.querySelector(".o-ads__outer");if(i&&o.displayLabelWithBorders&&this.container.getAttribute("data-o-ads-label")){var c=["left","center","right"],s=this.container.getAttribute("data-o-ads-label");fe.once("slotRenderStart",(function(){var t=c.indexOf(s)?s:"left";i.classList.add("o-ads--label-with-borders","o-ads--label-with-borders--".concat(t))}))}if(this.parseAttributeConfig(),!this.sizes.length&&!fe.isPlainObject(this.sizes))return fe.log.error("slot %s has no configured sizes!",this.name),!1;this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),this.initResponsive()}xe.prototype.parseAttributeConfig=function(){var t=this;Array.from(this.container.attributes).forEach((function(e){var n=fe.parseAttributeName(e.name),r=e.value;"formats"===n?t[n]=we[n](r,t.sizes):"collapseEmpty"===n?t.collapseEmpty=we.collapseEmpty(r):"lazyLoadThreshold"===n&&t.lazyLoad?(Se(t),t.lazyLoad.threshold=we.lazyLoadThreshold(r)):"lazyLoadViewportMargin"===n&&t.lazyLoad?(Se(t),t.lazyLoad.viewportMargin=we.base(r)):we[n]?t[n]=we[n](r,t[n]):/^formats\w*/.test(n)?t.sizes=we.responsiveFormats(n,r,t.sizes):/^sizes\w*/.test(n)?t.sizes=we.responsiveSizes(n,r,t.sizes):t.hasOwnProperty(n)&&(t[n]=we.base(r))}))},xe.prototype.getAttributes=function(){var t={};return Array.from(this.container.attributes).forEach((function(e){t[fe.parseAttributeName(e)]=e.value})),this.attributes=t,this},xe.prototype.initLazyLoad=function(){var t=this;return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&fe.once("masterLoaded",(function(){t.hasValidSize()&&t.render()}),this.container)),this},xe.prototype.render=function(){this.fire("slotCanRender"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},xe.prototype.initResponsive=function(){return fe.isPlainObject(this.sizes)&&(this.hasValidSize()||this.collapse(),fe.on("breakpoint",Oe,this.container)),this},xe.prototype.maximise=function(t){t&&100===Number(t[0])&&100===Number(t[1])&&this.fire("resize",{size:["100%","100%"]})},xe.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-".concat(Math.floor(1e4*Math.random())),this.container.setAttribute("data-o-ads-name",this.name)),this},xe.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-".concat(this.name)),fe.broadcast("collapsed",this),this},xe.prototype.addClass=function(t){return this.container.classList.add("o-ads-".concat(t)),fe.broadcast("slotClassAdded",this),this},xe.prototype.setFormatLoaded=function(t){return this.container.setAttribute("data-o-ads-loaded",t),this},xe.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-".concat(this.name)),this},xe.prototype.clear=function(){return fe.isFunction(this.clearSlot)&&this.clearSlot(),this},xe.prototype.destroy=function(){return fe.isFunction(this.destroySlot)&&(fe.off("breakpoint",Oe,this.container),this.destroySlot(),this.outer.parentElement===this.container?this.container.removeChild(this.outer):console.error("Error destroying ad slot. The parent node has already been removed.")),this},xe.prototype.submitImpression=function(){return fe.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},xe.prototype.fire=function(t,e){var n=this.gpt||{},r={name:this.name||"",pos:this.targeting&&this.targeting.pos||"",size:n.size||"",creativeId:n.creativeId||"",slot:this};return"boolean"==typeof n.isEmpty&&(r.isEmpty=n.isEmpty),fe.isPlainObject(e)&&fe.extend(r,e),fe.broadcast(t,r,this.container),this},xe.prototype.addContainer=function(t,e){var n="<div ";return e&&Object.keys(e).forEach((function(t){var r=e[t];n+="".concat(t,"=").concat(r," ")})),n+="></div>",t.insertAdjacentHTML("beforeend",n),t.lastChild},xe.prototype.hasValidSize=function(t){return!(t=t||this.screensize)||!fe.isPlainObject(this.sizes)||!1!==this.sizes[t]},xe.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},xe.prototype.labelContainer=function(){var t;return!0===this.label||"left"===this.label?t="label-left":"right"===this.label&&(t="label-right"),t&&!me("displayLabelWithBorders")&&this.container.classList.add("o-ads--".concat(t)),this};var Ee=null;function _e(){}function ke(t,e,n){var r=[];return t=t||Object.keys(this),fe.isNonEmptyString(t)?r.push(t):fe.isArray(t)&&(r=t),r.forEach(je.bind(null,this,e)),fe.isFunction(n)&&n.call(this,r),this}function je(t,e,n){var r=t[n];r?fe.isFunction(r[e])?r[e]():fe.isFunction(r.fire)?r.fire(e):fe.log.warn("Attempted to %s on a non-slot %s",e,n):fe.log.warn("Attempted to %s non-existant slot %s",e,n)}function Ae(t){if(!t)return!1;var e=me("formats");for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].sizes;if((r=fe.isArray(r[0])?r:[r]).filter((function(e){return e[0]===parseInt(t[0],10)&&e[1]===parseInt(t[1],10)})).length)return n}}function Pe(t,e){t.forEach((function(t){if(t){var n=t.container&&"Responsive"===t.container.getAttribute("data-o-ads-loaded"),r=t.sizes[e]&&t.sizes[e].filter((function(t){return"Responsive"===Ae(t)})).length>0;if(n&&r)return!1;t.screensize=e,t.fire("breakpoint",{screensize:e})}}))}_e.prototype.collapse=function(t){return ke.call(this,t,"collapse")},_e.prototype.uncollapse=function(t){return ke.call(this,t,"uncollapse")},_e.prototype.refresh=function(t){return ke.call(this,t,"refresh")},_e.prototype.clear=function(t){return ke.call(this,t,"clear")},_e.prototype.destroy=function(t){return ke.call(this,t,"destroy",(function(t){var e=this;t.forEach((function(t){e[t]=null,delete e[t]}))}))},_e.prototype.submitImpression=function(t){return ke.call(this,t,"submitImpression")},_e.prototype.initSlot=function(t){if(fe.isString(t)&&(t=document.getElementById(t)||document.querySelector('[data-o-ads-name="'.concat(t,'"]')))&&t.id&&(t.setAttribute("data-o-ads-name",t.id),t.removeAttribute("id")),!fe.isElement(t))return fe.log.error("slot container must be an element!",t),!1;t.setAttribute("aria-hidden","true");var e=new xe(t,Ee,this.initLazyLoading.bind(this));return e&&!this[e.name]?(this[e.name]=e,e.fire("slotReady")):this[e.name]&&fe.log.error("slot %s is already defined!",e.name),e},_e.prototype.initRefresh=function(){var t=this;if(me("flags").refresh&&me("refresh")){var e=me("refresh");if(this.refreshCount=0,e.time&&!e.inview){setInterval((function n(){!e.max||t.refreshCount++<e.max?t.refresh():t.refreshCount>=e.max&&clearInterval(n)}),1e3*(parseFloat(e.time)||1))}}return this},_e.prototype.initRendered=function(){return fe.on("slotRenderStart",function(t,e){var n=t[e.detail.name];if(n){fe.extend(n[n.server],e.detail[n.server]);var r=e.detail.gpt.size,o=Ae(r);n.setFormatLoaded(o),n.maximise(r),n.fire("slotExpand",e.detail)}}.bind(null,this)),this},_e.prototype.initResponsive=function(){var t=me("responsive");return fe.isObject(t)&&(Ee=fe.responsive(t,Pe.bind(null,this))),this},_e.prototype.initPostMessage=function(){window.addEventListener("message",function(t,e){var n=fe.messenger.parse(e.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){var r=n.type.replace("oAds.",""),o=fe.iframeToSlotName(e.source.window),a=t[o]||!1;if(!a)return void fe.log.error("Message received from unidentified slot");"adIframeLoaded"===r?a.fire("slotRenderEnded"):"slotClass"===r&&n.slotClass?a.addClass(n.slotClass):"collapse"===r?(a.fire("slotCollapsed"),a.collapse()):/^touch/.test(n.type)?a.fire("touch",n):fe.log.error("Unknown message received from o-ads-embed")}}.bind(null,this),!1)},_e.prototype.flushLazyLoading=function(){this.lazyLoadingObservers=this.lazyLoadingObservers.filter((function(t){return Boolean(!t.root||document.contains(t.root))}))},_e.prototype.initLazyLoading=function(t){var e=me("lazyLoad")||t|{};this.lazyLoadingObservers=this.lazyLoadingObservers||[],this.flushLazyLoading();var n=this.lazyLoadingObservers.find((function(t){return e.root==t.root}));if("IntersectionObserver"in window&&!n&&Boolean(e)){var r={};"object"==typeof e&&(e.viewportMargin&&(r.rootMargin=e.viewportMargin),e.threshold&&(r.threshold=e.threshold),r.root=e.root||null),n=new IntersectionObserver(function(t){var e=this;t.filter((function(t){return t.intersectionRect.height||t.intersectionRect.width||t.intersectionRect.top||t.intersectionRect.left})).sort((function(t,e){return t.intersectionRect.top-e.intersectionRect.top})).forEach((function(t){var n=t.target.getAttribute("data-o-ads-name");n&&ke.call(e,n,"render")}))}.bind(this),r),this.lazyLoadingObservers.push(n)}return n},_e.prototype.forEach=function(t){var e=this;return Object.keys(this).forEach((function(n){var r=e[n];r instanceof xe&&t.call(e,r)})),this},_e.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},_e.prototype.debug=function(){var t=fe.log,e=[];this.forEach((function(t){var n={name:t.name,"unit name":t.gpt.unitName,"creative id":t.gpt.creativeId||"N/A","line item id":t.gpt.lineItemId||"N/A",size:fe.isArray(t.gpt.size)&&t.gpt.size.join("×")||t.gpt.isEmpty&&"empty"||"N/A",sizes:fe.isArray(t.sizes)&&t.sizes.map((function(t){return t.join("×")})).join(", ")||"responsive slot",targeting:Object.keys(t.targeting).map((function(e){return"".concat(e,"=").concat(t.targeting[e])})).join(", ")};e.push(n)})),t.start("Creatives"),t.table(e),t.end()};var Ie=new _e,Te={};function Me(){}Me.prototype.get=function(){var t={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};for(var e in fe.extend(Te,this.socialFlow(),this.getVersion()),t)t.hasOwnProperty(e)&&fe.extend(Te,t[e]());return Te},Me.prototype.add=function(t){fe.isPlainObject(t)&&fe.extend(Te,t)},Me.prototype.remove=function(t){Te[t]&&delete Te[t]},Me.prototype.clear=function(){Te={}},Me.prototype.getVersion=function(){if(me("passOAdsVersion"))return{OADS_VERSION:fe.getVersion()}},Me.prototype.socialFlow=function(){var t=fe.getQueryParamByName("socialflow");if(t)return{socialflow:t}},Me.prototype.getSocialReferrer=function(){var t,e=fe.getReferrer(),n={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru","dianomi.com":"dia",google:"goo"};return Object.keys(n).forEach((function(r){new RegExp("^http(|s)://(www.)*(".concat(r,")")).test(e)&&(t=n[r])})),t&&{socref:t}||{}},Me.prototype.searchTerm=function(){var t=fe.hash(fe.getQueryString(),/&|;/,"="),e=t.q||t.s||t.query||t.queryText||t.searchField||void 0;return e&&""!==e&&(e=unescape(e).toLowerCase().replace(/[';^+]/g," ").replace(/\s+/g," ").trim()),{kw:e}},Me.prototype.timestamp=function(){return{ts:fe.getTimestamp()}},Me.prototype.responsive=function(){return me("responsive")?{res:fe.responsive.getCurrent()}:{}},Me.prototype.debug=function(){var t=fe.log,e=this.get();0!==Object.keys(e).length&&(t.start("Targeting"),t.attributeTable(this.get()),t.end())};var Ce=new Me,Le=["q","kw"];function Ne(t,e){if(!e||e.length<1)return t;var n,r=new URLSearchParams(t),o=zt(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.delete(a)}}catch(t){o.e(t)}finally{o.f()}return r.toString()}var Re={fetchMarginPercent:500,renderMarginPercent:200,mobileScaling:2},ze=!1;function Fe(){window.googletag||(window.googletag={},window.googletag.cmd=[]),fe.attach("//securepubads.g.doubleclick.net/tag/js/gpt.js",!0,(function(){fe.broadcast("serverScriptLoaded")}),(function(t){fe.broadcast("adServerLoadError",t)}))}function De(t){var e=me("nonPersonalized")?1:0;googletag.pubads().addEventListener("slotRenderEnded",Ge),function(t){t.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}(t),function(t){var e=t.rendering;"sync"===e?googletag.pubads().enableSyncRendering():"sra"===e?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}(t),Ue(Ce.get()),function(){var t=me("collapseEmpty");"before"===t&&googletag.pubads().collapseEmptyDivs(!0);"after"===t&&googletag.pubads().collapseEmptyDivs(!1)}(),t.hasOwnProperty("enableLazyLoad")&&function(t){if(!t||"object"!=typeof t&&"boolean"!=typeof t)fe.log.warn("lazyLoadConf must be either an object or a boolean",t);else{var e=Object.assign({},Re,"object"==typeof t?t:{});window.googletag.pubads().enableLazyLoad(e)}}(t.enableLazyLoad);var n=function(t){for(var e=t.href,n=t.filters,r=new URL(e),o=0,a=Object.entries(n);o<a.length;o++){var i=Rt(a[o],2),c=i[0],s=i[1];if("root"===c){var u,l=zt(s);try{for(l.s();!(u=l.n()).done;){var f=u.value;r.searchParams.delete(f)}}catch(t){l.e(t)}finally{l.f()}}else{var d=r.searchParams.get(c);d&&r.searchParams.set(c,Ne(d,s))}}return r.href}({href:window.location.href,filters:{root:Le}});return googletag.enableServices(),googletag.pubads().setTargeting("url",n),googletag.pubads().setRequestNonPersonalizedAds(e),!0}function Ue(t){return fe.isPlainObject(t)?googletag.cmd.push((function(){var e=googletag.pubads();Object.keys(t).forEach((function(n){e.setTargeting(n,String(t[n]))}))})):fe.log.warn("invalid targeting object passed",t),t}function Be(t,e){var n=e.detail.slot;"gpt"===n.server&&(n.gpt={},fe.extend(n,t),googletag.cmd.push((function(){n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()})))}function He(t){var e=t.detail.slot;fe.isFunction(e.display)&&e.display()}function Ve(t){return window.googletag.cmd.push((function(){var e=t.detail.targeting;fe.isPlainObject(e)&&Object.keys(e).forEach((function(n){t.detail.slot.gpt.slot.setTargeting(n,e[n])})),googletag.pubads().refresh([t.detail.slot.gpt.slot])})),this}function qe(t){var e=t.detail.slot.gpt.iframe,n=t.detail.size;e.width=n[0],e.height=n[1]}function Ge(t){var e={gpt:{}},n=t.slot.getSlotId(),r=n.getDomId().split("-"),o="google_ads_iframe_".concat(n.getId());e.type=r.pop(),e.name=r.join("-"),e.size=t.size&&t.size.length?t.size.join():"",e.creativeId=t.creativeId;var a=t.slot.getTargetingMap&&t.slot.getTargetingMap();a&&a.pos&&(e.pos=a.pos.length?a.pos.join():"");var i=e.gpt;i.isEmpty=t.isEmpty,i.size=t.size,i.creativeId=t.creativeId,i.lineItemId=t.lineItemId,i.serviceName=t.serviceName;var c=document.getElementById(o);c?(c.setAttribute("tabindex","-1"),c.setAttribute("aria-hidden","true"),c.setAttribute("role","presentation"),c.setAttribute("title","Advertisement"),i.iframe=c):fe.log.warn("No iFrame found matching GPT SlotID"),fe.broadcast("slotRenderStart",e)}var $e={defineSlot:function(){var t=this;return window.googletag.cmd.push((function(){t.gpt.id="".concat(t.name,"-gpt"),t.inner.setAttribute("id",t.gpt.id),t.setUnitName(),t.outOfPage?t.gpt.slot=googletag.defineOutOfPageSlot(t.gpt.unitName,t.gpt.id):ze&&fe.isObject(t.sizes)?(t.initResponsive(),t.gpt.slot=googletag.defineSlot(t.gpt.unitName,[0,0],t.gpt.id).defineSizeMapping(t.gpt.sizes)):t.gpt.slot=googletag.defineSlot(t.gpt.unitName,t.sizes,t.gpt.id)})),this},clearSlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.pubads().clear([t]))},initResponsive:function(){var t=this;return window.googletag.cmd.push((function(){fe.on("breakpoint",(function(e){var n=e.detail.slot,r=e.detail.screensize;We({res:r}),n.hasValidSize(r)&&(n.gpt.iframe?n.fire("refresh"):t.defer||n.display())}),t.container);var e=googletag.sizeMapping();Object.keys(ze).forEach((function(n){t.sizes[n]&&e.addSize(ze[n],t.sizes[n])})),t.gpt.sizes=e.build()})),this},destroySlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.destroySlots([t]))},display:function(){var t=this;return window.googletag.cmd.push((function(){t.fire("slotGoRender"),googletag.display(t.gpt.id)})),this},setUnitName:function(){var t=this;return window.googletag.cmd.push((function(){var e,n=me("gpt")||{},r=t.container.getAttribute("data-o-ads-gpt-unit-name");if(fe.isNonEmptyString(r))e=r;else if(fe.isNonEmptyString(n.unitName))e=n.unitName;else{var o=n.network,a=n.site,i=n.zone;e="/".concat(o),e+=fe.isNonEmptyString(a)?"/".concat(a):"",e+=fe.isNonEmptyString(i)?"/".concat(i):""}t.gpt.unitName=e})),this},addServices:function(t){var e=this;return window.googletag.cmd.push((function(){var n=me("gpt")||{};(t=t||e.gpt.slot).addService(googletag.pubads()),n.companions&&!1!==e.companion&&t.addService(googletag.companionAds())})),this},setCollapseEmpty:function(){var t=this;return window.googletag.cmd.push((function(){var e=t.collapseEmpty||me("collapseEmpty")||"never";"before"===e?t.gpt.slot.setCollapseEmptyDiv(!0,!0):"after"===e?t.gpt.slot.setCollapseEmptyDiv(!0):"never"===e&&t.gpt.slot.setCollapseEmptyDiv(!1)})),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){var t=(e=this.gpt.iframe,(n=e.contentWindow.document.querySelector("[data-o-ads-impression-url]"))?n.dataset.oAdsImpressionUrl:(fe.log.warn("Impression URL not found, this is set via a creative template."),!1));t&&fe.attach(t,!0,(function(){fe.log.info("Impression Url requested")}),(function(){fe.log.info("CORS request to submit an impression failed")}),!0)}else fe.log.warn("Attempting to call submitImpression on a non-oop slot");var e,n},setURL:function(t){var e=this;return window.googletag.cmd.push((function(){t=t||e.gpt.slot;var n=me("canonical");t.set("page_url",n||fe.getLocation())})),this},setTargeting:function(t){var e=this;return window.googletag.cmd.push((function(){t=t||e.gpt.slot,fe.isPlainObject(e.targeting)&&Object.keys(e.targeting).forEach((function(n){t.setTargeting(n,e.targeting[n])}))})),this}};function We(t){window.googletag?Ue(fe.isPlainObject(t)?t:Ce.get()):fe.log.warn("Attempting to set page targeting before the GPT library has initialized")}var Ye={init:function(){var t=me("gpt")||{};ze=me("responsive"),Fe(),fe.on("slotReady",Be.bind(null,$e)),fe.on("slotCanRender",He),fe.on("refresh",Ve),fe.on("resize",qe),googletag.cmd.push(De.bind(null,t))},setup:De,updateCorrelator:function(){fe.log.warn("[DEPRECATED]: Updatecorrelator is being phased out by google and removed from o-ads in future releases."),googletag.cmd.push((function(){googletag.pubads().updateCorrelator()}))},getCorrelator:function(){if(window.googletag&&window.googletag.pubads)return googletag.pubads().getCorrelator()},updatePageTargeting:We,clearPageTargeting:function(){window.googletag?googletag.cmd.push((function(){googletag.pubads().clearTargeting()})):fe.log.warn("Attempting to clear page targeting before the GPT library has initialized")},clearPageTargetingForKey:function(t){window.googletag?t?googletag.cmd.push((function(){googletag.pubads().clearTargeting(t)})):fe.log.warn("Refusing to unset all keys - a key must be specified"):fe.log.warn("Attempting to clear page targeting before the GPT library has initialized")},hasGPTLoaded:function(){return!(!window.googletag||!window.googletag.apiReady)},loadGPT:Fe,debug:function(){var t=fe.log,e=me("gpt");e&&(t.start("gpt"),t.attributeTable(e),t.end())}};function Je(){document.addEventListener("o.DOMContentLoaded",Ke),window&&!window.oAds&&(window.oAds=this)}me.init=ge,me.clear=ve,Je.prototype.config=me,Je.prototype.slots=Ie,Je.prototype.gpt=Ye,Je.prototype.targeting=Ce,Je.prototype.utils=fe,Je.prototype.init=function(t){t=t||{},this.config.init();var e=Object.assign(t,{nonPersonalized:!t.disableConsentCookie});return this.config(e),t.disableConsentCookie?this.consents={behavioral:!0}:this.consents=function(){var t=document.cookie.match(/FTConsent=([^;]+)/);if(!t)return{behavioral:!1,programmatic:!1};var e=decodeURIComponent(t[1]);return{behavioral:-1!==e.indexOf("behaviouraladsOnsite:on"),programmatic:-1!==e.indexOf("programmaticadsOnsite:on")}}(),this.consents.behavioral&&this.utils.broadcast("consentBehavioral"),this.consents.programmatic&&this.utils.broadcast("consentProgrammatic"),this.utils.broadcast("initialising"),this.targeting.add(this.config().targeting),Promise.resolve(this.initLibrary())},Je.prototype.updateTargeting=function(t){this.targeting.add(t),this.gpt.updatePageTargeting(this.targeting.get())},Je.prototype.initLibrary=function(){return this.slots.init(),this.consents.programmatic&&(this.config({nonPersonalized:!1}),this.targeting.add({cc:"y"})),this.gpt.init(),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),document.removeEventListener("o.DOMContentLoaded",Ke),this},Je.prototype.debug=function(){var t=!0;localStorage.getItem("oAds")?t=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.slots.debug(),this.targeting.debug(),t&&localStorage.removeItem("oAds")},Je.prototype.version=function(){this.utils.log.warn("DEPRECATION NOTICE: Ads.version() will be deprecated in favour of Ads.getVersion()"),this.utils.log("o-ads version: ".concat(this.utils.getVersion()))},Je.prototype.getVersion=function(){return this.utils.getVersion()};var Ke=function(){return Xe.init().then((function(){Array.from(document.querySelectorAll(".o-ads, [data-o-ads-name]")).forEach(Xe.slots.initSlot.bind(Xe.slots))}))};Je.prototype.initAll=Ke;var Xe=new Je,Qe=Xe,Ze=n("d2988f39"),tn=n("b8f58555"),en=[],nn=!1;function rn(t){var e,n;function r(){en.forEach((function(t){var e=function(t){return function(){t.fire("slotGoRender"),window.googletag.display(t.gpt.id)}}(t);t.displayCalled?window.googletag.cmd.push(e):t.display=function(){return window.googletag.cmd.push(e)}}))}function o(){e&&clearTimeout(e),n&&clearInterval(n),window.moatPrebidApi.setMoatTargetingForAllSlots(),r()}function a(){return!(!window.moatPrebidApi||"function"!=typeof window.moatPrebidApi.pageDataAvailable||!window.moatPrebidApi.pageDataAvailable())&&(o(),!0)}if(!a()){if(t&&t.detail&&t.detail.slot){var i=t.detail.slot;en.push(i),i.display&&(i.display=function(){i.displayCalled=!0})}nn||(e=setTimeout(o,1e3),n=setInterval(a,100),nn=!0)}}var on=function(){!function(){if(!document.getElementById("n-ads-moat")){var t=document.createElement("script");t.defer=!0,t.src="https://z.moatads.com/financialtimesprebidheader859796398452/moatheader.js",t.id="n-ads-moat",document.head.appendChild(t)}}(),document.addEventListener("oAds.slotReady",rn,!1)},an=n("2aecb564");function cn(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function sn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){cn(a,r,o,i,c,"next",t)}function c(t){cn(a,r,o,i,c,"throw",t)}i(void 0)}))}}function un(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){pn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hn=function(t){return"object"==typeof t&&t.constructor==Object},mn=function(t){var e=t.breakpointMargins,n=t.viewportSize,r=void 0===n?window.innerWidth:n,o=t.fallbackValue,a=void 0===o?"0%":o;return e&&r&&e[Object.keys(e).sort().find((function(t){return t>r}))]||a};function gn(t){var e,n=t.user,r=void 0!==n&&n,o=t.page,a=void 0!==o&&o,i=t.host,c=void 0===i?"https://ads-api.ft.com/v2":i,s=[];if(r?s.push(function(t){var e="".concat(t,"/user");return fetch(e,{timeout:2e3,useCorsProxy:!0,credentials:"include"}).then((function(t){return t.json()}))}(c)):s.push(Promise.resolve()),hn(a)&&a.id&&a.type){var u="article"===(e=a.type)?"content":"stream"===e?"concept":void 0;s.push(function(t,e,n){if(n&&"content"===e||"concept"===e){var r="".concat(t,"/").concat(e,"/").concat(n);return fetch(r,{timeout:2e3,useCorsProxy:!0}).then((function(t){return t.json()}))}console.error("Invalid ads-api endpoint specified for retrieving page targeting data")}(c,u,a.id))}return Promise.all(s).then((function(t){return function(t){var e=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;e&&e.mark&&(e.clearMarks(t),e.mark(t))}("oAds.adsAPIComplete"),function(t,e){var n={metadata:{}};return t.length>=1&&(n.metadata.user=dn({},hn(t[0])&&t[0])),2===t.length&&hn(e)&&(n.metadata[e.type]=dn({},hn(t[1])&&t[1]),n.metadata[e.type].adUnit&&(n.adUnit=n.metadata[e.type].adUnit,delete n.metadata[e.type].adUnit),n.metadata[e.type].smartmatch&&(n.smartmatch=n.metadata[e.type].smartmatch,delete n.metadata[e.type].smartmatch)),n}(t,a)}))}var vn=function(){var t=document.getElementById("n-ads-options"),e={};if(t)try{e=JSON.parse(t.innerHTML)}catch(t){console.error("Error while getting ads-display embedded options",t)}return e},yn=function(){window.addEventListener("message",(function(t){var e=t.data,n=void 0===e?"":e;if("string"==typeof n&&n.match(/oAds/))try{var r=JSON.parse(t.data),o=(r||{}).type;if(!o)return;if("oAdsEmbed.monitor"===o){var a={category:"ads",action:"embed",message:r.message||""};return void Object(Ze.broadcast)("oTracking.event",a)}if("oAdsEmbed.listens"===o){var i=t.source;if(i){var c=window.smartmatchCreativeMatches;if(c){var s={messageType:"oAdsEmbed",body:{smartmatchCreativeMatches:c}};i.postMessage(s,"*")}}}}catch(t){}}))};function bn(t){hn(t)&&t.matches&&(window.smartmatchCreativeMatches=t.matches)}var wn=[{sampleSize:.1,spoorAction:"page-initialised",triggers:["serverScriptLoaded"],marks:["consentBehavioral","consentProgrammatic","moatTimeout","initialising","IVTComplete","adsAPIComplete","initialised","serverScriptLoaded"],navigation:["domInteractive"]},{sampleSize:.1,spoorAction:"slot-requested",triggers:["slotGoRender"],marks:["slotReady","slotCanRender","slotGoRender"],multiple:!0},{sampleSize:.1,spoorAction:"slot-rendered",triggers:["slotRenderEnded"],marks:["slotRenderStart","slotExpand","slotRenderEnded"],multiple:!0},{sampleSize:.1,spoorAction:"slot-collapsed",triggers:["slotCollapsed"],marks:["slotCollapsed"],multiple:!0}];function Sn(){var t=function(){var t=document.cookie.split("; ").find((function(t){return t.startsWith("FTConsent=")}));if(t){var e=t.split("=")[1];if(!e)return;var n=decodeURIComponent(e).split(",");if(!n)return;var r={};return n.forEach((function(t){var e=un(t.split(":"),2),n=e[0],o=e[1];n&&(r[n]=o)})),r}}();if(!t)return{};var e={};return t.behaviouraladsOnsite&&(e.behavioral=t.behaviouraladsOnsite),t.demographicadsOnsite&&(e.demographic=t.demographicadsOnsite),t.programmaticadsOnsite&&(e.programmatic=t.programmaticadsOnsite),e}function On(t){Qe.utils.setupMetrics(wn,(function(t){var e=Object(tn.getUsPrivacyForTracking)(),n=Sn()||{};return n.usprivacy=e,t&&(t.advert=dn(dn({},t.advert),{},{consents:n})),Object(Ze.broadcast)("oTracking.event",t)}),t)}var xn=function(){if(window.ReportingObserver){var t=new window.ReportingObserver((function(t,e){console.log("reports",t)}),{buffered:!0});t.observe(),window.addEventListener("unload",(function(e){var n=t.takeRecords();console.log("reports",n)}))}},En={980:{fetchMarginPercent:30,renderMarginPercent:15,mobileScaling:1},760:{fetchMarginPercent:10,renderMarginPercent:5,mobileScaling:1}},_n={fetchMarginPercent:10,renderMarginPercent:0,mobileScaling:1};function kn(){return(kn=sn(l.a.mark((function t(e,n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=dn(dn(dn({},vn()),e),{},{sandbox:e.sandbox||!!n.get("adsEnableTestCreatives")})).smartmatch&&(bn(e.smartmatch),yn()),e.appName){t.next=4;break}throw new Error("Error initialising display ads. `options.appName` is required");case 4:return e.disableMonitoring||On(!0),e.monitorHeavyAds&&xn(),Object(tn.setUSPrivacy)(),t.next=9,Tn.initOads(e,n);case 9:r=t.sent,e.waitForMoat&&on(),Tn.initAdSlots(r);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jn(){return(jn=sn(l.a.mark((function t(e,n){var r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=Tn.getOAdsConfig(e,n),t.next=4,Qe.init(o);case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("There was an error when initialising o-ads",t.t0);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function An(t){return t?(console.warn("o-ads running in sandbox mode. No live ads showing"),"test.5887.origami"):location.hash.includes("adsandbox")?(console.warn("o-ads running in sandbox mode. No live ads showing"),"sandbox.next.ft"):location.hash.includes("moatwrappertest")?(console.warn("o-ads running in sandbox mode. No live ads showing"),"test.5887.moatperformance"):"ft.com"}function Pn(t){return Array.isArray(t)?t.join("/"):"unclassified"}var In=function(t){var e=t.appName,n=t.rootId,r=t.abTestState,o=t.adsLayout,a=t.enableTestCreatives,i=t.targeting,c=t.smartmatch;return dn(dn(dn(dn({pt:e.toLowerCase().substr(0,3),nlayout:o||"default",mvt:r,rootid:n},a&&{enableTestCreatives:a}),i&&function(t){if(hn(t)){var e="boolean"==typeof t.loggedInStatus,n=t.hui&&t.hui.gender,r=t.hui&&t.hui.indb2b,o=t.industry&&t.industry.code,a=t.responsibility&&t.responsibility.code,i=t.position&&t.position.code;return dn(dn(dn(dn(dn(dn(dn(dn(dn({},t.uuid&&{guid:t.uuid}),t.spoorId&&{device_spoor_id:t.spoorId}),t.subscriptionLevel&&{slv:t.subscriptionLevel}),e&&{loggedIn:t.loggedInStatus}),n&&{gender:t.hui.gender}),r&&{indb2b:t.hui.indb2b}),o&&pn({},"05",t.industry.code)),a&&pn({},"06",t.responsibility.code)),i&&pn({},"07",t.position.code))}return null}(i.user)),i&&function(t){if(hn(t)){var e=Array.isArray(t.specialReport)&&t.specialReport.length>0;return dn(dn(dn(dn(dn(dn(dn(dn({},t.uuid&&{auuid:t.uuid}),t.title&&{title:t.title}),t.admants&&{ad:t.admants.join(",")}),t.categories&&{ca:t.categories.join(",")}),t.topic&&{topic:t.topic.join(",")}),t.brand&&{secbrand:t.brand.join(",")}),e&&{sr:t.specialReport.join(",")}),t.srUUID&&{sruuid:t.srUUID})}return null}(i.article)),c&&function(t){if(hn(t)){if(t.targeting){var e=t.targeting,n=e.key,r=e.value;if("smid"===n&&void 0!==r)return pn({},n,r)}return null}}(c))},Tn={init:function(t,e){return kn.apply(this,arguments)},initAdSlots:function(t){var e=document.querySelectorAll(".o-ads, [data-o-ads-name]");e.length?e.forEach((function(e){return t.slots.initSlot(e)})):console.warn("No ad slot found on the page")},initOads:function(t,e){return jn.apply(this,arguments)},getOAdsConfig:function(t,e){var n=t.lazyLoadMargins,r=t.sandbox,o=t.adUnit,a=In(t);return{gpt:{network:"5887",site:An(r),zone:Pn(o),rendering:e.get("adsEnableSRA")?"sra":null,enableLazyLoad:e.get("adsEnableGPTLazyLoad")?mn({breakpointMargins:n||En,fallbackValue:_n}):null},formats:dn({PaidPost:{sizes:"fluid"},OneByOne:{sizes:[1,1]},Outstream:{sizes:[1,1]}},t.formats),responsive:{extra:[1025,0],large:[980,0],medium:[760,0],small:[0,0]},collapseEmpty:"before",lazyLoad:!e.get("adsEnableGPTLazyLoad")&&{viewportMargin:mn({breakpointMargins:n})},targeting:a,disableConsentCookie:!1}},getAllTargeting:In,getGptSite:An,getGptZone:Pn};var Mn={getRootID:Lt.default.getRootID,enablePermutiveFtCom:function(t){var e=t.metadata,n=t.type,r=t.rootId;an.a.setup(),an.a.loadPermutiveScript(),e&&e.user&&an.a.identifyUser(e.user);var o=an.a.fromAdsDataToPageView(dn(dn({},e),{},{rootId:r,type:n}));an.a.trackPageView(o)}},Cn=n("163e87d1"),Ln=n("7a7a82b9"),Nn=n("153087a3"),Rn=function(t){var e=t.url,n=t.title;return Object(f.h)("a",{className:"forum-teaser__title","data-trackable":"forum-teaser-title",href:e},n)},zn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.strapline;return Object(f.h)("span",{className:"forum-teaser__strapline"},e)};function Fn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=t.title,r=t.strapline;return Object(f.h)("div",{className:"forum-teaser","data-trackable":"forum-teaser"},Object(f.h)(Rn,{title:n,url:e}),Object(f.h)(zn,{strapline:r}))}function Dn(){return(Dn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Un(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.h)("section",{className:"section--community","data-trackable":"community-section"},Object(f.h)("div",null,Object(f.h)("h2",{className:"o-teaser-collection__heading"},Object(f.h)("a",{"data-trackable":"community-section-title",href:"/tour/community?segmentId=1e05bacd-6097-fced-d3b5-a667bdf52aa1"},"Be part of FT Community"))),Object(f.h)("div",{className:"o-grid-row o-grid-row--compact"},Object(f.h)("div",{"data-o-grid-colspan":"12 L3"},Object(f.h)("div",{className:"section--community__subsection-header"},Object(f.h)("h3",{className:"section--community__subsection-title"},"Upcoming events"),Object(f.h)("p",{className:"section--community__subsection-strapline"},"Discover unmissable flagship events and members only communities to expand your thinking and elevate your career."))),t.events.slice(0,3).map((function(t){return Object(f.h)("div",{"data-o-grid-colspan":"12 L3"},Object(f.h)(Nn.EventTeaser,Dn({layout:"small"},t)))}))),Object(f.h)("div",{className:"o-grid-row o-grid-row--compact"},Object(f.h)("div",{"data-o-grid-colspan":"12 L3"},Object(f.h)("div",{className:"section--community__subsection-header"},Object(f.h)("h3",{className:"section--community__subsection-title"},"Join the discussion"),Object(f.h)("p",{className:"section--community__subsection-strapline"},"FT Forums is a series of members only communities, powered by the Financial Times."))),t.forums.slice(0,3).map((function(t){return Object(f.h)("div",{"data-o-grid-colspan":"12 L3"},Object(f.h)(Fn,t))}))))}var Bn=[{title:"Women In Business Forum",strapline:"A dedicated programme to accelerate mid-career women into senior leadership.",url:"https://forums.ft.com/women-in-business-forum?segmentId=1e05bacd-6097-fced-d3b5-a667bdf52aa1"},{title:"Climate Capital Council",strapline:"Where businesses share ideas, opportunities and challenges with climate change.",url:"https://forums.ft.com/climate-capital-council?segmentId=1e05bacd-6097-fced-d3b5-a667bdf52aa1"},{title:"Moral Money Forum",strapline:"Where organisations share high level macro thinking and practical micro solutions in ESG.",url:"https://forums.ft.com/moral-money-forum?segmentId=1e05bacd-6097-fced-d3b5-a667bdf52aa1"}];function Hn(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Hn(a,r,o,i,c,"next",t)}function c(t){Hn(a,r,o,i,c,"throw",t)}i(void 0)}))}}function qn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=Vn(l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/eventpromo/api?show-displayable-only=true&after=".concat(Wn())).then((function(t){return t.json()}));case 2:return e=t.sent,n=e.eventpromos,r=void 0===n?[]:n,t.abrupt("return",r.map((function(t){var e=t.title,n=t.location,r=t.eventUrl,o=t.scheduledStartTime;return{title:e,location:n,eventUrl:$n(r),scheduledStartTime:new Date(o)}})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $n(t){var e=new URL(t);return e.searchParams.append("segmentId","1e05bacd-6097-fced-d3b5-a667bdf52aa1"),e.href}function Wn(){var t=new Date;return t.setMinutes(0,0,0),t.toISOString()}var Yn=n("a7802d11");function Jn(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Kn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Jn(a,r,o,i,c,"next",t)}function c(t){Jn(a,r,o,i,c,"throw",t)}i(void 0)}))}}var Xn=Kn(l.a.mark((function t(){var e,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector('[data-section-container="community"]')){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,qn();case 5:n=t.sent,(r=Object(Yn.selectEvents)(n)).length&&(Object(f.render)(Object(f.h)(Un,{events:r,forums:Bn}),e),Lt.default.view.init({selector:".section--community",category:"page",action:"scrolldepth"}));case 8:case"end":return t.stop()}}),t)}))),Qn=n("b3de092d"),Zn=n("9d24bbd0"),tr=n("2e1dcbec");function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(Object(n),!0).forEach((function(e){rr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.default.domready.then((function(){var t=tr.init(),e=Tt.init();if(Zn.init(),t.get("oTracking")){var n=Mt.init({appContext:e.getAll()});n.view.init({selector:".js-track-scroll-event",category:"page",action:"scrolldepth"}),n.view.init({selector:".o-teaser--audio",getContextData:function(t){return{componentContentId:t.getAttribute("data-id"),component:"teaser",type:"audio",subtype:"podcast"}}}),t&&t.get("realUserMonitoringForPerformance")&&Mt.trackers.realUserMonitoringForPerformance()}t.get("syndication")&&Cn.init(t),M.default.init(),new Qn.default(document.body);var i=[];if(t.get("myFtApi")&&(i.push({relationship:"followed",type:"concept"}),i.push({relationship:"saved",type:"content"})),r.client.init(i).catch((function(t){if("No session cookie found"!==t)throw t})),function(t){if(t.get("frontPageHeaderMarketsData")){var e=document.querySelector(".js-markets-data");if(e){var n;switch(window.location.pathname.substring(1)){case"international":n=s;break;default:n=c}var r=n.map((function(t){return t.symbol})).join(",");fetch("https://markets-data-api-proxy.ft.com/research/webservices/securities/v1/quotes?symbols=".concat(r),{timeout:5e3}).then((function(t){if(t.ok)return t.json();throw new Error("Unable to get securities '".concat(r,"'"))})).then((function(t){var r=document.createElement("ul");r.className="markets-data__items markets-data__items--hidden",r.innerHTML=t.data.items.filter((function(t){return!t.partialError&&"change1Day"in t.quote})).map((function(t,e){var r=t.symbolInput,o=n.find((function(t){return t.symbol===r})),a=t.quote.change1DayPercent;if(!a)return"";var i=a<0?"down":a>0?"up":"no-change";return'\n\t\t\t\t\t\t<li class="markets-data__item" data-trackable="item | '.concat(e+1,'">\n\t\t\t\t\t\t\t<a href="https://markets.ft.com/data/').concat(o.type,"/tearsheet/summary?s=").concat(r,'"\n\t\t\t\t\t\t\t\tclass="markets-data__item__link"\n\t\t\t\t\t\t\t\tdata-trackable="link">\n\t\t\t\t\t\t\t\t<span class="markets-data__item__name">').concat(o.name,'</span>\n\t\t\t\t\t\t\t\t<span class="markets-data__item__change markets-data__item__change--').concat(i,'">\n\t\t\t\t\t\t\t\t\t').concat("up"===i?"+":"").concat(a.toFixed(2),"%\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t")})).join(""),e.insertBefore(r,e.querySelector(".markets-data__link")),window.setTimeout((function(){r.classList.remove("markets-data__items--hidden")}),10)})).catch((function(t){window.setTimeout((function(){throw t}))}))}}}(t),(t.get("messageSlotBottom")||t.get("messageSlotTop"))&&It.nMessagingClient.init(),r.ui.init({anonymous:!/FTSession=/.test(document.cookie),flags:t}),o.init({anonymous:!/FTSession=/.test(document.cookie),flags:t}),I(t),ft(t),t.get("frontPageCommunitySection")&&Xn().catch((function(){})),t.get("ads")){var u=Mn.getRootID(),l={appName:e.get("appName"),abTestState:e.get("abTestState"),rootId:u,lazyLoadMargins:t.get("adsEnableGPTLazyLoad")?{980:{fetchMarginPercent:30,renderMarginPercent:5,mobileScaling:1},760:{fetchMarginPercent:10,renderMarginPercent:15,mobileScaling:1}}:{760:"15%",980:"5%"},formats:{HighImpactSlot:{sizes:[970,400]}},waitForMoat:t.get("adsMoatTimeout")},f=gn({user:!0});f.then((function(n){Tn.init(nr(nr({},l),{},{targeting:n.metadata,adUnit:["home","uk"===e.get("edition")?"UK":"US","hprb"]}),t)})).catch((function(){console.warn("Failed to load targeted ads. Falling back to loading basic ads without targeting or ad unit"),Tn.init(l,t)})),f.then((function(n){t.get("AdsPermutive")&&Mn.enablePermutiveFtCom({metadata:n.metadata,type:e.get("appName"),rootId:u})})).catch((function(){console.warn("Failed to load permutive correctly. Falling back to loading permutive without page or user data"),Mn.enablePermutiveFtCom({type:e.get("appName"),rootId:u})})),f.catch((function(t){console.warn("There was an error fetching the ads data.",t)}))}if(Object(dt.runNativeAds)(t),wt(t),a.default.init(),t.get("qualtrics")&&Ct.init(nr({},e.getAll())),t.get("privShowCCPALinkOnFooter")&&Object(Ln.makeUiCcpaCompliant)(),t.get("optimizely")&&t.get("optimizelyFrontpage")){var d=window.FT&&window.FT.optimizelyAdditionalDetails&&window.FT.optimizelyAdditionalDetails.spoorTracking;d&&d.forEach((function(t){Mt.broadcast("oTracking.event",nr({category:"optimizely",action:"experiment"},t))}))}}))},"20bdb22b":function(t,e,n){"use strict";e.__esModule=!0;var r,o=n("2efdf1ec"),a=n("5bdd616f"),i=(r=a)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:o.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},"2aecb564":function(t,e,n){"use strict";(function(t){var r=n("f26e1e46"),o=n.n(r);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,s,"next",t)}function s(t){c(a,r,o,i,s,"throw",t)}i(void 0)}))}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function y(t){var e={exports:{}};return t(e,e.exports),e.exports}var b=function(t){return t&&t.Math==Math&&t},w=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||function(){return this}()||Function("return this")(),S=function(t){try{return!!t()}catch(t){return!0}},O=!S((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,_={f:E&&!x.call({1:2},1)?function(t){var e=E(this,t);return!!e&&e.enumerable}:x},k=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j={}.toString,A=function(t){return j.call(t).slice(8,-1)},P="".split,I=S((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?P.call(t,""):Object(t)}:Object,T=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},M=function(t){return I(T(t))},C=function(t){return"object"==typeof t?null!==t:"function"==typeof t},L=function(t,e){if(!C(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!C(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},N=function(t){return Object(T(t))},R={}.hasOwnProperty,z=Object.hasOwn||function(t,e){return R.call(N(t),e)},F=w.document,D=C(F)&&C(F.createElement),U=function(t){return D?F.createElement(t):{}},B=!O&&!S((function(){return 7!=Object.defineProperty(U("div"),"a",{get:function(){return 7}}).a})),H=Object.getOwnPropertyDescriptor,V={f:O?H:function(t,e){if(t=M(t),e=L(e,!0),B)try{return H(t,e)}catch(t){}if(z(t,e))return k(!_.f.call(t,e),t[e])}},q=function(t){if(!C(t))throw TypeError(String(t)+" is not an object");return t},G=Object.defineProperty,$={f:O?G:function(t,e,n){if(q(t),e=L(e,!0),q(n),B)try{return G(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},W=O?function(t,e,n){return $.f(t,e,k(1,n))}:function(t,e,n){return t[e]=n,t},Y=function(t,e){try{W(w,t,e)}catch(n){w[t]=e}return e},J=w["__core-js_shared__"]||Y("__core-js_shared__",{}),K=Function.toString;"function"!=typeof J.inspectSource&&(J.inspectSource=function(t){return K.call(t)});var X,Q,Z,tt=J.inspectSource,et=w.WeakMap,nt="function"==typeof et&&/native code/.test(tt(et)),rt=y((function(t){(t.exports=function(t,e){return J[t]||(J[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),ot=0,at=Math.random(),it=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++ot+at).toString(36)},ct=rt("keys"),st=function(t){return ct[t]||(ct[t]=it(t))},ut={},lt=w.WeakMap;if(nt||J.state){var ft=J.state||(J.state=new lt),dt=ft.get,pt=ft.has,ht=ft.set;X=function(t,e){if(pt.call(ft,t))throw new TypeError("Object already initialized");return e.facade=t,ht.call(ft,t,e),e},Q=function(t){return dt.call(ft,t)||{}},Z=function(t){return pt.call(ft,t)}}else{var mt=st("state");ut[mt]=!0,X=function(t,e){if(z(t,mt))throw new TypeError("Object already initialized");return e.facade=t,W(t,mt,e),e},Q=function(t){return z(t,mt)?t[mt]:{}},Z=function(t){return z(t,mt)}}var gt,vt,yt={set:X,get:Q,has:Z,enforce:function(t){return Z(t)?Q(t):X(t,{})},getterFor:function(t){return function(e){var n;if(!C(e)||(n=Q(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},bt=y((function(t){var e=yt.get,n=yt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,a){var i,c=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||z(o,"name")||W(o,"name",e),(i=n(o)).source||(i.source=r.join("string"==typeof e?e:""))),t!==w?(c?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=o:W(t,e,o)):s?t[e]=o:Y(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||tt(this)}))})),wt=w,St=function(t){return"function"==typeof t?t:void 0},Ot=function(t,e){return arguments.length<2?St(wt[t])||St(w[t]):wt[t]&&wt[t][e]||w[t]&&w[t][e]},xt=Math.ceil,Et=Math.floor,_t=function(t){return isNaN(t=+t)?0:(t>0?Et:xt)(t)},kt=Math.min,jt=function(t){return t>0?kt(_t(t),9007199254740991):0},At=Math.max,Pt=Math.min,It=function(t,e){var n=_t(t);return n<0?At(n+e,0):Pt(n,e)},Tt=function(t){return function(e,n,r){var o,a=M(e),i=jt(a.length),c=It(r,i);if(t&&n!=n){for(;i>c;)if((o=a[c++])!=o)return!0}else for(;i>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}},Mt={includes:Tt(!0),indexOf:Tt(!1)},Ct=Mt.indexOf,Lt=function(t,e){var n,r=M(t),o=0,a=[];for(n in r)!z(ut,n)&&z(r,n)&&a.push(n);for(;e.length>o;)z(r,n=e[o++])&&(~Ct(a,n)||a.push(n));return a},Nt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rt=Nt.concat("length","prototype"),zt={f:Object.getOwnPropertyNames||function(t){return Lt(t,Rt)}},Ft={f:Object.getOwnPropertySymbols},Dt=Ot("Reflect","ownKeys")||function(t){var e=zt.f(q(t)),n=Ft.f;return n?e.concat(n(t)):e},Ut=function(t,e){for(var n=Dt(e),r=$.f,o=V.f,a=0;a<n.length;a++){var i=n[a];z(t,i)||r(t,i,o(e,i))}},Bt=/#|\.prototype\./,Ht=function(t,e){var n=qt[Vt(t)];return n==$t||n!=Gt&&("function"==typeof e?S(e):!!e)},Vt=Ht.normalize=function(t){return String(t).replace(Bt,".").toLowerCase()},qt=Ht.data={},Gt=Ht.NATIVE="N",$t=Ht.POLYFILL="P",Wt=Ht,Yt=V.f,Jt=function(t,e){var n,r,o,a,i,c=t.target,s=t.global,u=t.stat;if(n=s?w:u?w[c]||Y(c,{}):(w[c]||{}).prototype)for(r in e){if(a=e[r],o=t.noTargetGet?(i=Yt(n,r))&&i.value:n[r],!Wt(s?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;Ut(a,o)}(t.sham||o&&o.sham)&&W(a,"sham",!0),bt(n,r,a,t)}},Kt=Array.isArray||function(t){return"Array"==A(t)},Xt=function(t,e,n){var r=L(e);r in t?$.f(t,r,k(0,n)):t[r]=n},Qt=Ot("navigator","userAgent")||"",Zt=w.process,te=Zt&&Zt.versions,ee=te&&te.v8;ee?vt=(gt=ee.split("."))[0]<4?1:gt[0]+gt[1]:Qt&&(!(gt=Qt.match(/Edge\/(\d+)/))||gt[1]>=74)&&(gt=Qt.match(/Chrome\/(\d+)/))&&(vt=gt[1]);var ne=vt&&+vt,re=!!Object.getOwnPropertySymbols&&!S((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ne&&ne<41})),oe=re&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ae=rt("wks"),ie=w.Symbol,ce=oe?ie:ie&&ie.withoutSetter||it,se=function(t){return z(ae,t)&&(re||"string"==typeof ae[t])||(re&&z(ie,t)?ae[t]=ie[t]:ae[t]=ce("Symbol."+t)),ae[t]},ue=se("species"),le=function(t){return ne>=51||!S((function(){var e=[];return(e.constructor={})[ue]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},fe=le("slice"),de=se("species"),pe=[].slice,he=Math.max;Jt({target:"Array",proto:!0,forced:!fe},{slice:function(t,e){var n,r,o,a=M(this),i=jt(a.length),c=It(t,i),s=It(void 0===e?i:e,i);if(Kt(a)&&("function"!=typeof(n=a.constructor)||n!==Array&&!Kt(n.prototype)?C(n)&&null===(n=n[de])&&(n=void 0):n=void 0,n===Array||void 0===n))return pe.call(a,c,s);for(r=new(void 0===n?Array:n)(he(s-c,0)),o=0;c<s;c++,o++)c in a&&Xt(r,o,a[c]);return r.length=o,r}}),y((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new x(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return _()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function d(){}function p(){}var h={};h[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==e&&n.call(g,o)&&(h=g);var v=p.prototype=f.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=v.constructor=p,p.constructor=d,d.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(v),c(v,i,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var me={};me[se("toStringTag")]="z";var ge="[object z]"===String(me),ve=se("toStringTag"),ye="Arguments"==A(function(){return arguments}()),be=ge?A:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ve))?n:ye?A(e):"Object"==(r=A(e))&&"function"==typeof e.callee?"Arguments":r},we=ge?{}.toString:function(){return"[object "+be(this)+"]"};ge||bt(Object.prototype,"toString",we,{unsafe:!0});var Se=w.Promise,Oe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return q(n),function(t){if(!C(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),xe=$.f,Ee=se("toStringTag"),_e=se("species"),ke=function(t){var e=Ot(t),n=$.f;O&&e&&!e[_e]&&n(e,_e,{configurable:!0,get:function(){return this}})},je=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ae={},Pe=se("iterator"),Ie=Array.prototype,Te=function(t,e,n){if(je(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},Me=se("iterator"),Ce=function(t){var e=t.return;if(void 0!==e)return q(e.call(t)).value},Le=function(t,e){this.stopped=t,this.result=e},Ne=function(t,e,n){var r,o,a,i,c,s,u,l,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),m=Te(e,f,1+d+h),g=function(t){return r&&Ce(r),new Le(!0,t)},v=function(t){return d?(q(t),h?m(t[0],t[1],g):m(t[0],t[1])):h?m(t,g):m(t)};if(p)r=t;else{if("function"!=typeof(o=function(t){if(null!=t)return t[Me]||t["@@iterator"]||Ae[be(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(l=o)&&(Ae.Array===l||Ie[Pe]===l)){for(a=0,i=jt(t.length);i>a;a++)if((c=v(t[a]))&&c instanceof Le)return c;return new Le(!1)}r=o.call(t)}for(s=r.next;!(u=s.call(r)).done;){try{c=v(u.value)}catch(t){throw Ce(r),t}if("object"==typeof c&&c&&c instanceof Le)return c}return new Le(!1)},Re=se("iterator"),ze=!1;try{var Fe=0,De={next:function(){return{done:!!Fe++}},return:function(){ze=!0}};De[Re]=function(){return this},Array.from(De,(function(){throw 2}))}catch(t){}var Ue,Be,He,Ve=se("species"),qe=function(t,e){var n,r=q(t).constructor;return void 0===r||null==(n=q(r)[Ve])?e:je(n)},Ge=Ot("document","documentElement"),$e=/(?:iphone|ipod|ipad).*applewebkit/i.test(Qt),We="process"==A(w.process),Ye=w.location,Je=w.setImmediate,Ke=w.clearImmediate,Xe=w.process,Qe=w.MessageChannel,Ze=w.Dispatch,tn=0,en={},nn=function(t){if(en.hasOwnProperty(t)){var e=en[t];delete en[t],e()}},rn=function(t){return function(){nn(t)}},on=function(t){nn(t.data)},an=function(t){w.postMessage(t+"",Ye.protocol+"//"+Ye.host)};Je&&Ke||(Je=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return en[++tn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Ue(tn),tn},Ke=function(t){delete en[t]},We?Ue=function(t){Xe.nextTick(rn(t))}:Ze&&Ze.now?Ue=function(t){Ze.now(rn(t))}:Qe&&!$e?(He=(Be=new Qe).port2,Be.port1.onmessage=on,Ue=Te(He.postMessage,He,1)):w.addEventListener&&"function"==typeof postMessage&&!w.importScripts&&Ye&&"file:"!==Ye.protocol&&!S(an)?(Ue=an,w.addEventListener("message",on,!1)):Ue="onreadystatechange"in U("script")?function(t){Ge.appendChild(U("script")).onreadystatechange=function(){Ge.removeChild(this),nn(t)}}:function(t){setTimeout(rn(t),0)});var cn,sn,un,ln,fn,dn,pn,hn,mn={set:Je,clear:Ke},gn=/web0s(?!.*chrome)/i.test(Qt),vn=V.f,yn=mn.set,bn=w.MutationObserver||w.WebKitMutationObserver,wn=w.document,Sn=w.process,On=w.Promise,xn=vn(w,"queueMicrotask"),En=xn&&xn.value;En||(cn=function(){var t,e;for(We&&(t=Sn.domain)&&t.exit();sn;){e=sn.fn,sn=sn.next;try{e()}catch(t){throw sn?ln():un=void 0,t}}un=void 0,t&&t.enter()},$e||We||gn||!bn||!wn?On&&On.resolve?((pn=On.resolve(void 0)).constructor=On,hn=pn.then,ln=function(){hn.call(pn,cn)}):ln=We?function(){Sn.nextTick(cn)}:function(){yn.call(w,cn)}:(fn=!0,dn=wn.createTextNode(""),new bn(cn).observe(dn,{characterData:!0}),ln=function(){dn.data=fn=!fn}));var _n,kn,jn,An,Pn,In,Tn,Mn=En||function(t){var e={fn:t,next:void 0};un&&(un.next=e),sn||(sn=e,ln()),un=e},Cn=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=je(e),this.reject=je(n)},Ln={f:function(t){return new Cn(t)}},Nn=function(t,e){if(q(t),C(e)&&e.constructor===t)return e;var n=Ln.f(t);return(0,n.resolve)(e),n.promise},Rn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},zn="object"==typeof window,Fn=mn.set,Dn=se("species"),Un="Promise",Bn=yt.get,Hn=yt.set,Vn=yt.getterFor(Un),qn=Se&&Se.prototype,Gn=Se,$n=qn,Wn=w.TypeError,Yn=w.document,Jn=w.process,Kn=Ln.f,Xn=Kn,Qn=!!(Yn&&Yn.createEvent&&w.dispatchEvent),Zn="function"==typeof PromiseRejectionEvent,tr=!1,er=Wt(Un,(function(){var t=tt(Gn),e=t!==String(Gn);if(!e&&66===ne)return!0;if(ne>=51&&/native code/.test(t))return!1;var n=new Gn((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[Dn]=r,!(tr=n.then((function(){}))instanceof r)||!e&&zn&&!Zn})),nr=er||!function(t,e){if(!e&&!ze)return!1;var n=!1;try{var r={};r[Re]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Gn.all(t).catch((function(){}))})),rr=function(t){var e;return!(!C(t)||"function"!=typeof(e=t.then))&&e},or=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Mn((function(){for(var r=t.value,o=1==t.state,a=0;n.length>a;){var i,c,s,u=n[a++],l=o?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{l?(o||(2===t.rejection&&sr(t),t.rejection=1),!0===l?i=r:(p&&p.enter(),i=l(r),p&&(p.exit(),s=!0)),i===u.promise?d(Wn("Promise-chain cycle")):(c=rr(i))?c.call(i,f,d):f(i)):d(r)}catch(t){p&&!s&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ir(t)}))}},ar=function(t,e,n){var r,o;Qn?((r=Yn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),w.dispatchEvent(r)):r={promise:e,reason:n},!Zn&&(o=w["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=w.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},ir=function(t){Fn.call(w,(function(){var e,n=t.facade,r=t.value;if(cr(t)&&(e=Rn((function(){We?Jn.emit("unhandledRejection",r,n):ar("unhandledrejection",n,r)})),t.rejection=We||cr(t)?2:1,e.error))throw e.value}))},cr=function(t){return 1!==t.rejection&&!t.parent},sr=function(t){Fn.call(w,(function(){var e=t.facade;We?Jn.emit("rejectionHandled",e):ar("rejectionhandled",e,t.value)}))},ur=function(t,e,n){return function(r){t(e,r,n)}},lr=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,or(t,!0))},fr=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw Wn("Promise can't be resolved itself");var o=rr(n);o?Mn((function(){var r={done:!1};try{o.call(n,ur(t,r,e),ur(lr,r,e))}catch(t){lr(r,t,e)}})):(e.value=n,e.state=1,or(e,!1))}catch(t){lr({done:!1},t,e)}}};if(er&&($n=(Gn=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,Gn,Un),je(t),_n.call(this);var e=Bn(this);try{t(ur(fr,e),ur(lr,e))}catch(t){lr(e,t)}}).prototype,(_n=function(t){Hn(this,{type:Un,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)bt(t,r,e[r],n);return t}($n,{then:function(t,e){var n=Vn(this),r=Kn(qe(this,Gn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=We?Jn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&or(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),kn=function(){var t=new _n,e=Bn(t);this.promise=t,this.resolve=ur(fr,e),this.reject=ur(lr,e)},Ln.f=Kn=function(t){return t===Gn||t===jn?new kn(t):Xn(t)},"function"==typeof Se&&qn!==Object.prototype)){An=qn.then,tr||(bt(qn,"then",(function(t,e){var n=this;return new Gn((function(t,e){An.call(n,t,e)})).then(t,e)}),{unsafe:!0}),bt(qn,"catch",$n.catch,{unsafe:!0}));try{delete qn.constructor}catch(t){}Oe&&Oe(qn,$n)}Jt({global:!0,wrap:!0,forced:er},{Promise:Gn}),In=Un,Tn=!1,(Pn=Gn)&&!z(Pn=Tn?Pn:Pn.prototype,Ee)&&xe(Pn,Ee,{configurable:!0,value:In}),ke(Un),jn=Ot(Un),Jt({target:Un,stat:!0,forced:er},{reject:function(t){var e=Kn(this);return e.reject.call(void 0,t),e.promise}}),Jt({target:Un,stat:!0,forced:er},{resolve:function(t){return Nn(this,t)}}),Jt({target:Un,stat:!0,forced:nr},{all:function(t){var e=this,n=Kn(e),r=n.resolve,o=n.reject,a=Rn((function(){var n=je(e.resolve),a=[],i=0,c=1;Ne(t,(function(t){var s=i++,u=!1;a.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,a[s]=t,--c||r(a))}),o)})),--c||r(a)}));return a.error&&o(a.value),n.promise},race:function(t){var e=this,n=Kn(e),r=n.reject,o=Rn((function(){var o=je(e.resolve);Ne(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var dr=[].slice,pr=function(t){return function(e,n){var r=arguments.length>2,o=r?dr.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};if(Jt({global:!0,bind:!0,forced:/MSIE .\./.test(Qt)},{setTimeout:pr(w.setTimeout),setInterval:pr(w.setInterval)}),Jt({target:"Promise",proto:!0,real:!0,forced:!!Se&&S((function(){Se.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=qe(this,Ot("Promise")),n="function"==typeof t;return this.then(n?function(n){return Nn(e,t()).then((function(){return n}))}:t,n?function(n){return Nn(e,t()).then((function(){throw n}))}:t)}}),"function"==typeof Se){var hr=Ot("Promise").prototype.finally;Se.prototype.finally!==hr&&bt(Se.prototype,"finally",hr,{unsafe:!0})}var mr,gr=Object.keys||function(t){return Lt(t,Nt)},vr=O?Object.defineProperties:function(t,e){q(t);for(var n,r=gr(e),o=r.length,a=0;o>a;)$.f(t,n=r[a++],e[n]);return t},yr=st("IE_PROTO"),br=function(){},wr=function(t){return"<script>"+t+"<\/script>"},Sr=function(){try{mr=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Sr=mr?function(t){t.write(wr("")),t.close();var e=t.parentWindow.Object;return t=null,e}(mr):((e=U("iframe")).style.display="none",Ge.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(wr("document.F=Object")),t.close(),t.F);for(var n=Nt.length;n--;)delete Sr.prototype[Nt[n]];return Sr()};ut[yr]=!0;var Or=Object.create||function(t,e){var n;return null!==t?(br.prototype=q(t),n=new br,br.prototype=null,n[yr]=t):n=Sr(),void 0===e?n:vr(n,e)},xr=se("unscopables"),Er=Array.prototype;null==Er[xr]&&$.f(Er,xr,{configurable:!0,value:Or(null)});var _r=function(t){Er[xr][t]=!0},kr=Mt.includes;Jt({target:"Array",proto:!0},{includes:function(t){return kr(this,t,arguments.length>1?arguments[1]:void 0)}}),_r("includes");var jr=se("match"),Ar=function(t){var e;return C(t)&&(void 0!==(e=t[jr])?!!e:"RegExp"==A(t))},Pr=function(t){if(Ar(t))throw TypeError("The method doesn't accept regular expressions");return t},Ir=se("match");Jt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ir]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(T(this)).indexOf(Pr(t),arguments.length>1?arguments[1]:void 0)}});var Tr=function(t,e,n){var r,o;return Oe&&"function"==typeof(r=e.constructor)&&r!==n&&C(o=r.prototype)&&o!==n.prototype&&Oe(t,o),t},Mr=function(){var t=q(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Cr=function(t,e){return RegExp(t,e)},Lr={UNSUPPORTED_Y:S((function(){var t=Cr("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:S((function(){var t=Cr("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Nr=S((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Rr=S((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),zr=$.f,Fr=zt.f,Dr=yt.enforce,Ur=se("match"),Br=w.RegExp,Hr=Br.prototype,Vr=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,qr=/a/g,Gr=/a/g,$r=new Br(qr)!==qr,Wr=Lr.UNSUPPORTED_Y,Yr=O&&(!$r||Wr||Nr||Rr||S((function(){return Gr[Ur]=!1,Br(qr)!=qr||Br(Gr)==Gr||"/a/i"!=Br(qr,"i")})));if(Wt("RegExp",Yr)){for(var Jr=function(t,e){var n,r,o,a,i,c,s=this instanceof Jr,u=Ar(t),l=void 0===e,f=[],d=t;if(!s&&u&&l&&t.constructor===Jr)return t;if((u||t instanceof Jr)&&(t=t.source,l&&(e="flags"in d?d.flags:Mr.call(d))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),d=t,Nr&&"dotAll"in qr&&(r=!!e&&e.indexOf("s")>-1)&&(e=e.replace(/s/g,"")),n=e,Wr&&"sticky"in qr&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,"")),Rr&&(t=(a=function(t){for(var e,n=t.length,r=0,o="",a=[],i={},c=!1,s=!1,u=0,l="";r<=n;r++){if("\\"===(e=t.charAt(r)))e+=t.charAt(++r);else if("]"===e)c=!1;else if(!c)switch(!0){case"["===e:c=!0;break;case"("===e:Vr.test(t.slice(r+1))&&(r+=2,s=!0),o+=e,u++;continue;case">"===e&&s:if(""===l||z(i,l))throw new SyntaxError("Invalid capture group name");i[l]=!0,a.push([l,u]),s=!1,l="";continue}s?l+=e:o+=e}return[o,a]}(t))[0],f=a[1]),i=Tr(Br(t,e),s?this:Hr,Jr),(r||o||f.length)&&(c=Dr(i),r&&(c.dotAll=!0,c.raw=Jr(function(t){for(var e,n=t.length,r=0,o="",a=!1;r<=n;r++)"\\"!==(e=t.charAt(r))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),o+=e):o+="[\\s\\S]":o+=e+t.charAt(++r);return o}(t),n)),o&&(c.sticky=!0),f.length&&(c.groups=f)),t!==d)try{W(i,"source",""===d?"(?:)":d)}catch(t){}return i},Kr=function(t){t in Jr||zr(Jr,t,{configurable:!0,get:function(){return Br[t]},set:function(e){Br[t]=e}})},Xr=Fr(Br),Qr=0;Xr.length>Qr;)Kr(Xr[Qr++]);Hr.constructor=Jr,Jr.prototype=Hr,bt(w,"RegExp",Jr)}ke("RegExp");var Zr=yt.get,to=RegExp.prototype.exec,eo=rt("native-string-replace",String.prototype.replace),no=to,ro=function(){var t=/a/,e=/b*/g;return to.call(t,"a"),to.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),oo=Lr.UNSUPPORTED_Y||Lr.BROKEN_CARET,ao=void 0!==/()??/.exec("")[1];(ro||ao||oo||Nr||Rr)&&(no=function(t){var e,n,r,o,a,i,c,s=this,u=Zr(s),l=u.raw;if(l)return l.lastIndex=s.lastIndex,e=no.call(l,t),s.lastIndex=l.lastIndex,e;var f=u.groups,d=oo&&s.sticky,p=Mr.call(s),h=s.source,m=0,g=t;if(d&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,m++),n=new RegExp("^(?:"+h+")",p)),ao&&(n=new RegExp("^"+h+"$(?!\\s)",p)),ro&&(r=s.lastIndex),o=to.call(d?n:s,g),d?o?(o.input=o.input.slice(m),o[0]=o[0].slice(m),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:ro&&o&&(s.lastIndex=s.global?o.index+o[0].length:r),ao&&o&&o.length>1&&eo.call(o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&f)for(o.groups=i=Or(null),a=0;a<f.length;a++)i[(c=f[a])[0]]=o[c[1]];return o});var io=no;Jt({target:"RegExp",proto:!0,forced:/./.exec!==io},{exec:io});var co=RegExp.prototype,so=co.toString,uo=S((function(){return"/a/b"!=so.call({source:"a",flags:"b"})})),lo="toString"!=so.name;(uo||lo)&&bt(RegExp.prototype,"toString",(function(){var t=q(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in co)?Mr.call(t):n)}),{unsafe:!0});var fo=se("species"),po=RegExp.prototype,ho=function(t,e,n,r){var o=se(t),a=!S((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),i=a&&!S((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[fo]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!a||!i||n){var c=/./[o],s=e(o,""[t],(function(t,e,n,r,o){var i=e.exec;return i===io||i===po.exec?a&&!o?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));bt(String.prototype,t,s[0]),bt(po,o,s[1])}r&&W(po[o],"sham",!0)},mo=function(t){return function(e,n){var r,o,a=String(T(e)),i=_t(n),c=a.length;return i<0||i>=c?t?"":void 0:(r=a.charCodeAt(i))<55296||r>56319||i+1===c||(o=a.charCodeAt(i+1))<56320||o>57343?t?a.charAt(i):r:t?a.slice(i,i+2):o-56320+(r-55296<<10)+65536}},go={codeAt:mo(!1),charAt:mo(!0)}.charAt,vo=function(t,e,n){return e+(n?go(t,e).length:1)},yo=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==A(t))throw TypeError("RegExp#exec called on incompatible receiver");return io.call(t,e)};ho("match",(function(t,e,n){return[function(e){var n=T(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,this,t);if(r.done)return r.value;var o=q(this),a=String(t);if(!o.global)return yo(o,a);var i=o.unicode;o.lastIndex=0;for(var c,s=[],u=0;null!==(c=yo(o,a));){var l=String(c[0]);s[u]=l,""===l&&(o.lastIndex=vo(a,jt(o.lastIndex),i)),u++}return 0===u?null:s}]}));var bo=function(){var t=wo("FTConsent");return t&&t.includes("behaviouraladsOnsite:on")},wo=function(t){var e=new RegExp("".concat(t,"=([^;]+)")),n=document.cookie.match(e);return!!n&&decodeURIComponent(n[1])},So="b2b3b748-e1f6-4bd5-b2f2-26debc8075a3",Oo="e1c3fd73-dd41-4abd-b80b-4278d52bf7aa",xo={},Eo=function(){var t=s(o.a.mark((function t(e){var n,r,a,i,c,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.propGetter,r=void 0===n?function(){}:n,a=e.maxAttempts,i=void 0===a?10:a,c=e.timeBetweenTentatives,s=void 0===c?500:c,i){t.next=3;break}return t.abrupt("return");case 3:if(u=r()){t.next=8;break}return t.next=7,new Promise((function(t){return setTimeout(t,s)}));case 7:return t.abrupt("return",Eo({propGetter:r,maxAttempts:--i,timeBetweenTentatives:s}));case 8:return t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_o=se("species"),ko=function(t,e){var n;return Kt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Kt(n.prototype)?C(n)&&null===(n=n[_o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},jo=[].push,Ao=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,a=6==t,i=7==t,c=5==t||a;return function(s,u,l,f){for(var d,p,h=N(s),m=I(h),g=Te(u,l,3),v=jt(m.length),y=0,b=f||ko,w=e?b(s,v):n||i?b(s,0):void 0;v>y;y++)if((c||y in m)&&(p=g(d=m[y],y,h),t))if(e)w[y]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return y;case 2:jo.call(w,d)}else switch(t){case 4:return!1;case 7:jo.call(w,d)}return a?-1:r||o?o:w}},Po={forEach:Ao(0),map:Ao(1),filter:Ao(2),some:Ao(3),every:Ao(4),find:Ao(5),findIndex:Ao(6),filterOut:Ao(7)},Io=Po.find,To=!0;"find"in[]&&Array(1).find((function(){To=!1})),Jt({target:"Array",proto:!0,forced:To},{find:function(t){return Io(this,t,arguments.length>1?arguments[1]:void 0)}}),_r("find");var Mo=Po.map;Jt({target:"Array",proto:!0,forced:!le("map")},{map:function(t){return Mo(this,t,arguments.length>1?arguments[1]:void 0)}});var Co=se("isConcatSpreadable"),Lo=ne>=51||!S((function(){var t=[];return t[Co]=!1,t.concat()[0]!==t})),No=le("concat"),Ro=function(t){if(!C(t))return!1;var e=t[Co];return void 0!==e?!!e:Kt(t)};Jt({target:"Array",proto:!0,forced:!Lo||!No},{concat:function(t){var e,n,r,o,a,i=N(this),c=ko(i,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(Ro(a=-1===e?i:arguments[e])){if(s+(o=jt(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,s++)n in a&&Xt(c,s,a[n])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Xt(c,s++,a)}return c.length=s,c}});var zo=$.f,Fo=Function.prototype,Do=Fo.toString,Uo=/^\s*function ([^ (]*)/;O&&!("name"in Fo)&&zo(Fo,"name",{configurable:!0,get:function(){try{return Do.call(this).match(Uo)[1]}catch(t){return""}}});var Bo=function(t,e){return null!=e&&e.constructor===t},Ho=function(t){return function(e){var n=t.find((function(t){return t.key===e}));return n&&n.value}},Vo=function(t){return!!(t&&t[0]&&t[0].key&&t[0].value)},qo=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{adsApiV1Array:!1,throwOnError:!1};if(null!==n){var o={},a=e,i=n;for(var c in r.adsApiV1Array&&(a=e.map((function(t){return t.key})),i=n.map((function(t){return t.key}))),a){var s=r.adsApiV1Array?Ho(a)(c):i[c],u=r.adsApiV1Array?Ho(i)(c):a[c];if(c in i&&s){if(Bo(Function,u)&&!Bo(u,s)){if(r.throwOnError)throw new Error("[".concat(c,"] value [").concat(s,"] does not match ").concat(u.name));console.warn("ads-permutive.filterWithSchema(): [".concat(c,"] value [").concat(s,"] does not match ").concat(u.name));continue}Bo(Object,u)?o[c]=t(u,s):Bo(Array,u)?o[c]=t(u,s,{adsApiV1Array:Vo(u)}):o[c]=s}}return o}},Go={user:{dfp:{targeting:[{key:"device_spoor_id",value:String},{key:"guid",value:String},{key:"05",value:String},{key:"06",value:String},{key:"07",value:String},{key:"slv",value:String},{key:"loggedIn",value:Boolean},{key:"gender",value:String},{key:"indb2b",value:String}]}},article:{dfp:{targeting:[{key:"auuid",value:String},{key:"title",value:String},{key:"ca",value:String},{key:"topic",value:String},{key:"ad",value:String}]},krux:{attributes:[{key:"brand",value:String},{key:"genre",value:Array},{key:"organisations",value:Array},{key:"people",value:Array},{key:"authors",value:Array}]}}},$o={user:i(i({},{uuid:String}),{},{industry:{code:String},responsibility:{code:String},position:{code:String},loggedInStatus:Boolean,hui:{indb2b:String,gender:String}}),article:{uuid:String,title:String,brand:Array,genre:Array,organisation:Array,person:Array,categories:Array,author:Array,topic:Array,admants:Array,specialReport:Array,adUnit:Array}},Wo={rootId:String,type:String,user:{industry:String,position:String,responsibility:String,subscriptionLevel:String,loggedIn:String,indb2b:String,gender:String},article:{id:String,title:String,type:String,organisations:Array,people:Array,categories:Array,authors:Array,topics:Array,admants:Array,brand:Array}},Yo=function(){function t(){u(this,t)}return f(t,null,[{key:"formatFrom",value:function(t,e){return e?e(t):t}}]),t}(),Jo=Date.prototype,Ko=Jo.toString,Xo=Jo.getTime;new Date(NaN)+""!="Invalid Date"&&bt(Jo,"toString",(function(){var t=Xo.call(this);return t==t?Ko.call(this):"Invalid Date"}));var Qo=Lr.UNSUPPORTED_Y,Zo=[].push,ta=Math.min;ho("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(T(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!Ar(t))return e.call(r,t,o);for(var a,i,c,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,u+"g");(a=io.call(f,r))&&!((i=f.lastIndex)>l&&(s.push(r.slice(l,a.index)),a.length>1&&a.index<r.length&&Zo.apply(s,a.slice(1)),c=a[0].length,l=i,s.length>=o));)f.lastIndex===a.index&&f.lastIndex++;return l===r.length?!c&&f.test("")||s.push(""):s.push(r.slice(l)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=T(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,this,t,o,r!==e);if(a.done)return a.value;var i=q(this),c=String(t),s=qe(i,RegExp),u=i.unicode,l=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Qo?"g":"y"),f=new s(Qo?"^(?:"+i.source+")":i,l),d=void 0===o?4294967295:o>>>0;if(0===d)return[];if(0===c.length)return null===yo(f,c)?[c]:[];for(var p=0,h=0,m=[];h<c.length;){f.lastIndex=Qo?0:h;var g,v=yo(f,Qo?c.slice(h):c);if(null===v||(g=ta(jt(f.lastIndex+(Qo?h:0)),c.length))===p)h=vo(c,h,u);else{if(m.push(c.slice(p,h)),m.length===d)return m;for(var y=1;y<=v.length-1;y++)if(m.push(v[y]),m.length===d)return m;h=p=g}}return m.push(c.slice(p)),m}]}),!!S((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Qo);var ea=[].join,na=I!=Object,ra=function(t,e){var n=[][t];return!!n&&S((function(){n.call(null,e||function(){throw 1},1)}))}("join",",");Jt({target:"Array",proto:!0,forced:na||!ra},{join:function(t){return ea.call(M(this),void 0===t?",":t)}});var oa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in u(this,t),qo(Go,e))this[n]=e[n]}return f(t,[{key:"toPageViewData",value:function(){var t=this.user,e=this.article,n={};if(t){var r=t.dfp&&t.dfp.targeting;if(r){var o=Ho(r),a=o("05"),c=o("06"),s=o("07"),u=o("slv"),l=o("loggedIn"),f=o("gender"),d=o("indb2b");n.user=i(i(i(i(i(i(i({},a&&{industry:a}),c&&{responsibility:c}),s&&{position:s}),u&&{subscriptionLevel:u}),l&&{loggedIn:l.toString()}),f&&{gender:f}),d&&{indb2b:d})}}if(e){var p=e.dfp&&e.dfp.targeting,h=e.krux&&e.krux.attributes;if(p){var m=Ho(p),g=m("auuid"),v=m("title"),y=m("ca"),b=m("topic"),w=m("ad");n.article=i(i(i(i(i({},g&&{id:g}),v&&{title:v}),y&&{categories:y.split(",")}),b&&{topics:b.split(",")}),w&&{admants:w.split(",")})}if(h){var S=Ho(h),O=S("genre"),x=S("organisations"),E=S("people"),_=S("authors"),k=S("brand");n.article=i(i(i(i(i(i({},n.article),k&&{brand:k}),O&&{type:O.join()}),x&&{organisations:x}),E&&{people:E}),_&&{authors:_})}}return n}}]),t}(),aa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in u(this,t),qo($o,e))this[n]=e[n]}return f(t,[{key:"toPageViewData",value:function(){var t=this.user,e=this.article;return i(i(i({},this),t&&{user:i(i(i(i(i(i(i({},t),t.industry&&t.industry.code&&{industry:t.industry.code}),t.position&&t.position.code&&{position:t.position.code}),t.responsibility&&t.responsibility.code&&{responsibility:t.responsibility.code}),"loggedInStatus"in t&&{loggedIn:t.loggedInStatus.toString()}),t.hui&&t.hui.indb2b&&{indb2b:t.hui.indb2b}),t.hui&&t.hui.gender&&{gender:t.hui.gender})}),e&&{article:i(i(i(i(i(i(i(i({},e),e.uuid&&{id:e.uuid}),e.genre&&{type:e.genre.join()}),e.brand&&{brand:e.brand}),e.organisation&&{organisations:e.organisation}),e.person&&{people:e.person}),e.author&&{authors:e.author}),e.topic&&{topics:e.topic})})}}]),t}(),ia=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new t(e);return new ca(i({type:e.type,rootId:e.rootId},n.toPageViewData()))}},ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,n),(t=e.call(this)).page=qo(Wo,r),t}return f(n,null,[{key:"formatFrom",value:function(t,e){return e?e(t):new n(t)}},{key:"fromAdsDataManager",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(aa)(t)}},{key:"fromAdsApiV2",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(aa)(t)}},{key:"fromAdsApiV1",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(oa)(t)}}]),n}(Yo),sa="[\t\n\v\f\r                　\u2028\u2029\ufeff]",ua=RegExp("^"+sa+sa+"*"),la=RegExp(sa+sa+"*$"),fa=function(t){return function(e){var n=String(T(e));return 1&t&&(n=n.replace(ua,"")),2&t&&(n=n.replace(la,"")),n}},da={start:fa(1),end:fa(2),trim:fa(3)},pa=zt.f,ha=V.f,ma=$.f,ga=da.trim,va=w.Number,ya=va.prototype,ba="Number"==A(Or(ya)),wa=function(t){var e,n,r,o,a,i,c,s,u=L(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=ga(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(i=(a=u.slice(2)).length,c=0;c<i;c++)if((s=a.charCodeAt(c))<48||s>o)return NaN;return parseInt(a,r)}return+u};if(Wt("Number",!va(" 0o1")||!va("0b1")||va("+0x1"))){for(var Sa,Oa=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Oa&&(ba?S((function(){ya.valueOf.call(n)})):"Number"!=A(n))?Tr(new va(wa(e)),n,Oa):wa(e)},xa=O?pa(va):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Ea=0;xa.length>Ea;Ea++)z(va,Sa=xa[Ea])&&!z(Oa,Sa)&&ma(Oa,Sa,ha(va,Sa));Oa.prototype=ya,ya.constructor=Oa,bt(w,"Number",Oa)}var _a={eventsCacheLimitBytes:Number},ka=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return qo(_a,t,{throwOnError:!0})}catch(t){console.warn("Invalid config option: ".concat(t.message))}},ja=function(){var t=s(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){return window.permutive&&window.permutive._internals&&window.permutive._internals.state&&window.permutive._internals.state.viewId},t.abrupt("return",Eo({propGetter:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Aa=function(t,e,n){!function(t,e,n,r,o){if(!e){e=e||{},window.permutive=e,e.q=[],e.config=o||{},e.config.projectId=n,e.config.apiKey=r,e.config.environment=e.config.environment||"production";for(var a=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],i=0;i<a.length;i++){var c=a[i];e[c]=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);e.q.push({functionName:t,arguments:n})}}(c)}}}(document,window.permutive,t,e,n||{}),Ia()},Pa=function(){return!!window.permutive||(bo()&&console.warn("ads-permutive.isInitialised(): window.permutive not initialised. Perhaps setup() has not been executed yet?"),!1)},Ia=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("permutive",La.getSegments()),window.googletag.pubads().setTargeting("permutive-id",La.getPermutiveId()||""),La.getViewId().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.googletag.pubads().setTargeting("view-id",t)})).catch((function(){console.warn("ads-permutive.setTargeting(): could not retrieve view-id")}))}))},Ta=ca.fromAdsApiV1,Ma=ca.fromAdsApiV2,Ca=ca.fromAdsApiV2,La={setup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Oo,n=So;bo()&&Aa(e,n,ka(t))},trackPageView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mappingFunc:null},n=Bo(ca,t)?t:ca.formatFrom(t,e.mappingFunc);Pa()&&window.permutive.addon("web",n)},trackEvent:function(t,e){t&&"string"==typeof t?Pa()&&window.permutive.track(t,e):console.warn("ads-permutive.trackEvent(): eventName must be a non-empty string")},identifyUser:function(t){if(Pa())if(t){var e=t.uuid,n=[];e&&n.push({id:e,tag:"GUID"}),n.length&&window.permutive.identify(n)}else console.warn("ads-permutive.identifyUser(): missing user parameter")},setTargeting:Ia,getViewId:ja,getPermutiveId:function(){return window.localStorage.getItem("permutive-id")},getSegments:function(){var t=window.localStorage.getItem("_pdfps");try{return t?JSON.parse(t):[]}catch(t){return console.warn("ads-permutive.getSegments(): could not retrieve permutive segments"),[]}},fromAdsApiV1ToPageView:Ta,fromAdsApiV2ToPageView:Ma,fromAdsDataToPageView:Ca,hasConsentedToBehaviouralAds:bo,loadPermutiveScript:function(){return bo()&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.scriptId,r=e.globalName,o=void 0!==r&&r,a=e.timeout,i=void 0===a?5e3:a,c=e.attributes,s=void 0===c?{}:c,u=e.removeScriptAfterLoad,l=void 0!==u&&u;if(xo[t])return xo[t];var f=document.createElement("script"),d=new Promise((function(e,r){if(o&&window[o])return e();for(var a in n&&(f.id=n),f.onload=e,f.crossorigin="anonymous",f.onerror=r,f.src=t,s)f.setAttribute(a,s[a]);document.body.appendChild(f),setTimeout((function(){if(!o||window[o])e();else{var n=new Error("Can't load ".concat(t));n.target=f,r(n)}}),i)})).then((function(){return o&&(xo[t]=void 0),!o||window[o]})).catch((function(e){throw xo[t]=void 0,e})).finally((function(){l&&f.parentNode&&f.parentNode.removeChild(f)}));return xo[t]=d,d}("https://cdn.permutive.com/".concat(Oo,"-web.js"),{scriptId:"permutive-script"})},isInitialised:Pa};e.a=La}).call(this,n("fcdffa92"))},"2efdf1ec":function(t,e,n){"use strict";e.__esModule=!0,e.extend=c,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(o,i)},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},e.createFrame=function(t){var e=c({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/;function i(t){return r[t]}function c(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var s=Object.prototype.toString;e.toString=s;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=u;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};e.isArray=l},"33da028e":function(t,e,n){"use strict";e.__esModule=!0;var r=n("2efdf1ec"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},"434249c1":function(t,e,n){"use strict";e.__esModule=!0;var r=n("2efdf1ec");e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var o=n.inverse,a=n.fn;if(!0===e)return a(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var i=r.createFrame(n.data);i.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:i}}return a(e,n)}))},t.exports=e.default},"473cebbc":function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=c.COMPILER_REVISION;if(e>=c.LAST_COMPATIBLE_COMPILER_REVISION&&e<=c.COMPILER_REVISION)return;if(e<c.LAST_COMPATIBLE_COMPILER_REVISION){var r=c.REVISION_CHANGES[n],o=c.REVISION_CHANGES[e];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new i.default("No environment passed to template");if(!t||!t.main)throw new i.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var r={strict:function(t,e,n){if(!t||!(e in t))throw new i.default('"'+e+'" not defined in '+t,{loc:n});return r.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||l.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,o=0;o<n;o++){if(null!=(t[o]&&r.lookupProperty(t[o],e)))return t[o][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=o.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,a);var c=o.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=e.VM.invokePartial.call(this,n,r,c);if(null==s&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),s=a.partials[a.name](r,c)),null!=s){if(a.indent){for(var u=s.split("\n"),l=0,f=u.length;l<f&&(u[l]||l+1!==f);l++)u[l]=a.indent+u[l];s=u.join("\n")}return s}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var a=this.programs[t],i=this.fn(t);return e||o||r||n?a=f(this,t,i,e,n,r,o):a||(a=this.programs[t]=f(this,t,i)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=o.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function a(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;a._setup(n),!n.partial&&t.useData&&(o=p(e,o));var i=void 0,c=t.useBlockParams?[]:void 0;function s(e){return""+t.main(r,e,r.helpers,r.partials,o,c,i)}return t.useDepths&&(i=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(s=h(t.main,s,r,n.depths||[],o,c))(e,n)}return a.isTop=!0,a._setup=function(a){if(a.partial)r.protoAccessControl=a.protoAccessControl,r.helpers=a.helpers,r.partials=a.partials,r.decorators=a.decorators,r.hooks=a.hooks;else{var i=o.extend({},e.helpers,a.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return u.wrapHelper(t,(function(t){return o.extend({lookupProperty:n},t)}))}(r,e)}))}(i,r),r.helpers=i,t.usePartial&&(r.partials=r.mergeIfNeeded(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=o.extend({},e.decorators,a.decorators)),r.hooks={},r.protoAccessControl=l.createProtoAccessControl(a);var c=a.allowCallsToHelperMissing||n;s.moveHelperToHooks(r,"helperMissing",c),s.moveHelperToHooks(r,"blockHelperMissing",c)}},a._child=function(e,n,o,a){if(t.useBlockParams&&!o)throw new i.default("must pass block params");if(t.useDepths&&!a)throw new i.default("must pass parent depths");return f(r,e,t[e],n,0,o,a)},a},e.wrapProgram=f,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==d&&function(){n.data=c.createFrame(n.data);var t=n.fn;a=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=c.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=o.extend({},n.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new i.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=d;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("2efdf1ec")),a=n("5bdd616f"),i=(r=a)&&r.__esModule?r:{default:r},c=n("04443d17"),s=n("ecf9aeee"),u=n("05f55755"),l=n("f0d14681");function f(t,e,n,r,o,a,i){function c(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=i;return!i||e==i[0]||e===t.nullContext&&null===i[0]||(c=[e].concat(i)),n(t,e,t.helpers,t.partials,o.data||r,a&&[o.blockParams].concat(a),c)}return(c=h(n,c,t,i,r,a)).program=e,c.depth=i?i.length:0,c.blockParams=o||0,c}function d(){return""}function p(t,e){return e&&"root"in e||((e=e?c.createFrame(e):{}).root=t),e}function h(t,e,n,r,a,i){if(t.decorator){var c={};e=t.decorator(e,c,n,r&&r[0],a,i,r),o.extend(e,c)}return e}},"4cbca5a5":function(t,e){var n='["'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",").join('","')+'"]',r='["'+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",").join('","')+'"]',o={datetime:"MMMM d yyyy h:mm a",date:"MMMM d yyyy"},a={},i={MMMM:"months[date.getMonth()]",MMM:"months[date.getMonth()].substr(0,3)",MM:"pad2(date.getMonth() + 1, 2)",M:"(date.getMonth() + 1)",yyyy:"date.getFullYear()",yy:'(""+date.getFullYear()).substr(-2, 2)',EEEE:"days[date.getDay()]",EEE:"days[date.getDay()].substr(0,3)",d:"date.getDate()",dd:"pad2(date.getDate())",do:"ordinal(date.getDate())",m:"date.getMinutes()",mm:"pad2(date.getMinutes())",h:"(((date.getHours() + 11) % 12) + 1)",hh:"pad2(((date.getHours() + 11) % 12) + 1)",H:"date.getHours()",HH:"pad2(date.getHours())",a:'(date.getHours() >= 12 ? "pm" : "am")'},c={minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3};var s={toDate:function(t){if("Invalid Date"!==(t=t instanceof Date?t:new Date(t)).toString())return t},asTodayOrYesterdayOrNothing:function(t){if(t){var e=new Date,n=s.getSecondsBetween(e,t);return s.isToday(t,e,n)?"today":s.isYesterday(t,e,n)?"yesterday":""}},format:function(t,e){var c=a[e=e||"datetime"]||function(t){var e="var months= "+n+", days= "+r+";";return e+='function pad2 (number) {return ("0" + number).slice(-2)}',e+='function ordinal(number) {\n\t\tconst suffixes = ["th", "st", "nd", "rd"];\n\t\tconst v = number % 100;\n\t\treturn number + (suffixes[(v - 20) % 10] || suffixes[v] || suffixes[0]);\n\t}',e+='return "'+(o[t]||t).replace(/\\?[a-z]+/gi,(function(t){if("\\"===t.charAt(0))return t.substr(1);var e=i[t];return e?'" + '+e+' + "':t}))+'"',a[t]=new Function("date",e)}(e);return(t=s.toDate(t))&&c(t)},timeAgo:function(t,e,n){if(t=s.toDate(t)){if(2===arguments.length&&"object"==typeof e&&(e=(n=e).interval),e||(e=s.getSecondsBetween(new Date,t)),n&&n.limit>0&&(!e||e>n.limit))return"";var r=!!n&&n.abbreviated,o=e<0?"from now":"ago";return(e=Math.abs(e))<c.minute?"".concat(r?e+"s":e+" seconds"," ").concat(o):e<1.5*c.minute?"".concat(r?"1m":"a minute"," ").concat(o):e<59*c.minute?"".concat(Math.round(e/c.minute)).concat(r?"m":" minutes"," ").concat(o):e<1.5*c.hour?"".concat(r?"1h":"an hour"," ").concat(o):e<22*c.hour?"".concat(Math.round(e/c.hour)).concat(r?"h":" hours"," ").concat(o):e<1.5*c.day?"".concat(r?"1d":"a day"," ").concat(o):e<25*c.day?"".concat(Math.round(e/c.day)).concat(r?"d":" days"," ").concat(o):e<45*c.day?"".concat(r?"1mth":"a month"," ").concat(o):e<345*c.day?"".concat(Math.round(e/c.month)).concat(r?"mth":" months"," ").concat(o):e<547*c.day?"".concat(r?"1y":"a year"," ").concat(o):"".concat(Math.max(2,Math.floor(e/c.year))).concat(r?"y":" years"," ").concat(o)}},timeAgoNoSeconds:function(t){if(t){var e=new Date;return s.getSecondsBetween(e,t)<60?"Less than a minute ago":s.timeAgo(t)}},ftTime:function(t){var e=new Date,n=s.getSecondsBetween(e,t);return s.isNearFuture(n)?"just now":s.isFarFuture(n)?s.format(t,"date"):s.isToday(t,e,n)||n<4*c.hour?s.timeAgo(t,n):s.isYesterday(t,e,n)?"yesterday":s.format(t,"date")},getSecondsBetween:function(t,e){return Math.round((t-e)/1e3)},isNearFuture:function(t){return t<0&&t>-5*c.minute},isFarFuture:function(t){return t<-5*c.minute},isToday:function(t,e,n){var r=n<c.day,o=e.getDay()===t.getDay();return r&&o},isYesterday:function(t,e,n){var r=n<2*c.day,o=e.getDay()===t.getDay()+1;return r&&o},inSeconds:c};t.exports=s},"4f3b310b":function(t,e,n){var r=n("051e1e09");t.exports=(r.default||r).template({1:function(t,e,r,o,a){var i,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t\t<div data-o-grid-colspan="12 M6 L4" class="column myft-section-content__column">\n'+(null!=(i=t.invokePartial(n("012d6b7e"),e,{name:"n-topic-card/templates/concept",hash:{showPrioritiseButton:(i=(i=a&&c(a,"root"))&&c(i,"flags"))&&c(i,"myftPrioritiseTopicsOnHomepage"),cacheablePersonalisedUrl:!0,setFollowButtonStateToSelected:null!=e?c(e,"isFollowing"):e,items:null!=e?c(e,"latestContent"):e,conceptId:null!=e?c(e,"id"):e,flags:(i=a&&c(a,"root"))&&c(i,"flags")},data:a,indent:"\t\t\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?i:"")+"\t\t\t\t\t</div>\n"},3:function(t,e,n,r,o){return'\t\t\t<p class="myft-section-tail-action">\n\t\t\t\t<a\n\t\t\t\tclass="myft-section-tail-action__link"\n\t\t\t\t\tdata-trackable="industry recommendations"\n\t\t\t\t\thref="/myft/explore#industry">\n\t\t\t\t\tFind topics relevant to your industry\n\t\t\t\t</a>\n\t\t\t</p>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,i=null!=e?e:t.nullContext||{},c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section data-trackable="'+t.escapeExpression(t.lambda(null!=e?c(e,"id"):e,e))+'" class="o-grid-row section--myft section--myft-teasers">\n\t<div data-o-grid-colspan="12">\n\t\t<h2 class="o-teaser-collection__heading">\n\t\t\t<a href="/myft">Recent stories from myFT</a>\n\t\t</h2>\n\t</div>\n\t<div id="myft-section-content" data-o-grid-colspan="12" class="section__column section__column--content">\n\t\t<div class="section__column__inner">\n\t\t\t<div class="o-grid-row">\n'+(null!=(a=c(n,"each").call(i,null!=(a=null!=e?c(e,"data"):e)?c(a,"content"):a,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:10,column:4},end:{line:20,column:13}}}))?a:"")+"\t\t\t</div>\n\t\t</div>\n"+(null!=(a=c(n,"if").call(i,(a=(a=o&&c(o,"root"))&&c(a,"flags"))&&c(a,"myftIndustryRecs"),{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:23,column:2},end:{line:32,column:9}}}))?a:"")+"\t</div>\n</section>\n"},usePartial:!0,useData:!0})},"5587b1a4":function(t,e,n){var r=n("051e1e09");t.exports=(r.default||r).template({1:function(t,e,n,r,o){var a,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=i(n,"if").call(null!=e?e:t.nullContext||{},null!=e?i(e,"hideTitle"):e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.program(4,o,0),data:o,loc:{start:{line:2,column:1},end:{line:17,column:8}}}))?a:""},2:function(t,e,n,r,o){var a,i,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<div class="o-normalise-visually-hidden">'+(null!=(a="function"==typeof(i=null!=(i=c(n,"title")||(null!=e?c(e,"title"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:54}}}):i)?a:"")+"</div>\n"},4:function(t,e,n,r,o){var a,i,c,s=null!=e?e:t.nullContext||{},u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},l="\t\t<"+(null!=(a=u(n,"if").call(s,null!=e?u(e,"headingTag"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.program(7,o,0),data:o,loc:{start:{line:5,column:3},end:{line:5,column:53}}}))?a:"")+' class="o-teaser-collection__heading';return i=null!=(i=u(n,"headingModifiers")||(null!=e?u(e,"headingModifiers"):e))?i:t.hooks.helperMissing,c={name:"headingModifiers",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:89},end:{line:5,column:170}}},a="function"==typeof i?i.call(s,c):i,u(n,"headingModifiers")||(a=t.hooks.blockHelperMissing.call(e,a,c)),null!=a&&(l+=a),l+'"'+(null!=(a=u(n,"if").call(s,null!=e?u(e,"ariaLabel"):e,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:171},end:{line:5,column:222}}}))?a:"")+'>\n\t\t\t<span class="section-heading__text">\n'+(null!=(a=u(n,"if").call(s,null!=e?u(e,"url"):e,{name:"if",hash:{},fn:t.program(13,o,0),inverse:t.program(15,o,0),data:o,loc:{start:{line:7,column:4},end:{line:11,column:11}}}))?a:"")+"\t\t\t</span>\n"+(null!=(a=u(n,"if").call(s,null!=e?u(e,"badgeCopy"):e,{name:"if",hash:{},fn:t.program(17,o,0),inverse:t.noop,data:o,loc:{start:{line:13,column:3},end:{line:15,column:10}}}))?a:"")+"\t\t</"+(null!=(a=u(n,"if").call(s,null!=e?u(e,"headingTag"):e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.program(7,o,0),data:o,loc:{start:{line:16,column:4},end:{line:16,column:54}}}))?a:"")+">\n"},5:function(t,e,n,r,o){var a,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return t.escapeExpression("function"==typeof(a=null!=(a=i(n,"headingTag")||(null!=e?i(e,"headingTag"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"headingTag",hash:{},data:o,loc:{start:{line:5,column:21},end:{line:5,column:35}}}):a)},7:function(t,e,n,r,o){return"div"},9:function(t,e,n,r,o){return" o-teaser-collection__heading--"+t.escapeExpression(t.lambda(e,e))},11:function(t,e,n,r,o){var a,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return' aria-label="'+t.escapeExpression("function"==typeof(a=null!=(a=i(n,"ariaLabel")||(null!=e?i(e,"ariaLabel"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"ariaLabel",hash:{},data:o,loc:{start:{line:5,column:201},end:{line:5,column:214}}}):a)+'"'},13:function(t,e,n,r,o){var a,i,c=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t\t<a href="'+t.escapeExpression("function"==typeof(i=null!=(i=u(n,"url")||(null!=e?u(e,"url"):e))?i:s)?i.call(c,{name:"url",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:21}}}):i)+'" data-trackable="section-title">'+(null!=(a="function"==typeof(i=null!=(i=u(n,"title")||(null!=e?u(e,"title"):e))?i:s)?i.call(c,{name:"title",hash:{},data:o,loc:{start:{line:8,column:54},end:{line:8,column:65}}}):i)?a:"")+"</a>\n"},15:function(t,e,n,r,o){var a,i,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\t\t\t\t\t"+(null!=(a="function"==typeof(i=null!=(i=c(n,"title")||(null!=e?c(e,"title"):e))?i:t.hooks.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:10,column:5},end:{line:10,column:16}}}):i)?a:"")+"\n"},17:function(t,e,n,r,o){var a,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t<span class="section-heading__badge o-labels">'+t.escapeExpression("function"==typeof(a=null!=(a=i(n,"badgeCopy")||(null!=e?i(e,"badgeCopy"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"badgeCopy",hash:{},data:o,loc:{start:{line:14,column:50},end:{line:14,column:63}}}):a)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var a,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(a=i(n,"if").call(null!=e?e:t.nullContext||{},null!=e?i(e,"title"):e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:1,column:0},end:{line:18,column:7}}}))?a:""},useData:!0})},"5bdd616f":function(t,e,n){"use strict";e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function o(t,e){var n=e&&e.loc,a=void 0,i=void 0,c=void 0,s=void 0;n&&(a=n.start.line,i=n.end.line,c=n.start.column,s=n.end.column,t+=" - "+a+":"+c);for(var u=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=u[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=a,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=c,this.endColumn=s))}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},"66f22398":function(t,e,n){var r=n("f26e1e46");function o(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)}))}}var i=n("8b8c7872");t.exports=a(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.uuid().then((function(t){return t.uuid})));case 1:case"end":return t.stop()}}),t)})))},"74bbdf43":function(t,e){function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=function(t){return Array.from(new Set(t.filter((function(t){return!!t.contentSource})).map((function(t){return t.contentSource}))))},a=function(t){return Object.assign.apply(Object,[{}].concat(n(o(t).map((function(e){return n={},r=e,o=t.filter((function(t){return t.contentSource===e})).reduce((function(t,e){return t+e.items.length}),0),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n;var n,r,o})))))},i=function(t){var e=o(t);return e.length?1===e.length?"".concat(e[0],"_only"):e.join("_and_"):null},c=function(t){return t.filter((function(t){return"follows"===t.contentSource})).map((function(t){return t.items.filter((function(t){return t.isOldContent})).length})).reduce((function(t,e){return t+e}),0)};t.exports=function(t){return{contentSourceCounts:a(t),contentSources:i(t),oldFollowContentShown:c(t)}}},"78b00075":function(t,e,n){var r=n("74bbdf43");t.exports=function(t){document.body.dispatchEvent(new CustomEvent("oTracking.event",{detail:Object.assign({category:"front-page-myft",action:"view"},r(t)),bubbles:!0}))}},"7a7a82b9":function(t,e,n){var r=n("f26e1e46");function o(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)}))}}var i=n("0b2f5b41"),c=i.fetchLegislation,s=i.buildConsentPageUrl,u=n("886add87").createCCPALink,l="https://www.ft.com/preferences/privacy-ccpa";function f(){return(f=a(r.mark((function t(){var e,n,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c();case 3:e=t.sent,n=e.legislation,o=s({url:l,legislation:n}),n.has("ccpa")&&u(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}t.exports={makeUiCcpaCompliant:function(){return f.apply(this,arguments)}}},"7be2f5ab":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)throw Error("At least one parameter must be provided");var r=e.pop(),o=e.every(Boolean);return o?r.fn(this):r.inverse(this)}},"80f7e8f4":function(t,e,n){var r=n("f26e1e46");function o(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function c(t){o(i,r,a,c,s,"next",t)}function s(t){o(i,r,a,c,s,"throw",t)}c(void 0)}))}}var i=n("08a04e80").json,c=n("a96a87f9"),s=function(t){t.popularConcepts.forEach((function(t){return t.contentSource="popular"}));var e=t.popularConcepts.sort(l).filter(c.removeEmptyConcepts).filter(c.removeDuplicateConcepts);return e.reduce(c.filterDuplicateArticles,[]),{concepts:e}},u=function(t){return t.followsConcepts=Boolean(t.followed&&t.followed.length),t},l=function(t,e){var n=t.latestContent[0]&&t.latestContent[0].publishedDate||0,r=e.latestContent[0]&&e.latestContent[0].publishedDate||0,o=new Date(n).getTime();return new Date(r).getTime()-o};t.exports=a(r.mark((function t(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={credentials:"include",timeout:5e3},t.abrupt("return",fetch("https://www.ft.com/__myft/collections/popular?limit=6&latestContent",e).then(i).then(u).then(s));case 2:case"end":return t.stop()}}),t)})))},"844a099b":function(t,e,n){"use strict";e.__esModule=!0;var r=n("2efdf1ec");e.default=function(t){t.registerDecorator("inline",(function(t,e,n,o){var a=t;return e.partials||(e.partials={},a=function(o,a){var i=n.partials;n.partials=r.extend({},i,e.partials);var c=t(o,a);return n.partials=i,c}),e.partials[o.args[0]]=o.fn,a}))},t.exports=e.default},"85aa675c":function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(this,n("fcdffa92"))},"886add87":function(t,e){t.exports={createCCPALink:function(t){var e=document.querySelector("#site-footer [href='http://help.ft.com/help/legal-privacy/privacy/']"),n=e.cloneNode(!0);n.href=t,n.dataset&&(n.dataset.trackable="Do Not Sell My Info"),n.textContent="Do Not Sell My Info",e.parentNode.insertBefore(n,e)}}},"9745a518":function(t,e,n){"use strict";n.r(e),n.d(e,"get",(function(){return z})),n.d(e,"init",(function(){return F})),n.d(e,"track",(function(){return D}));var r=n("f26e1e46"),o=n.n(r);function a(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){a(i,r,o,c,s,"next",t)}function s(t){a(i,r,o,c,s,"throw",t)}c(void 0)}))}}var c="https://privacy.ft.com/api/v1",s="/compliance-region.json";function u(t){return{region:t.region,legislation:new Set(t.legislation.split(","))}}function l(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}}function f(){return d.apply(this,arguments)}function d(){return(d=i(o.a.mark((function t(){var e,n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=l()&&sessionStorage.getItem("user-compliance"),!(n=e&&JSON.parse(e))){t.next=6;break}return t.abrupt("return",Promise.resolve(u(n)));case 6:return t.prev=6,t.next=9,fetch("".concat(c).concat(s));case 9:return r=t.sent,t.next=12,r.ok?r.json():Promise.reject(r);case 12:return a=t.sent,l()&&sessionStorage.setItem("user-compliance",JSON.stringify(a)),t.abrupt("return",u(a));case 17:throw t.prev=17,t.t0=t.catch(6),new Error(t.t0.status);case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))).apply(this,arguments)}function p(){var t=document.cookie.split("; ").find((function(t){return t.startsWith("usprivacy")}));return t?t.split("=")[1]:null}function h(t,e,n){return m.apply(this,arguments)}function m(){return(m=i(o.a.mark((function t(e,n,r){var a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"==typeof r){t.next=3;break}return console.error("Please provide a valid callback to the __uspapi() function. __uspapi(command, version, callback)"),t.abrupt("return");case 3:if(1===n&&"getUSPData"===e){t.next=6;break}return console.error("Invalid version or command specified for the __uspapi() function"),t.abrupt("return");case 6:if(t.prev=6,!(a=p())){t.next=13;break}return r({version:n,uspString:a},!0),t.abrupt("return");case 13:return t.next=15,f();case 15:if(i=t.sent,!i.legislation.has("ccpa")){t.next=22;break}return r({version:n,uspString:"1NNN"},!0),t.abrupt("return");case 22:return r({version:n,uspString:"1---"},!0),t.abrupt("return");case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(6),r(void 0,!1);case 29:case"end":return t.stop()}}),t,null,[[6,26]])})))).apply(this,arguments)}function g(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var v=g(Object.freeze({__proto__:null,NO_PRIVACY_COOKIE:"no-privacy-cookie",getUsPrivacyCookie:p,getUsPrivacyForTracking:function(){return p()||"no-privacy-cookie"},__uspapi:h,setUSPrivacy:function(){"function"!=typeof window.__uspapi&&(window.__uspapi=h)},setUSPrivacyCookie:function(t,e){e=e||(document.location.hostname||"").replace("www.","");var n="1Y".concat(t?"N":"Y","N");document.cookie="usprivacy=".concat(n,";max-age=").concat(15768e4,";path=/;domain=").concat(e)}}));function y(t){var e=t.oAds,n=t.skipSmartmatch,r=t.pos,o=t.usprivacy,a=void 0===o?"":o,i=t.extraParams,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=function(t){return parseInt(Math.random()*Math.pow(10,t),10)};return((new Date).getTime()+""+e(16)+Math.random().toString(34).slice(2)).toString().substr(0,t)}(),s="pos=".concat(r),u=Object.assign({},e.targeting.get(),i);n&&(u.ftpb=1),u.url=window&&window.location;var l=Object.keys(u).map((function(t){return t+"="+encodeURIComponent(u[t])})).join("&"),f=e.config("gpt").site?"".concat(e.config("gpt").network,"/").concat(e.config("gpt").site,"/").concat(e.config("gpt").zone):"5887/ft.com/home/UK";return"https://securepubads.g.doubleclick.net/gampad/ads?gdfp_req=1&correlator=".concat(c).concat(a,"&output=json_html&impl=fif&sc=1&sfv=1-0-4&iu=%2F5887%2F").concat(f.replace(/\/?5887\//,""),"&sz=320x50&fluid=height&scp=").concat(encodeURIComponent(s),"&d_imp=1&ga_sid=").concat((new Date).getTime(),"&cust_params=").concat(encodeURIComponent(l))}var b=function(){var t=i(o.a.mark((function t(e,n){var r,a,i,c,s,u=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=u.length>2&&void 0!==u[2]?u[2]:"native",a=u.length>3&&void 0!==u[3]?u[3]:{};try{v.setUSPrivacy()}catch(t){console.log("err",t)}return i=1e3,c=new Promise((function(t,e){var n=setTimeout(e,i);window.__uspapi("getUSPData",1,(function(e,r){var o=r?"&us_privacy=".concat(e.uspString):"";clearTimeout(n),t(o)}))})),t.prev=5,t.next=8,c;case 8:return s=t.sent,t.abrupt("return",y({oAds:e,skipSmartmatch:n,pos:r,usprivacy:s,extraParams:a}));case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",y({oAds:e,skipSmartmatch:n,pos:r,extraParams:a}));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}(),w=function(t){return fetch(t,{timeout:4e3,mode:"cors"}).then((function(t){if(!t.ok)return{};var e=t.headers.get("content-type");return e&&e.includes("application/json")?t.json():t.text()})).catch((function(){return{}}))},S=function(t){var e="object"==typeof t?t:new Function("return "+t)(),n=e?Object.keys(e):[],r=n.length?n[0]:null;if(!r)throw new Error("No ad unit key in dfp response");var o=e[r]._html_;if(!(o&&o.length&&o.indexOf("----------")>=0))throw new Error("No content from DFP response");try{var a=o.split("----------")[1],i=JSON.parse(a.replace(/\n/g,""));return i.id=e[r]._creative_ids_[0],i.lineItemId=e[r]._adgroup2_ids_[0],i}catch(t){throw new Error("Error trying to parse DFP JSON")}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;if(!e)throw new Error("No DFP response found");var n=0===t.length||t.includes(e.type);if(!n)throw new Error("DFP Response incorrect format");return e},x=function(t,e,n){if((n="string"==typeof n?n&&JSON.parse(n):n)&&n.type&&n.title)return n.impressionURL&&t.impressionURL&&(n.impressionURL=[].concat(n.impressionURL,t.impressionURL),n.impressionURL=n.impressionURL.map((function(t){return t.replace(/UNKNOWN_CACHE_BUSTER/g,e)}))),t.clickTrackingPrefix&&(n.url=t.clickTrackingPrefix+n.url.replace(/UNKNOWN_CACHE_BUSTER/g,e)),n;throw"No smartmatch results"},E=function(t,e,n,r,o){if("smartmatch"!==o.type)return Promise.resolve(o);var a=function(){for(var t="",e=0;e<48;e++)t+=(16*Math.random()|0).toString(16);return t}()+"-"+(new Date).getTime(),i=j,c=function(t,e,n,r){var o=encodeURIComponent(encodeURIComponent(n)),a=t.split("/"),i=a[a.length-1],c=e.smartmatchHost||"https://c.smartology.co";return"".concat(c,"/static/creative/").concat(e.creativeID,"/key/").concat(e.smartmatchKey,"/pcid/").concat(o,"/sct=").concat(encodeURIComponent(i),";encode=false;?cacheBuster=").concat(r)}(t,o,e,a);return w(c).then(x.bind(null,o,a)).catch((function(){return i(n,e,r,!0)}))},_=function(t){if(!t||!t.title||!t.type)throw new Error("Native ad response incorrect format");switch(t.standfirst||(t.standfirst=t.summary,delete t.summary),"smartmatch"===t.type&&(t.type="promoted-content"),t.image&&!t.image.url&&delete t.image,t.modifiers=[],t.type){case"special-report":return function(t){t.metaPrefixText="Special Report",!t.metaLink&&t.tag&&(t.metaLink={prefLabel:t.tag.name,relativeUrl:t.tag.url},delete t.tag);t.publishedDate||(t.publishedDate=t.lastPublished,delete t.lastPublished);t.firstPublishedDate||(t.firstPublishedDate=t.published,delete t.published);return t}(t);case"paid-post":return k(t,"Partner Content");case"promoted-content":return k(t,"Promoted Content");default:return t}};function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.promotedPrefixText=e,t.advertiser&&!t.promotedSuffixText&&(t.promotedSuffixText=t.advertiser),t}var j=function(){var t=i(o.a.mark((function t(e,n){var r,a,i,c,s,u,l,f,d,p,h,m,g,v,y,x,k,j,A,P;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.pageUrl,a=n.allowableFormats,i=void 0===a?[]:a,c=n.skipSmartmatch,s=void 0!==c&&c,u=n.pos,l=void 0===u?"native":u,f=n.extraParams,d=void 0===f?{}:f,p=e.config("gpt"),h=p.site,m=p.network,g=p.zone,v="5887/ft.com/home/UK",h&&(v="".concat(m,"/").concat(h,"/").concat(g)),t.next=6,b(e,s,l,d);case 6:return y=t.sent,t.prev=7,t.next=10,w(y);case 10:return x=t.sent,k=S(x),j=O(i,k),t.next=15,E(v,r,e,i,j);case 15:return A=t.sent,P=_(A),t.abrupt("return",P);case 20:return t.prev=20,t.t0=t.catch(7),console.warn("ads-partner-content: ".concat(t.t0)),t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,null,[[7,20]])})));return function(e,n){return t.apply(this,arguments)}}(),A=function(t){return"object"==typeof t&&t.constructor==Object},P=function(t){var e=t.breakpointMargins,n=t.viewportSize,r=void 0===n?window.innerWidth:n,o=t.fallbackValue,a=void 0===o?"0%":o;return e&&r&&e[Object.keys(e).sort().find((function(t){return t>r}))]||a},I=function(){var t=i(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n.options);case 2:r=t.sent,n.cb(r,n.el);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!window.IntersectionObserver)throw new Error("Native ads: Cannot set up lazy loading for ads. IntersectionObserver not available");if(!t||!e)throw new Error("Native ads: Cannot set up lazy loading for ads. Please make sure `oAds` and `adSlots` are available to the intersection observer");var r=[],o=A(n)?{rootMargin:P({breakpointMargins:n})}:{},a=function(n){n.forEach((function(n){var o=e.find((function(t){return t.el===n.target}));o&&n.isIntersecting&&!r.includes(n.target)&&(I(t,o),r.push(n.target))}))};return new IntersectionObserver(a,o)},M={partiallyViewed:null,fullyViewed:null};function C(t,e,n){var r=t.target,o=t.intersectionRatio;return t.isIntersecting?o<1?(clearTimeout(M.fullyViewed),void(M.partiallyViewed=setTimeout((function(){L(n)}),1e3))):void(M.fullyViewed=setTimeout((function(){e.unobserve(r),N(n)}),1e3)):(clearTimeout(M.partiallyViewed),void clearTimeout(M.fullyViewed))}var L=function(t){t("partial")},N=function(t){t("full")},R=function(t,e){if(window.IntersectionObserver)if(t&&e){var n=new IntersectionObserver((function(t){t.forEach((function(t){return C(t,n,e)}))}),{threshold:[.5,1]});n.observe(t)}else console.warn("invalid parameters, track expects (nativeAdElement, callback)");else console.warn("Unable to track ad viewability, IntersectionObserver not available")},z=j,F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.oAds,n=t.adSlots,r=t.lazyload;if(e)if(Array.isArray(n)&&0!==n.length){var a=null;try{return r?(a=T(e,n,r),n.forEach((function(t){return a&&a.observe(t.el)})),!0):(n.forEach(function(){var t=i(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),!0)}catch(t){return console.error("Native ads: There was an error loading the native ads"),console.error(t),!1}}else console.error("Native ads: No ad slots found. Cannot initialise native ads.");else console.error("Native ads: oAds instance not found. Cannot initialise native ads.")},D=R,U={get:z,init:F,track:D};e.default=U},"99a4eb02":function(t,e,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){if(void 0===(o="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=a(),!!0){var i=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=i,c}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in a)a[s]&&(c+="; "+s,!0!==a[s]&&(c+="="+a[s].split(";")[0]));return document.cookie=e+"="+n+c}}function i(t,n){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var c=a[i].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=e(c[0]);if(s=(r.read||r)(s,u)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(o[u]=s,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=a,o.get=function(t){return i(t,!1)},o.getJSON=function(t){return i(t,!0)},o.remove=function(e,n){a(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},"9ff34eed":function(t,e,n){"use strict";e.__esModule=!0;var r,o=n("2efdf1ec"),a=n("5bdd616f"),i=(r=a)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},a7802d11:function(t,e,n){"use strict";t.exports={selectEvents:function(t){var e=Date.now()+18144e5,n=t.filter((function(t){return t.scheduledStartTime.getTime()<=e})),r=function(t){return t.scheduledStartTime.getTime()<=e};for(;n.length<3&&(e+=6048e5,(n=t.filter(r)).length!==t.length););return n.sort((function(){return.5-Math.random()})).slice(0,3).sort((function(t,e){return t.scheduledStartTime.valueOf()-e.scheduledStartTime.valueOf()}))}}},a96a87f9:function(t,e){t.exports={followedConcept:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);return delete n.latestContent,t.followedConcept=n,t},removeEmptyConcepts:function(t){return Boolean(t.latestContent&&t.latestContent.length)},removeDuplicateConcepts:function(t,e,n){return n.map((function(t){return t.id})).indexOf(t.id)===e},filterDuplicateArticles:function(t,e){return e.items=e.latestContent.filter((function(e){return!t.find((function(t){return t.id===e.id}))})),t.concat(e.items)}}},afecc1cb:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},b0ab8015:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},bdc87c9b:function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n("2efdf1ec")},c10c62db:function(t,e,n){var r=n("8cad10c2"),o=r.Teaser,a=r.presets,i=n("9745a518"),c=i.init,s=i.track,u=n("7220c657").render,l=n("35e4b704").default,f=n("33cab54f").broadcast,d=c,p=s,h=[];function m(t,e,n){return{oAds:e,lazyload:!!t.get("adsNativeLazyload")&&{760:"15%",980:"5%"},adSlots:[{el:n,cb:g,options:{pageUrl:"ft.com",allowableFormats:h,skipSmartmatch:!0}}]}}function g(t,e){if(e){if(!t||!t.title)return e.style.display="none",void(e.previousElementSibling.style.display="flex");var n=t.id?""+t.id:t.advertiser.split(" ").join("-").toLowerCase();e.dataset.trackable="commercial-content | type-".concat(t.type," | id-").concat(n),t.widths="[500, 332]",t.mods=[t.type,"small"];var r=Object.assign({},t,a.SmallHeavy,{modifiers:[t.type]});u(o(r),e),[].concat(t.impressionURL).forEach((function(t){document.createElement("IMG").src=t})),l.init(e),f("oTracking.event",{action:"native-render",category:"ads",native_ad_type:t.type,native_ad_id:n,creative:{creativeId:t.id||null,pos:"native*",size:t.type}}),p(e.firstElementChild,(function(e){f("oTracking.event",{action:"native-viewed-".concat(e),category:"ads",native_ad_type:t.type,native_ad_id:n,creative:{creativeId:t.id||null,pos:"native*",size:t.type}})}))}}t.exports={runNativeAds:function(t){if(t.get("nativeAds")){var e=document.querySelector(".native-ad-container");if(e){var n=window.oAds;if(n&&n.isInitialised){var r=m(t,n,e);return d(r)}document.addEventListener("oAds.initialised",(function(n){var r=m(t,n.detail,e);return d(r)}))}}},getNativeAdsOptions:m,nativeAdsCallback:g}},cba00af9:function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},d163b785:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var a=o(n("04443d17")),i=r(n("cba00af9")),c=r(n("5bdd616f")),s=o(n("2efdf1ec")),u=o(n("473cebbc")),l=r(n("85aa675c"));function f(){var t=new a.HandlebarsEnvironment;return s.extend(t,a),t.SafeString=i.default,t.Exception=c.default,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var d=f();d.create=f,l.default(d),d.default=d,e.default=d,t.exports=e.default},d40f92a1:function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){a.default(t)};var r,o=n("844a099b"),a=(r=o)&&r.__esModule?r:{default:r}},ddbbd1b4:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n("5bdd616f"),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},ecf9aeee:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),a.default(t),i.default(t),c.default(t),s.default(t),u.default(t),l.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=r(n("434249c1")),a=r(n("f7d81d3b")),i=r(n("ddbbd1b4")),c=r(n("9ff34eed")),s=r(n("b0ab8015")),u=r(n("afecc1cb")),l=r(n("20bdb22b"))},ef993469:function(t,e,n){var r=n("051e1e09");t.exports=(r.default||r).template({1:function(t,e,r,o,a,i,c){var s,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(s=t.invokePartial(n("c13b34dd"),e,{name:"n-myft-ui/components/follow-button/follow-button",hash:{variant:null!=c[1]?u(c[1],"followButtonVariant"):c[1],buttonText:null!=e?u(e,"name"):e},data:a,indent:"\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?s:""},compiler:[8,">= 4.3.0"],main:function(t,e,r,o,a,i,c){var s,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="myft-onboarding js-track-scroll-event" data-trackable="myft-topics">\n'+(null!=(s=t.invokePartial(n("5587b1a4"),e,{name:"../../../views/partials/teaser-collections/heading",hash:{headingTag:"h2"},data:a,indent:"\t",helpers:r,partials:o,decorators:t.decorators}))?s:"")+'\t<p class="myft-onboarding__description">Add topics to myFT to create a personalised news feed of your essential stories. Start now</p>\n\t<div class="o-grid-row">\n\t\t<div data-o-grid-colspan="12">\n'+(null!=(s=t.hooks.blockHelperMissing.call(e,t.lambda(null!=e?u(e,"topics"):e,e),{name:"topics",hash:{},fn:t.program(1,a,0,i,c),inverse:t.noop,data:a,loc:{start:{line:6,column:3},end:{line:8,column:14}}}))?s:"")+'\t\t</div>\n\t\t<div class="myft-onboarding__cta-container n-ui-hide" data-o-grid-colspan="12" data-section-cta>\n\t\t\t<a href="/myft/following" class="n-myft-onboarding-cta" data-trackable="cta">\n\t\t\t\tSee stories\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</section>\n'},usePartial:!0,useData:!0,useDepths:!0})},f0d14681:function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return i("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(a).forEach((function(t){delete a[t]}))};var r=n("bdc87c9b"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("33da028e")),a=Object.create(null);function i(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==a[t]&&(a[t]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},f26e1e46:function(t,e,n){t.exports=n("280d92ce")},f7d81d3b:function(t,e,n){"use strict";(function(r){e.__esModule=!0;var o,a=n("2efdf1ec"),i=n("5bdd616f"),c=(o=i)&&o.__esModule?o:{default:o};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new c.default("Must pass iterator to #each");var n,o=e.fn,i=e.inverse,s=0,u="",l=void 0,f=void 0;function d(e,n,r){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!r,f&&(l.contextPath=f+e)),u+=o(t[e],{data:l,blockParams:a.blockParams([t[e],e],[f+e,null])})}if(e.data&&e.ids&&(f=a.appendContextPath(e.data.contextPath,e.ids[0])+"."),a.isFunction(t)&&(t=t.call(this)),e.data&&(l=a.createFrame(e.data)),t&&"object"==typeof t)if(a.isArray(t))for(var p=t.length;s<p;s++)s in t&&d(s,s,s===t.length-1);else if(r.Symbol&&t[r.Symbol.iterator]){for(var h=[],m=t[r.Symbol.iterator](),g=m.next();!g.done;g=m.next())h.push(g.value);for(p=(t=h).length;s<p;s++)d(s,s,s===t.length-1)}else n=void 0,Object.keys(t).forEach((function(t){void 0!==n&&d(n,s-1),n=t,s++})),void 0!==n&&d(n,s-1,!0);return 0===s&&(u=i(this)),u}))},t.exports=e.default}).call(this,n("fcdffa92"))},fa4420dc:function(t,e){var n='["'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",").join('","')+'"]',r='["'+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",").join('","')+'"]',o={datetime:"MMMM d yyyy h:mm a",date:"MMMM d yyyy"},a={},i={MMMM:"months[date.getMonth()]",MMM:"months[date.getMonth()].substr(0,3)",MM:"pad2(date.getMonth() + 1, 2)",M:"(date.getMonth() + 1)",yyyy:"date.getFullYear()",yy:'(""+date.getFullYear()).substr(-2, 2)',EEEE:"days[date.getDay()]",EEE:"days[date.getDay()].substr(0,3)",d:"date.getDate()",dd:"pad2(date.getDate())",do:"ordinal(date.getDate())",m:"date.getMinutes()",mm:"pad2(date.getMinutes())",h:"(((date.getHours() + 11) % 12) + 1)",hh:"pad2(((date.getHours() + 11) % 12) + 1)",H:"date.getHours()",HH:"pad2(date.getHours())",a:'(date.getHours() >= 12 ? "pm" : "am")'},c={minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3};var s={toDate:function(t){if("Invalid Date"!==(t=t instanceof Date?t:new Date(t)).toString())return t},asTodayOrYesterdayOrNothing:function(t){if(t){var e=new Date,n=s.getSecondsBetween(e,t);return s.isToday(t,e,n)?"today":s.isYesterday(t,e,n)?"yesterday":""}},format:function(t,e){var c=a[e=e||"datetime"]||function(t){var e="var months= "+n+", days= "+r+";";return e+='function pad2 (number) {return ("0" + number).slice(-2)}',e+='function ordinal(number) {\n\t\tconst suffixes = ["th", "st", "nd", "rd"];\n\t\tconst v = number % 100;\n\t\treturn number + (suffixes[(v - 20) % 10] || suffixes[v] || suffixes[0]);\n\t}',e+='return "'+(o[t]||t).replace(/\\?[a-z]+/gi,(function(t){if("\\"===t.charAt(0))return t.substr(1);var e=i[t];return e?'" + '+e+' + "':t}))+'"',a[t]=new Function("date",e)}(e);return(t=s.toDate(t))&&c(t)},timeAgo:function(t,e,n){if(t=s.toDate(t)){if(2===arguments.length&&"object"==typeof e&&(e=(n=e).interval),e||(e=s.getSecondsBetween(new Date,t)),n&&n.limit>0&&(!e||e>n.limit))return"";var r=!!n&&n.abbreviated,o=e<0?"from now":"ago";return(e=Math.abs(e))<c.minute?"".concat(r?e+"s":e+" seconds"," ").concat(o):e<1.5*c.minute?"".concat(r?"1m":"a minute"," ").concat(o):e<59*c.minute?"".concat(Math.round(e/c.minute)).concat(r?"m":" minutes"," ").concat(o):e<1.5*c.hour?"".concat(r?"1h":"an hour"," ").concat(o):e<22*c.hour?"".concat(Math.round(e/c.hour)).concat(r?"h":" hours"," ").concat(o):e<1.5*c.day?"".concat(r?"1d":"a day"," ").concat(o):e<25*c.day?"".concat(Math.round(e/c.day)).concat(r?"d":" days"," ").concat(o):e<45*c.day?"".concat(r?"1mth":"a month"," ").concat(o):e<345*c.day?"".concat(Math.round(e/c.month)).concat(r?"mth":" months"," ").concat(o):e<547*c.day?"".concat(r?"1y":"a year"," ").concat(o):"".concat(Math.max(2,Math.floor(e/c.year))).concat(r?"y":" years"," ").concat(o)}},timeAgoNoSeconds:function(t){if(t){var e=new Date;return s.getSecondsBetween(e,t)<60?"Less than a minute ago":s.timeAgo(t)}},ftTime:function(t){var e=new Date,n=s.getSecondsBetween(e,t);return s.isNearFuture(n)?"just now":s.isFarFuture(n)?s.format(t,"date"):s.isToday(t,e,n)||n<4*c.hour?s.timeAgo(t,n):s.isYesterday(t,e,n)?"yesterday":s.format(t,"date")},getSecondsBetween:function(t,e){return Math.round((t-e)/1e3)},isNearFuture:function(t){return t<0&&t>-5*c.minute},isFarFuture:function(t){return t<-5*c.minute},isToday:function(t,e,n){var r=n<c.day,o=e.getDay()===t.getDay();return r&&o},isYesterday:function(t,e,n){var r=n<2*c.day,o=e.getDay()===t.getDay()+1;return r&&o},inSeconds:c};t.exports=s},fcdffa92:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},fd6a6621:function(t,e,n){var r=n("f26e1e46");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}var c=n("08a04e80").json,s=n("1547090c").readingHistory,u=function(){var t=document.cookie.split(";").find((function(t){return t.includes("spoor-id")}));return t?t.trim().replace(/^spoor-id=/,""):t};t.exports=function(){var t,e=(t=r.mark((function t(e,n){var a,i,l,f,d;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u(),i={credentials:"include",timeout:5e3},l=JSON.stringify({uuid:n,spoorId:a}),f=n&&a&&fetch("https://next-api.ft.com/v2/query?query=".concat(s,"&variables=").concat(l,"&source=next-front-page-myft"),i).then(c).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data.user,n=(e=void 0===e?{}:e).conceptsFromReadingHistory,r=void 0===n?[]:n;return r})),d=fetch("https://www.ft.com/__myft/collections/popular?limit=40",i).then(c),t.abrupt("return",Promise.all([f||[],d]).then((function(t){var e=o(t,2);return{conceptsFromReadingHistory:e[0],popularConcepts:e[1].popularConcepts}})).then((function(t){var e=t.conceptsFromReadingHistory,n=t.popularConcepts;return n.map((function(t){t.conceptId=t.id,delete t.id})),e.map((function(t){t.conceptId=t.id,t.name=t.prefLabel,delete t.id})),{popularConcepts:n,historicConcepts:e}})));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))});return function(t,n){return e.apply(this,arguments)}}()}},[["1d447277","webpack-runtime","page-kit-components","n-myft-ui","n-messaging-client","shared.stable","n-syndication","o-video","next-myft-client","o-header","n-feedback","n-topic-card","o-forms","n-notification","next-session-client","o-footer","o-message","o-overlay","o-toggle","o-tooltip","o-banner","o-cookie-message","o-date","o-lazy-load","o-share","o-typography","o-viewport","superstore","o-grid","o-layers","o-utils","financial-times-o-tracking","financial-times-o-viewport","financial-times-x-engine","privacy-components","financial-times-n-tracking","financial-times-o-utils","financial-times-o-grid","financial-times-x-teaser","dateformat","preact","regenerator-runtime"]]]);
//# sourceMappingURL=scripts.8d4332a4b765.bundle.js.map