(window.webpackJsonp=window.webpackJsonp||[]).push([["privacy-components"],{"0b2f5b41":function(n,e,t){"use strict";t.r(e),t.d(e,"API_URL",(function(){return a})),t.d(e,"API_ENDPOINTS",(function(){return c})),t.d(e,"fetchLegislation",(function(){return u})),t.d(e,"buildConsentPageUrl",(function(){return s}));var r=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function a(n){try{u(r.next(n))}catch(n){i(n)}}function c(n){try{u(r.throw(n))}catch(n){i(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,c)}u((r=r.apply(n,e||[])).next())}))},o=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},i=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a="https://privacy.ft.com/api/v1",c={complianceRegion:"/compliance-region.json"};function u(){return r(this,void 0,void 0,(function(){var n,e,t,r,i,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(""+a+c.complianceRegion)];case 1:return[4,(n=o.sent()).ok?n.json():Promise.reject(n)];case 2:return e=o.sent(),t=e.region,r=e.legislation,i=new Set(r.split(",")),[2,{region:t,legislation:i}];case 3:throw u=o.sent(),new Error(u.status);case 4:return[2]}}))}))}function s(n){var e,t,r=n.url,o=n.legislation,a=n.referrer,c=new URL(r),u=function(n){if(n)try{return new URL(n).hostname}catch(e){return n}return"undefined"==typeof window?"":window.location.hostname}(a);try{for(var s=i(o),f=s.next();!f.done;f=s.next()){var l=f.value;c.searchParams.append("legislation",l)}}catch(n){e={error:n}}finally{try{f&&!f.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return u&&c.searchParams.set("referrer",u.toLowerCase()),c.toString()}},b8f58555:function(n,e,t){"use strict";t.r(e),t.d(e,"NO_PRIVACY_COOKIE",(function(){return d})),t.d(e,"getUsPrivacyCookie",(function(){return y})),t.d(e,"getUsPrivacyForTracking",(function(){return w})),t.d(e,"__uspapi",(function(){return m})),t.d(e,"setUSPrivacy",(function(){return g})),t.d(e,"setUSPrivacyCookie",(function(){return k}));var r=t("f26e1e46"),o=t.n(r);function i(n,e,t,r,o,i,a){try{var c=n[i](a),u=c.value}catch(n){return void t(n)}c.done?e(u):Promise.resolve(u).then(r,o)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function c(n){i(a,r,o,c,u,"next",n)}function u(n){i(a,r,o,c,u,"throw",n)}c(void 0)}))}}var c="https://privacy.ft.com/api/v1",u="/compliance-region.json";function s(n){return{region:n.region,legislation:new Set(n.legislation.split(","))}}function f(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(n){return!1}}function l(){return p.apply(this,arguments)}function p(){return(p=a(o.a.mark((function n(){var e,t,r,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=f()&&sessionStorage.getItem("user-compliance"),!(t=e&&JSON.parse(e))){n.next=6;break}return n.abrupt("return",Promise.resolve(s(t)));case 6:return n.prev=6,n.next=9,fetch("".concat(c).concat(u));case 9:return r=n.sent,n.next=12,r.ok?r.json():Promise.reject(r);case 12:return i=n.sent,f()&&sessionStorage.setItem("user-compliance",JSON.stringify(i)),n.abrupt("return",s(i));case 17:throw n.prev=17,n.t0=n.catch(6),new Error(n.t0.status);case 20:case"end":return n.stop()}}),n,null,[[6,17]])})))).apply(this,arguments)}function v(n,e,t,r,o,i,a){try{var c=n[i](a),u=c.value}catch(n){return void t(n)}c.done?e(u):Promise.resolve(u).then(r,o)}function h(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){v(i,r,o,a,c,"next",n)}function c(n){v(i,r,o,a,c,"throw",n)}a(void 0)}))}}var d="no-privacy-cookie";function y(){var n=document.cookie.split("; ").find((function(n){return n.startsWith("usprivacy")}));return n?n.split("=")[1]:null}function w(){return y()||d}function m(n,e,t){return b.apply(this,arguments)}function b(){return(b=h(o.a.mark((function n(e,t,r){var i,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"==typeof r){n.next=3;break}return console.error("Please provide a valid callback to the __uspapi() function. __uspapi(command, version, callback)"),n.abrupt("return");case 3:if(1===t&&"getUSPData"===e){n.next=6;break}return console.error("Invalid version or command specified for the __uspapi() function"),n.abrupt("return");case 6:if(n.prev=6,!(i=y())){n.next=13;break}return r({version:t,uspString:i},!0),n.abrupt("return");case 13:return n.next=15,l();case 15:if(a=n.sent,!a.legislation.has("ccpa")){n.next=22;break}return r({version:t,uspString:"1NNN"},!0),n.abrupt("return");case 22:return r({version:t,uspString:"1---"},!0),n.abrupt("return");case 24:n.next=29;break;case 26:n.prev=26,n.t0=n.catch(6),r(void 0,!1);case 29:case"end":return n.stop()}}),n,null,[[6,26]])})))).apply(this,arguments)}function g(){"function"!=typeof window.__uspapi&&(window.__uspapi=m)}function k(n,e){e=e||(document.location.hostname||"").replace("www.","");var t="1Y".concat(n?"N":"Y","N");document.cookie="usprivacy=".concat(t,";max-age=").concat(15768e4,";path=/;domain=").concat(e)}}}]);
//# sourceMappingURL=privacy-components.b2d270387fa4.bundle.js.map