(window.sharedJsonP=window.sharedJsonP||[]).push([["asosteam.asos-web-event-tracking-bridge|1.0.50|e5321"],{"179b2":function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var u=e[i](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,c,"next",e)}function c(e){r(o,a,i,u,c,"throw",e)}u(void 0)}))}}n.r(t),n.d(t,"initialise",(function(){return y}));var i=e=>{var{newrelicDelegate:t=(()=>{})}=e;return(function(){var e=a((function*(e){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{r=yield t()}catch(e){return}if(null!==(n=r)&&void 0!==n&&n.noticeError){for(var[i,o]of Object.entries(a))"object"==typeof o&&(a[i]=JSON.stringify(o));return a.id="asos-web-event-tracking-bridge",r.noticeError(e,a)}}));return function(t){return e.apply(this,arguments)}}())},o=function(){var e=a((function*(e){var t,{port1:n,port2:r}=new MessageChannel;try{t=yield e()}catch(e){return null}return t.registerPreTrackCallback(()=>{var e={};for(var[r,a]of Object.entries(t))"string"==typeof a&&(e[r]=a);e.events=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(",").map(e=>e.split("=")[0]).filter(Boolean)}(e.events),n.postMessage(e)}),r}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a((function*(e){var{adobeDelegate:t}=e;return[yield o(t)]}));return function(t){return e.apply(this,arguments)}}();var c={event1:{eventKey:"View Product Page",eventTags:{eVar60:{key:"eVar60"}}},event3:{eventKey:"Successful Search",eventTags:{searchTerm:{key:"eVar25"}}},event5:{eventKey:"Refinement",eventTags:{choice:{key:"prop13"}}},event43:{eventKey:"Product View",eventTags:{stockStatus:"In Stock"}},event10:{eventKey:"Add To Saved",eventTags:{productID:{key:"products"},eVar60:{key:"eVar60"}}},event44:{eventKey:"Product View",eventTags:{stockStatus:"Out Of Stock"}},event45:{eventKey:"Product View",eventTags:{stockStatus:"Partially Out Of Stock"}},event170:{eventKey:"View PLP Page",eventTags:{}}},s=(e,t)=>"object"==typeof e?t[e.key]:e,v=e=>function(){var t=a((function*(t){if(t.events){var n;try{n=yield e()}catch(e){return}var{success:r}=yield n.onReady();r&&t.events.forEach(e=>{var r=c[e];if(r){var{eventKey:a,eventTags:i}=r,o=((e,t)=>Object.fromEntries(Object.entries(e).map(e=>{var[n,r]=e;return[n,s(r,t)]})))(i,t);n.track(a,null,null,o)}})}}));return function(e){return t.apply(this,arguments)}}(),l=function(){var e=a((function*(e){var{featuresDelegate:t}=e;return[yield v(t)]}));return function(t){return e.apply(this,arguments)}}(),f=e=>{var{sources:t,sinks:n,logError:r}=e;t.forEach(e=>{n.forEach(t=>{e.addEventListener("message",function(){var e=a((function*(e){try{yield t(e.data)}catch(t){r(t,{data:e.data})}}));return function(t){return e.apply(this,arguments)}}())}),e.start()})},y=function(){var e=a((function*(e){var{adobeDelegate:t,featuresDelegate:n,newrelicDelegate:r}=e,a=i({newrelicDelegate:r}),[o,c]=yield Promise.all([u({adobeDelegate:t}),l({featuresDelegate:n})]);f({sources:o,sinks:c,logError:a})}));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=asosteam.asos-web-event-tracking-bridge~1.0.50~e5321.js.map