(self.webpackJsonp=self.webpackJsonp||[]).push([["manifests/home","application"],{"./app/javascript/application.js":function(e,t,i){"use strict";i.r(t);var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js");window.App=window.App||{},window.ShopifyMarketing=window.ShopifyMarketing||{},App.config&&App.config.signupHost&&n.config.set("SignupBaseURI",`https://${App.config.signupHost}`),n.config.set("customGoogleAnalyticsNamespace","_other"),Object(n.init)();const s=document.getElementById("ShopifyMainNav");App.scrollTo=new n.ScrollTo({offset:s?-s.offsetHeight:0}),new n.StickyNav},"./app/javascript/components/interactive-map.js":function(e,t,i){"use strict";var n=i("../caches/app/node_modules/waypoints/src/entries/noframework.js"),s=i.n(n);const a="js-map-animation--active",o="interactive-map-enabled";class l{constructor(e,t){this.waypointContainer=t,this.mapContainer=e}init(){l.isWebGLAvailable()?(this.mapContainer.classList.add(o),this.bindWaypoint()):this.mapFallback()}mapFallback(){this.mapContainer.classList.remove(o);const e=this.mapContainer.querySelector(".map__globe-wrapper");return e.parentElement.removeChild(e),"object"==typeof this.mapApp?this.mapApp.destroy():null}bindWaypoint(){const e=new s.a({element:this.waypointContainer,offset:"100%",handler:t=>{"down"===t&&(this.handleWaypointTriggered(),e.disable())}})}handleMapError(e="an error occured fetching map data"){window.bugsnagClient.notify(e),this.mapFallback()}onMapAppLoad({default:e}){this.pauseButton=this.mapContainer.querySelector(".map__control--pause"),this.playButton=this.mapContainer.querySelector(".map__control--play");const t=this.mapContainer.querySelector("#Map");this.mapApp=new e(t,t.dataset.start,this.handleMapError.bind(this)),this.mapContainer.classList.add(a),this.pauseButton.addEventListener("click",this.pause.bind(this)),this.playButton.addEventListener("click",this.play.bind(this))}pause(){this.mapApp.pause().then((()=>{this.mapContainer.classList.remove(a),this.playButton.focus()})).catch((e=>window.bugsnagClient.notify(e)))}play(){this.mapApp.play().then((()=>{this.mapContainer.classList.add(a),this.pauseButton.focus()})).catch((e=>window.bugsnagClient.notify(e)))}handleWaypointTriggered(){Promise.all([i.e("vendors~map-app/MapApp"),i.e("map-app/MapApp")]).then(i.bind(null,"./app/javascript/map-app/MapApp.js")).then(this.onMapAppLoad.bind(this)).catch(this.handleMapError.bind(this))}static isWebGLAvailable(){try{const e=document.createElement("canvas");return Boolean(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch{return!1}}}t.a=l},"./app/javascript/components/ui-illustrations.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js");class s{constructor(e){this.$elem=e,this._handleVisiblityChange=this._handleVisiblityChange.bind(this),this._contentIsVisible()?this._init():this.observer=this._observeVisibility(this.$elem,this._handleVisiblityChange)}_contentIsVisible(){return this.$elem.offsetHeight>0}_handleVisiblityChange(e){e&&(this.observer.disconnect(),this._init())}_elemWidth(){return this.$elem.offsetWidth}_init(){this.originalWidth=parseInt(getComputedStyle(this.$elem).width,10),this.$elem.style.width="100%",this.$scalingElem=this._createScalingElem(),this._nestContentInScalingContainer(),this._onResize=Object(n.throttle)(this._updateTransform.bind(this),100,!0),this._onImageLoad=Object(n.throttle)(this._onImageLoad.bind(this),500,!0),this._updateTransform(),this._registerImages(),window.addEventListener("resize",this._onResize)}_registerImages(){this.$elem.querySelectorAll("img").forEach((e=>{e.addEventListener("load",this._onImageLoad)}))}_onImageLoad(){this._updatePlaceholderSize()}_nestContentInScalingContainer(){for(;this.$elem.hasChildNodes();)this.$scalingElem.appendChild(this.$elem.firstChild);this.$elem.append(this.$scalingElem),this.$elem.append(this._createPlaceholderElem())}_heightToWidthRatio(){return this.$scalingElem.offsetHeight/this.$scalingElem.offsetWidth*100}_createPlaceholderElem(){return this.$placeholderElem=document.createElement("div"),this.$placeholderElem.style.setProperty("height","0"),this._updatePlaceholderSize(),this.$placeholderElem}_createScalingElem(){const e=document.createElement("div");return e.style.setProperty("width",`${this.originalWidth}px`),e.style.setProperty("position","absolute"),e.style.transformOrigin="0 0",e}_containerSizeAsPercentageOfBase(){return this._elemWidth()/this.originalWidth}_updatePlaceholderSize(){this.$placeholderElem.style.setProperty("padding-bottom",`${this._heightToWidthRatio()}%`)}_updateTransform(){const e=this._containerSizeAsPercentageOfBase();this.$scalingElem.style.setProperty("transform",`scale(${e})`)}_observeVisibility(e,t){const i={root:document.documentElement},n=new IntersectionObserver((e=>{e.forEach((e=>{t(e.intersectionRatio>0)}))}),i);return n.observe(e),n}}const a="ui-illustration__component";class o{constructor(){this.illustrations=[],document.querySelectorAll(`.${a}`).forEach(this.addIllustration.bind(this))}addIllustration(e){this.illustrations.push(e),this._initTextScale(e),e.classList.add(`${a}--initialized`)}_initTextScale(e){return new s(e)}}},"./app/javascript/manifests/home.js":function(e,t,i){"use strict";i.r(t);var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),s=i("./app/javascript/components/ui-illustrations.js"),a=i("./app/javascript/modules/wistia-modal/index.js"),o=i("./app/javascript/modules/transparent-nav.js"),l=i("./app/javascript/components/interactive-map.js"),r=i("./app/javascript/modules/storename-autogen-signup-modal.js"),d=i("./app/javascript/templates/signup-modal.ejs"),p=i.n(d);i("./app/javascript/application.js");function c(){var e,t;const i=document.querySelector(".js-announcement");i&&new n.Announcement(i),Object(o.a)(document.querySelector("#Hero")),document.querySelectorAll(".pillars-animation").forEach((e=>{new n.Video(e)})),document.querySelectorAll(".js-wistia-modal").forEach((e=>new a.a(e))),function(){const e=document.querySelector(".map-interactive"),t=document.querySelector(".map__container");new l.a(t,e).init()}(),null===(e=window)||void 0===e||null===(t=e.analytics)||void 0===t||t.ready((()=>{!function(){var e;if("true"===(null===(e=document.getElementById("three_f_experiment"))||void 0===e?void 0:e.value)){var t,i,s,a;const e=(new Verdict.Verdict).getVariant("threef_storename_autogen_hp",{subjectId:null===(t=window)||void 0===t||null===(i=t.analytics)||void 0===i||null===(s=i.trekkie)||void 0===s||null===(a=s.defaultAttributes)||void 0===a?void 0:a.uniqToken}),o="storename_autogenerated"===e,l=document.querySelector(".js-signup-inline"),d=document.querySelectorAll(".js-open-signup",".marketing-input-button-pair__button");d.length&&o&&(window.signupFormExperiment="3f_storename_autogen_hp",window.signupFormExperimentGroup=e,new r.a(d,(()=>p()({signupHeader:n.i18n.t("signup.header")})),{modalActiveContainerClass:"signup-modal js-is-active",clickingOverlayClosesModal:!1}));const c=()=>{var t,i,n,s,a,o,l,r,d,p,c,u,m,h;null===(t=window)||void 0===t||null===(i=t.analytics)||void 0===i||i.track("monorail://experiments_dotcom_assign/3.0",{uniqToken:null===(n=window)||void 0===n||null===(s=n.analytics)||void 0===s||null===(a=s.trekkie)||void 0===a||null===(o=a.defaultAttributes)||void 0===o?void 0:o.uniqToken,visitToken:null===(l=window)||void 0===l||null===(r=l.analytics)||void 0===r||null===(d=r.trekkie)||void 0===d||null===(p=d.defaultAttributes)||void 0===p?void 0:p.visitToken,microSessionId:null===(c=window)||void 0===c||null===(u=c.analytics)||void 0===u||null===(m=u.trekkie)||void 0===m||null===(h=m.defaultAttributes)||void 0===h?void 0:h.microSessionId,page_url:window.location.href,source_app:"brochure2",experiment_handle:"3f_storename_autogen_hp",variation_name:e,experiment_start_at:"2021-09-15T00:00:00-05:00"})};d.length&&!o&&(l.addEventListener("submit",c),d.forEach((e=>{e.addEventListener("click",c)})))}}()}))}new s.a,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()},"./app/javascript/modules/storename-autogen-signup-modal.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),s=i("./app/javascript/templates/shopname-field.ejs"),a=i.n(s),o=i("./app/javascript/templates/shopname-help-modal.ejs"),l=i.n(o);class r{constructor(e,t,i){this.triggerEl=e,this.template=t,this.options={modalId:"helpmodal",modalClass:"helpmodal__container",modalContentClass:"helpmodal__content",appendToSelector:"body",content:{},...i},document.getElementsByClassName(this.options.modalClass)[0]||document.querySelector(this.options.appendToSelector).insertAdjacentHTML("beforebegin",t(this.options)),this.modalContainer=document.getElementsByClassName(this.options.modalClass)[0],this.modal=document.getElementsByClassName("helpmodal")[0],document.querySelector(".helpmodal__close").addEventListener("click",this.close.bind(this)),e.addEventListener("click",this.open.bind(this)),this.modalContainer.addEventListener("click",(e=>{e.target.matches(`.${this.options.modalClass}`)&&this.close(e)}))}open(e){e.preventDefault(),this.modalContainer.classList.add("active")}close(e){e.preventDefault(),this.modalContainer.classList.remove("active")}}class d extends n.SignupModal{constructor(e,t,i){super(e,t,i),this.selectedDomainEl=document.createElement("input"),this.selectedDomainEl.setAttribute("name","extra[selected_domain]"),this.selectedDomainEl.setAttribute("type","hidden"),this.timeout=null}render(){this.modalDom.$modal.innerHTML=this.template(),this.modalDom.$modal.querySelector(".signup-modal__content").appendChild(this.$signupForm.cloneNode(!0)),super.render();const e=document.querySelector(".shop_name input");e.addEventListener("input",this.onShopNameInput.bind(this)),e.classList.add("no-label")}open(e){super.open(e);const t=document.querySelector('form.js-signup-inline input[type="email"]').value||"",i=this.modalForm.fields.email;i.setState({value:t}),i.node.querySelector("input").value=t,document.querySelector("div.stateful-field.shop_name span.marketing-label--in-field")&&document.querySelector("div.stateful-field.shop_name span.marketing-label--in-field").remove();const n=t.replace(/\s+/g,"").toLowerCase().split("@")[0];if(this.addShopNameFieldSubtext(n),t||(document.querySelector(".shop_name").style.display="",document.querySelector(".subtext__url").style.display="none"),!document.querySelector(".shopurl")){const e=document.createElement("span");e.classList.add("shopurl"),e.innerText=".myshopify.com",document.querySelector(".shop_name label").appendChild(e)}if(!document.querySelector(".availability")){const e=document.createElement("span");e.classList.add("availability"),e.classList.add("hide"),e.innerText="Checking availability...",document.querySelector(".shop_name label").appendChild(e)}window.signupFormExperiment&&window.signupFormExperimentGroup&&window.analytics.track("monorail://experiments_dotcom_assign/3.0",{uniqToken:window.analytics.trekkie.defaultAttributes.uniqToken,visitToken:window.analytics.trekkie.defaultAttributes.visitToken,microSessionId:window.analytics.trekkie.defaultAttributes.microSessionId,page_url:window.location.href,source_app:"brochure2",experiment_handle:window.signupFormExperiment,variation_name:window.signupFormExperimentGroup,experiment_start_at:"2021-09-15T00:00:00-05:00"})}addShopNameFieldSubtext(e){const t=document.querySelector(".shop_name");t.style.display="none",t.insertAdjacentHTML("afterend",a()({editText:n.i18n.t("landers.short.free_trial.edit_button"),helpText:n.i18n.t("landers.short.free_trial.help_text",{query:e||"mystore"}),learnMore:n.i18n.t("landers.short.free_trial.learn_button"),button:!0})),new r(document.querySelector("button.link__learn"),l.a,{appendToSelector:".modal-container",content:n.i18n.t("landers.short.free_trial.help_modal")}),document.querySelector(".url-edit").addEventListener("click",this.onEditShopName),e&&this.generateShopName(e)}onEditShopName(e){e.preventDefault(),document.querySelector(".shop_name").style.display="",document.querySelector(".subtext__url").style.display="none"}onShopNameInput(e){this.timeout&&window.cancelAnimationFrame(this.timeout),this.timeout=window.requestAnimationFrame((()=>{document.querySelector(".shopurl").classList.remove("hide");const{value:t}=e.srcElement;t.length>4?(document.querySelector(".shopurl").style.left=0,document.querySelector(".shopurl").style["padding-left"]=`${t.length+1}ch`):document.querySelector(".shopurl").classList.add("hide"),window.I18n.data.forms.errors.shop_name.existingAdmin=n.i18n.t("landers.short.free_trial.existing_admin_error",{shop_name:t})}))}close(){super.close(),this.selectedDomainEl.remove(),document.querySelector(".shop_name").style.display="",document.querySelector("#SignupForm_modal > div.field__subtext").remove()}generateShopName(e){const t=this.modalForm.fields.shop_name,i=async e=>{const i=e.replace(/(shopify)/gi,"");return t.setState({value:i}),document.querySelector(".shop_name input").value=i,document.querySelector(".subtext__url .url__text").innerText=`${i}.myshopify.com`,await this.modalForm.validateField(t),t},n=async t=>{var s,a,o,l,r,d;if(null!=t&&null!==(s=t.state)&&void 0!==s&&s.error&&null!=t&&null!==(a=t.state)&&void 0!==a&&null!==(o=a.errors)&&void 0!==o&&o.existingAdmin){const t=await i((d=e,`${d}-${Math.floor(100+900*Math.random()).toString()}`));return n(t)}return(null==t||null===(l=t.state)||void 0===l?void 0:l.error)&!Object.keys(null==t||null===(r=t.state)||void 0===r?void 0:r.errors).includes("existingAdmin")?(document.querySelector(".shop_name").style.display="",document.querySelector(".subtext__url").style.display="none",t.state.value):t.state.value};return i(e).then(n)}getEncodedMonorailParams(e){return Object.entries(e).map((e=>e.map(encodeURIComponent).join("="))).join("&")}}},"./app/javascript/modules/transparent-nav.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("../caches/app/node_modules/waypoints/src/entries/noframework.js"),s=i.n(n);function a(e){const t=document.querySelector(".marketing-nav");new s.a({element:e,offset:()=>-e.clientHeight+t.clientHeight,handler:e=>{"down"===e?t.classList.add("marketing-nav--solid"):t.classList.remove("marketing-nav--solid")}})}},"./app/javascript/modules/wistia-modal/container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="wistia-modal">\n  <div class="wistia-modal__spinner"></div>\n  <div class="wistia-modal__embed-container">'+(null==(__t=embed)?"":__t)+"</div>\n</div>\n";return __p}},"./app/javascript/modules/wistia-modal/embed.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="'+(null==(__t=instanceId)?"":__t)+'" class="wistia-modal__embed wistia_embed wistia_async_'+(null==(__t=wistiaId)?"":__t)+'">&nbsp;</div>\n';return __p}},"./app/javascript/modules/wistia-modal/hidden-container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="visuallyhidden" aria-hidden="true">'+(null==(__t=embed)?"":__t)+"</div>\n";return __p}},"./app/javascript/modules/wistia-modal/index.js":function(e,t,i){"use strict";var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),s=i("./app/javascript/modules/wistia-modal/container.ejs"),a=i.n(s),o=i("./app/javascript/modules/wistia-modal/embed.ejs"),l=i.n(o),r=i("./app/javascript/modules/wistia-modal/hidden-container.ejs"),d=i.n(r);window._wq=window._wq||[];t.a=class{constructor(...e){const{$trigger:t,wistiaId:i,wistiaOptions:s}=this._resolveArgs(...e);Object.assign(this,{$trigger:t,wistiaId:i,wistiaOptions:s}),this._instanceId=Object(n.uniqueId)(),this._videoIsReadyToPlay=!1,this._loadWistiaHasRun=!1,this._parser=new DOMParser,this._$container=this._generateContainer(),["_modalTemplate","_loadWistia","_onVideoEmbedded","_onVideoPlayed","_onModalOpened"].forEach((e=>{this[e]=this[e].bind(this)})),window._wq.push(this._wistiaConfig),this._modal=this._initiateModal()}get _wistiaLoaded(){return this._loadWistiaHasRun||void 0!==window.Wistia}get _wistiaConfig(){return{id:this._instanceId,options:{autoPlay:!0,silentAutoPlay:!1,...this.wistiaOptions},onEmbedded:this._onVideoEmbedded}}_resolveArgs(e,t,i={}){const n={};if(!(e instanceof HTMLElement))throw new Error("WistiaModal wasn't passed an HTMLElement");if(n.$trigger=e,n.wistiaOptions=i,"object"==typeof t?n.wistiaOptions=t:"string"==typeof t&&(n.wistiaId=t),!n.wistiaId&&n.$trigger.dataset.wistiaId&&(n.wistiaId=n.$trigger.dataset.wistiaId),!n.wistiaId)throw new Error("WistiaModal couldn't resolve to a Wistia ID");return n}_initiateModal(){const e=new n.Modal(this.$trigger,this._modalTemplate,{modalStyleModifierClasses:{container:"modal-container--wistia modal-container--lowlight",closeIcon:"icon-modules-close-white"}});return e.on("opened",this._onModalOpened),e}_modalTemplate(){return this._$container}_generateContainer(){const e=l()({instanceId:this._instanceId,wistiaId:this.wistiaId}),t=a()({embed:e});return this._htmlStringToElement(t)}_generateHiddenContainer(){const e=l()({instanceId:`hidden_${this._instanceId}`,wistiaId:this.wistiaId}),t=d()({embed:e});return this._htmlStringToElement(t)}_htmlStringToElement(e){return this._parser.parseFromString(e,"text/html").body.firstChild}_onModalOpened(){this.video&&this.video.play(),this._wistiaLoaded||this._loadWistia()}_onVideoPlayed(){this._videoHasPlayed||(this._videoHasPlayed=!0,this._$container.classList.add("has-played"))}_onVideoEmbedded(e){this.video=e,this.video.bind("play",this._onVideoPlayed)}_loadWistia(){this._loadWistiaHasRun=!0,this._loadScript(`https://fast.wistia.com/embed/medias/${this.wistiaId}.jsonp`),this._loadScript("https://fast.wistia.com/assets/external/E-v1.js")}_loadScript(e){const t=document.createElement("script");t.type="text/javascript",document.body.appendChild(t),t.src=e}}},"./app/javascript/templates/shopname-field.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<div class='field__subtext'>\n    <div class='subtext__url'>\n        <span class='url__text'>.myshopify.com</span>\n        <span><button class='url-edit "+(null==(__t=button?"url-edit__button":"url-edit__link")?"":__t)+"'>"+(null==(__t=editText)?"":__t)+"</button></span>\n    </div>\n    <div class='subtext__help'>\n        "+(null==(__t=helpText)?"":__t)+'\n        <button class="link__learn">'+(null==(__t=learnMore)?"":__t)+"</button>\n    </div>\n</div>\n";return __p}},"./app/javascript/templates/shopname-help-modal.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){for(var i in __p+='<div id="'+(null==(__t=modalId)?"":__t)+'" class="helpmodal__container">\n    <div class="helpmodal">\n      <div class="helpmodal__header">\n        <h2>Your Store URL</h2>\n        <span class="helpmodal__close">&times;</span>\n      </div>\n      <div class="'+(null==(__t=modalContentClass||"helpmodal__content")?"":__t)+'">\n        ',Object.values(content))__p+='\n          <div class="content__section">\n            '+(null==(__t=Object.values(content)[i].question)?"":__t)+"\n            "+(null==(__t=Object.values(content)[i].answer)?"":__t)+"\n          </div>\n       ";__p+="\n      </div>\n    </div>\n\n</div>\n"}return __p}},"./app/javascript/templates/signup-modal.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<div class='signup-modal__content'>\n    <h2 class='modal__heading' id='ModalTitle'>"+(null==(__t=signupHeader)?"":__t)+"</h2>\n</div>\n";return __p}}},[["./app/javascript/manifests/home.js","runtime","vendor"]]]);
//# sourceMappingURL=home-8dd6486e25b6305cd9622ddf0726cfcef7c66b8acf8edfb0704069cd0c135e81.js.map