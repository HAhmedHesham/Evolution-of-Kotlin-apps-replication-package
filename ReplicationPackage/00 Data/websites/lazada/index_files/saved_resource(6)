function LazadaGlobalFooter(a){var e=this,i=Object.assign({"headerId":"lzd-global-footer","needCategory":!1},a);this.init=function(){if(this.component=document.getElementById(i.headerId),this.component){if(this.mainBox=this.component.querySelector(".J_MainBox"),null==this.mainBox)throw new Error("Footer#constructor: expected .J_MainBox to be defined");if(this.mainFooterText=this.component.querySelector(".J_FooterMainText"),null==this.mainFooterText)throw new Error("Footer#constructor: expected .J_FooterMainText to be defined");if(this.mainTitle=this.component.querySelector(".J_FooterTitle"),null==this.mainTitle)throw new Error("Footer#constructor: expected .J_FooterTitle to be defined");if(this.mainParagraph=this.component.querySelector(".J_FooterParagraph"),null==this.mainParagraph)throw new Error("Footer#constructor: expected .J_FooterParagraph to be defined");if(this.footerBox=this.mainBox.querySelectorAll(".J_FooterBox"),!this.footerBox.length)throw new Error("Footer#constructor: expected .J_FooterBox to exist");this.selectedFooterBoxIndex=-1,this.render()}},this.selectTabAtIndex=function(a){var i=e;if("number"!=typeof a||isNaN(a))throw new Error("Footer#selectTabAtIndex: expected index to be a number");var n=i.footerBox[a];if(null==n)throw new Error("Footer#selectTabAtIndex: expected "+e.footerBox[a]+" to be defined");n.classList.add("active"),e.selectedFooterBoxIndex=a,e.mainTitle.innerHTML=e.footerBox[e.selectedFooterBoxIndex].getAttribute("data-title"),e.mainParagraph.innerHTML=e.footerBox[e.selectedFooterBoxIndex].getAttribute("data-paragraph")},this.render=function(){e.footerBox&&e.footerBox.length&&[].forEach.call(e.footerBox,function(a,i){a.addEventListener("click",function(){if(e.selectedFooterBoxIndex===i)return e.footerBox[i].classList.remove("active"),e.mainFooterText.classList.remove("visible"),void(e.selectedFooterBoxIndex=-1);null!=e.footerBox[e.selectedFooterBoxIndex]&&e.footerBox[e.selectedFooterBoxIndex].classList.remove("active"),e.selectTabAtIndex(i),e.mainFooterText.classList.add("visible")})})}}if("undefined"!=typeof require)var r=require;window.mQuery?window.mQuery.onDomReady(function(){(new LazadaGlobalFooter).init()}):window.addEventListener("load",function(){(new LazadaGlobalFooter).init()});function debugLog(){if(DEBUG){var e;(e=console).log.apply(e,arguments)}}function throttle(e,n){var i=void 0,o=void 0;return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var d=this;o?(clearTimeout(i),i=setTimeout(function(){Date.now()-o>=n&&(e.apply(d,a),o=Date.now())},n-(Date.now()-o))):(e.apply(d,a),o=Date.now())}}function fragmentFromString(e){return document.createRange().createContextualFragment(e)}function isShareUrl(){return location.search.indexOf("laz_share_info")>-1}function loggerAvg(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,i="object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.__bl;i?i.avg?i.avg(e,n):i.pipe?window.__bl.pipe.push(["avg",e,n]):(window.__bl.pipe=[],window.__bl.pipe.push(["avg",e,n])):(window.__bl={},window.__bl.pipe=[],window.__bl.pipe.push(["avg",e,n]))}function str2num(e){var n=0;return e.split("").forEach(function(e){n+=e.charCodeAt(0)}),n}function isTargetUser(e,n){var i=getCookie("t_uid")||getCookie("cna");if(i){var o=str2num(i),t=o%100;return t>e&&t<=n}return!1}function getOMFlag(){var e=location.search;return e.indexOf("exlaz")>-1?"exlaz":e.indexOf("laz_track_id")>-1?"laz_track_id":"none"}function isSEO(){return/google/.test(document.referrer)&&"none"===getOMFlag()}function isSearchBots(){var e=["Googlebot","slurp","Bingbot","Baiduspider","YandexBot","Teoma","NaverBot"],n=!1,i=navigator.userAgent.toLowerCase();return e.forEach(function(e){i.indexOf(e.toLowerCase())>=0&&(n=!0)}),n}function record(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"CLK",i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"GET";window.goldlog&&"function"==typeof window.goldlog.record&&window.goldlog.record(e,n,i,o)}function _goldlog(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"EXP",i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!e)throw console.trace("hehe"),new Error("logKey is required");var o=window.goldlog_queue||(window.goldlog_queue=[]),t=Object.keys(i),a=[];t.forEach(function(e){var n=encodeURIComponent(e),o=encodeURIComponent(i[n]);a.push(n+"="+o)}),o.push({"action":"goldlog.record","arguments":[e,n,a.join("&")]})}function exposure(e){_goldlog(e,"EXP",arguments.length>1&&arguments[1]!==undefined?arguments[1]:{})}function click(e){_goldlog(e,"CLK",arguments.length>1&&arguments[1]!==undefined?arguments[1]:{})}function generateUUID(){var e=Date.now(),n=window.performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(n+o)%16|0,n=Math.floor(n/16)),("x"===i?o:3&o|8).toString(16)})}function getUUID(){return generateUUID()}function getMkttidWithEffect(){var e=void 0,n=getQuery("mkttid");return n?e=n:window.__mkttid?e=window.__mkttid:(e=getUUID(),window.__mkttid=e),e}function setCookie(e,n,i){var o={};if(i=Object.assign({"path":"/"},o,i),"number"==typeof i.expires){var t=new Date;t.setTime(t.getTime()+1e3*i.expires),i.expires=t}var a=void 0;i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(n),/^[\{\[]/.test(a)&&(n=a)}catch(s){console.log(s)}var r="";for(var d in i)i[d]&&(r+="; "+d,!0!==i[d]&&(r+="="+i[d]));return document.cookie=e+"="+n+r}function getCookie(e){for(var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=e?null:{},o=document.cookie?document.cookie.split("; "):[],t=0;t<o.length;t++){var a=o[t].split("="),r=a.slice(1).join("=");n.json||'"'!==r.charAt(0)||(r=r.slice(1,-1));var d=a[0];if(n.json)try{r=JSON.parse(r)}catch(s){console.error(s)}if(e===d){i=r;break}e||(i[d]=r)}return i}function removeCookie(e,n){setCookie(e,"",Object.assign(n,{"expires":-1}))}function appendQueriesForAppTracking(e,n){var i=(e||"").split("?")[1]||"",o=i.split("&").map(function(e){return e.split("=")[0]}),t=e;if(n.isDownload&&o.indexOf("deferred")<0){var a=Date.now();t+="&deferred=1&dexpire="+(a+36e5)}t+=""+parseExternalLinkParams(t);var r=getClickServerTrackingData();return Object.keys(r).forEach(function(e){r[e]&&o.indexOf(e)<0&&(t+="&"+e+"="+encodeURIComponent(r[e]))}),t}function sendGoldlog(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;window.goldlog.record("/smb.delivery.main-lzd",e,"pageType="+window.sBannerConfig.wh_channel+"&clickType="+n+"&deviceType="+deviceType+"&country="+window.sBannerConfig.wh_site,"GET")}function exposeGoldlog(){document.getElementById("J_Banner")&&window.goldlog&&setTimeout(function(){sendGoldlog("EXP")},3e3)}function clickGoldlog(e){document.getElementById("J_Banner")&&window.goldlog&&sendGoldlog("CLK",e)}function log(e,n,i,o){0!==e.indexOf("/")&&(e="/"+e);var t={"region":window.location.hostname.split(".").pop()},a=Object.assign({},t,i);if(window.goldlog){var r=Object.keys(a).map(function(e){return e+"="+("string"==typeof a[e]?a[e]:JSON.stringify(a[e]))}).join("&");window.goldlog.record(e,n,r,"POST"===o?"POST":"GET")}else{console.info(e,n,a)}}function revampGoldLog(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;log("/smb.delivery.top",e,{"pageType":window.sBannerConfig.wh_channel,"clickType":n,"deviceType":deviceType,"country":window.sBannerConfig.wh_site})}function getBrowser(){var e=void 0,n={"name":"unknown","version":"0.0.0"};return(e=UA.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?n={"name":"UC","isUC":!0,"version":e[1]}:(e=UA.match(/MQQBrowser\/([\d\.]+)/))?n={"name":"QQ","isQQ":!0,"version":e[1]}:(e=UA.match(/(?:Firefox|FxiOS)\/([\d\.]+)/))?n={"name":"Firefox","isFirefox":!0,"version":e[1]}:(e=UA.match(/MSIE\s([\d\.]+)/))||(e=UA.match(/IEMobile\/([\d\.]+)/))?(n={"version":e[1]},UA.match(/IEMobile/)?(n.name="IEMobile",n.isIEMobile=!0):(n.name="IE",n.isIE=!0),UA.match(/Android|iPhone/)&&(n.isIELikeWebkit=!0)):(e=UA.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(n={"name":"Chrome","isChrome":!0,"version":e[1]},(e=UA.match(/Opera|OPR\//))&&(n={"name":"Opera","isOpera":!0,"version":e[1]}),(e=UA.match(/SAMSUNG|Samsung|samsung/))&&(n.isSamsung=!0),UA.match(/Version\/[\d+\.]+\s*Chrome/)&&(n.name="Chrome_Webview",n.isWebview=!0)):UA.match(/Safari/)&&(e=UA.match(/Android[\s\/]([\d\.]+)/))?n={"name":"Android","isAndroid":!0,"version":e[1]}:UA.match(/iPhone|iPad|iPod/)&&(UA.match(/Safari/)&&(e=UA.match(/Version\/([\d\.]+)/))?n={"name":"Safari","isSafari":!0,"version":e[1]}:(e=UA.match(/OS ([\d_\.]+) like Mac OS X/))&&(n={"name":"iOS_Webview","isWebview":!0,"version":e[1].replace(/\_/g,".")})),n}function getAppName(){for(var e=[[/(?:FBAN\/MESSENGERForiOS)|(?:FB_IAB\/MESSENGER)/i,"MESSENGER"],[/FBAN\/MESSENGERLiteForiOS/i,"MESSENGER_LITE"],[/;fbav\/([\w\.]+);/i,"FB"],[/FBAN\/FBIOS/,"FB"],[/Zalo/i,"ZALO"],[/WhatsApp/i,"WHATS_APP"],[/Viber/i,"VIBER"],[/Twitter/i,"TWITTER"],[/Snapchat/i,"SNAPCHAT"],[/Line/i,"LINE"],[/Instagram/i,"INSTAGRAM"]],n=void 0,i=0;n=e[i];){if(UA.match(n[0]))return n[1];i+=1}}function getOsSystem(){var e=void 0,n={};if(e=UA.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))n={"name":"Windows Phone","isWindowsPhone":!0,"version":e[1]};else if(UA.match(/Safari/)&&(e=UA.match(/Android[\s\/]([\d\.]+)/)))n={"version":e[1]},UA.match(/Mobile\s+Safari/)?(n.name="Android",n.isAndroid=!0):(n.name="AndroidPad",n.isAndroidPad=!0);else if(e=UA.match(/(iPhone|iPad|iPod)/)){var i=e[1];(e=UA.match(/OS ([\d_\.]+) like Mac OS X/))&&(n={"name":i,"isIPhone":"iPhone"===i||"iPod"===i,"isIPad":"iPad"===i,"isIOS":!0,"version":e[1].split("_").join(".")})}return n||(n={"name":"unknown","version":"0.0.0"}),n}function parseExternalLinkParams(e){var n=window.location.search.slice(1);if(n.length>0){var i=n.split("&"),o=i.filter(function(n){return EXTERNAL_KEYS.indexOf(n.split("=")[0])>-1&&e.indexOf(n.split("=")[0])<0}).join("&");if(o.length>0)return"&"+o}return""}function getSellerKey(){var e=window.location.pathname,n=e.split("/"),i=-1;return n&&e.indexOf("shop/")>-1?(n.forEach(function(e,n){if("shop"===e&&-1===i)return void(i=n+1)}),n[i]):"notfound"}function getInnerId(){if(window.pdpTrackingData&&window.pdpTrackingData.page&&window.pdpTrackingData.page.xParams){var e=window.pdpTrackingData.page.xParams,n=e.split("&").filter(function(e){return e.indexOf("_p_item")>-1});return n.length<1?"notfound":n[0].split("=")[1].split("-")[0]}return"notfound"}function getQuery(e,n){n=n||window.location.search;var i=n.indexOf("#");i>0&&(n=n.substr(0,i));var o=n.match(new RegExp("[?|&]"+encodeURIComponent(e)+"=([^&]*)(&|$)"));return o&&"%s"===o[1]?o[1]:o?decodeURIComponent(o[1]):""}function getSearchKeyword(){return getQuery("q")||"notfound"}function getClickServerTrackingData(){function e(e,i,o){var t=i(o||e);return!!t&&(n[e]=t,!0)}var n={};return e("i_exlaz",getQuery)||e("exlaz",getQuery)||e("i_exlaz",getCookie)||e("exlaz",getCookie),e("click_id",getCookie,"lzd_click_id"),e("gclid",getQuery),n}function getCampaignQuery(){var e=window.location.host,n=e.split(".")[0],i=window.location.pathname+window.location.search;return n&&i?{"pathName":i,"subDomain":n}:{"pathName":"notfound","subDomain":"notfound"}}function getQueries(){return window.location.search}function formatOptions(e,n){var i={};if(i.venture=n.toLowerCase(),i.url=encodeURIComponent(window.location),"shop"===e)i.sellerKey=getSellerKey()+getQueries();else if("pdp"===e)i.innerId=getInnerId();else if("search"===e){i.keyword=getSearchKeyword();var o=location.pathname,t=o;if(o.startsWith("/tag/")){var a=[].slice.call(document.head.getElementsByTagName("link"));if(a=a.filter(function(e){return"alternate"===e.getAttribute("rel")}),a.length){var r=a[0],d=r.getAttribute("href"),s=new URL(d);t=s.searchParams.get("url_key")}}else{t.endsWith("/")||(t+="/");var l=[];"notfound"!==i.keyword&&l.push("q="+i.keyword);var u="wangpu"===getQuery("from");u&&l.push("from=wangpu"),l.length&&(t+="?"+l.join("&"))}i.url_key=encodeURIComponent(t)}else"campaign"===e&&(i=Object.assign(i,getCampaignQuery()));return i}function formatCustomizeUrl(e){if(!e||!e.length)return"";var n=window.location.href,i=e.filter(function(e){var i=e.srcUrl.split("?"),o=i[0],t=i[1],a="";if(t){a=""+t.split("&").filter(function(e){return e.indexOf("scm")<0&&e.indexOf("spm")<0}).join("&"),a&&(a="?"+a)}var r=""+o+a;return n.indexOf(r)>=0});return i.length?i[0].destUrl:""}function isShopCustomPage(e){var n=window.location.pathname.split("/").filter(function(e){return""!==e&&"shop"!==e});return"shop"===e&&n.length>1}function getFixedType(e){var n=location.pathname,i=n.split("/");return isShopCustomPage(e)?(debugLog("isShopCustomPage: true"),e="default"):"common-error"===i[i.length-1]&&(e="common-error"),e}function formatDeepIntentLink(e,n){var i=formatOptions(e,n);return({"hp":"intent://{venture}","shop":"intent://{venture}/shop/{sellerKey}","pdp":"intent://{venture}/d?p={innerId}&uri={url}","search":"intent://{venture}/page?url_key={url_key}","campaign":"intent://{venture}/web/{subDomain}{pathName}","storestreet":"intent://{venture}/store_street"}[e]||"intent://{venture}/web?url={url}").replace(/(\{([a-zA-Z]\w+)\})/g,function(e,n,o){return i[o]||""})}function formatDeeplink(e,n,i){var o=DEEP_LINK[e],t=formatCustomizeUrl(i);t.length&&(o=t);var a=formatOptions(e,n);return"hp"===e?o="lazada://"+n:"storestreet"===e&&(o="lazada://"+n+"/store_street"),DEEP_LINK[e]||(o="lazada://"+n),o=o.replace(DEEP_LINK_REG,function(e){return e.indexOf("venture")>-1?a.venture:e.indexOf("url")>-1?a.url:e.indexOf("sellerKey")>-1?a.sellerKey:e.indexOf("innerId")>-1?a.innerId:e.indexOf("keyword")>-1?a.keyword:e.indexOf("url_key")>-1?a.url_key:e.indexOf("subdomain")>-1?a.subDomain:e.indexOf("path")>-1?a.pathName:void 0}),o.indexOf("notfound")>-1&&(o="lazada://"+n),"pdp"===e&&(o=o+"&uri="+encodeURIComponent(window.location.href)),o}function LazadaSmartBanner(e){var n=this;this.init=function(){this.autoOpen=!1,this.autoDownload=!1,this.inAliApp=this.removeInNativeApp(),this.isDisabled=!1;var n=void 0;if(this.inAliApp&&(this.isDisabled=!0,n="isAliApp".toUpperCase()),this.removeIfDisabled()&&(this.isDisabled=!0,n="disableByUrlParam".toUpperCase()),this.isSmbDisable()&&(this.isDisabled=!0,n="disableByHttpCookie".toUpperCase()),this.shouldDisableSMB()&&(this.isDisabled=!0,n="disableBySpecialRule".toUpperCase()),this.isDisabled)return void gd.exposure("/smb.delivery.disabled",{"disabledType":n});this.$smartBanner=document.getElementById("J_Banner"),this.$close=document.getElementById("J_SMBColose"),this.region=regionID,this.language=e.wh_language&&e.wh_language.toLowerCase()||"en",this.osSystem=getOsSystem(),this.browser=getBrowser(),this.position=e.wh_position&&e.wh_position.toLowerCase()||"top",this.getBannerPositioned(),this.initCustomConfig(),exposeGoldlog(),this.initTopFixedBanner(),"function"==typeof navigator.getInstalledRelatedApps&&gd.exposure("/smb.delivery.app_api_ava")},this.initTopFixedBanner=function(){try{if(window.sBannerConfig&&"pdp"!==window.sBannerConfig.wh_channel)return;var e=document.getElementById("lzd-global-header");if(!e)return;var n=document.querySelector("a.back"),i=document.getElementById("J_Smart_Banner_Bottom");e.insertBefore(i,n),i.classList.contains("display-none")&&(e.classList.add("with-smart-banner"),i.classList.remove("display-none"));var o=!1;if(window.scrollY>=88)o=!0,revampGoldLog("EXP");else{var t=function e(){window.scrollY>=88&&!o&&(o=!0,revampGoldLog("EXP"),window.removeEventListener("scroll",e))};window.addEventListener("scroll",t)}}catch(r){var a=console;a.info("top fixed smb init failed",r)}},this.removeIfDisabled=function(){if(/disable\_deeplink\=true/i.test(window.location.search))return document.getElementById("J_Banner").style.display="none",!0;return!1},this.removeInNativeApp=function(){if(/AliApp/i.test(UA)){var e="",i=UA.match(/AliApp\(([a-z-A-Z]{1,20})\/(\d+(\.\d+){0,3})?\)/i);return i&&i.length>=3&&(e=i[1]),!e||"la-android"!==e.toLowerCase()&&"la"!==e.toLowerCase()||(document.getElementById("J_Banner").style.display="none"),!0}return!!n.isCookieExist()},this.initCustomConfig=function(){var e=this;this.customConfig={};var n=document.getElementById("smartbanner-config").text;try{this.customConfig=JSON.parse(n)}catch(r){gd.exposure("/smb.delivery.error",{"errorType":"SmartBannerConfigParseError".toUpperCase(),"smartbannerConfig":n}),console.error("not able to parse JSON",r)}this.autoOpen=!0,!1===this.customConfig.autoOpen&&(this.autoOpen=!1),(isSEO()||isSearchBots())&&(this.autoOpen=!1),this.autoDownload=!1,!0===this.customConfig.autoDownload&&(this.autoDownload=!0);var i=window.lzdGlobalConfigOption&&window.lzdGlobalConfigOption.wh_channel,o=i&&"default"!==i?i:this.customConfig.pageType;"hp"===o&&"/"!==location.pathname&&(o="default"),this.pageType=getFixedType(o)||"default";var t=function(){if(e.autoOpen){e.openApp({"isAuto":!0,"type":0});var i=e.isCookieChecked();debugLog("#21 isCookieChecked = "+i),e.osSystem.isIPhone&&e.browser.isSafari&&!i?(debugLog("#22"),e.setCookieChecked()):!e.browser.isChrome||i||"sg"!==e.region&&"ph"!==e.region&&"my"!==e.region&&"vn"!==e.region||e.setCookieChecked()}else gd.exposure("/smb.delivery.disabled",{"disabledType":"disableByTurnOffAutoOpen".toUpperCase(),"smartbannerConfig":n});e.autoDownload&&(debugLog("#23"),e.downloadApp()),e.$smartBanner&&(e.customConfig.bannerImage?e.$smartBanner.style.backgroundImage="url("+e.customConfig.bannerImage+")":e.$smartBanner.style.display="none"),document.getElementById("J_SMB_Title")&&e.customConfig.title&&(document.getElementById("J_SMB_Title").innerText=e.customConfig.title),document.getElementById("J_SMB_SubTitle")&&e.customConfig.subTitle&&(document.getElementById("J_SMB_SubTitle").innerText=e.customConfig.subTitle),document.getElementById("J_SMB_Button")&&e.customConfig.button&&(document.getElementById("J_SMB_Button").innerText=e.customConfig.button),e.bindEvents()};if("vn"!==regionID&&"ph"!==regionID&&"my"!==regionID||"function"!=typeof navigator.getInstalledRelatedApps)t(),debugLog("try open app #1");else{var a=Date.now();navigator.getInstalledRelatedApps().then(function(n){var i=Date.now()-a;window.__bl&&window.__bl.avg&&loggerAvg("get_installed_apps",i);var o=n.some(function(e){return"com.lazada.android"===e.id});debugLog("costTime="+i+", hasLazada="+o),o||(gd.exposure("/smb.app_not_installed"),e.autoOpen=!1),t()})["catch"](function(e){t(),debugLog("try open app #0, "+e.message)})}},this.resetDownloadLink=function(){n.downloadTimer&&(window.clearTimeout(n.downloadTimer),n.downloadTimer=null),n.removeCookieChecked()},this.openApp=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{"type":0};debugLog("dfrom="+n.pageType+", dauto="+e.isAuto);var i=Number(n.browser.version.split(".")[0]),o=ab,t=isAndroid&&"true"===getQuery("useIntent");if(isAndroid&&i>=25&&"Chrome"===n.browser.name&&(t=!0),!n.pageType)return debugLog("#4.1 no page type"),void gd.exposure("/smb.delivery.disabled",{"disabledType":"noSetPageType".toUpperCase()});if("campaign"!==n.pageType&&n.isCookieChecked()&&!0===e.isAuto)return gd.exposure("/smb.delivery.disabled",{"disabledType":"disableByTiredControl".toUpperCase(),"disableInFatigue":!0}),void debugLog("#4.1 cookie checked");var a=t?formatDeepIntentLink(n.pageType,n.region):formatDeeplink(n.pageType,n.region,n.customConfig.urlMap),r=platform+"_"+(getAppName()||n.browser.name),d=getOMFlag(),s=getMkttidWithEffect(),l=n.pageType,u=e.isAuto?1:0,p=getQuery("laz_share_info")||getCookie("laz_share_info");if(-1===a.indexOf("?")&&(a+="?"),a=appendQueriesForAppTracking(a,e),a=a+"&dsource="+dsource+"&dauto="+u+"&dfrom="+l+"&omflag="+d+"&browser="+encodeURIComponent(r)+"&mkttid="+s,p&&(a=a+"&laz_share_info="+p),o&&(a=a+"&smb_ab="+o),debugLog("#7 broswer="+n.browser.name+", deepLink="+a),t){var c=getClickServerTrackingData(),m=Object.keys(c).map(function(e){return e+"="+c[e]}).join("&");a=a+"#Intent;scheme=lazada;package=com.lazada.android;"+("S.market_referrer="+encodeURIComponent(encodeURIComponent(m))+";")+"end"}if(debugLog("this.osSystem.isIPhone = "+n.osSystem.isIPhone+" && this.browser.name = "+n.browser.name),n.osSystem.isIPhone&&n.browser.isSafari?(debugLog("#8 ios9SafariFix = true"),n.userAnchorLink(a)):n.osSystem.isIPhone&&"iOS_Webview"===n.browser.name?(debugLog("#8 ios webview"),n.userAnchorLink(a)):n.browser.isChrome?(debugLog("#9 isChrome"),n.osSystem.isIPhone?(debugLog("#10 chrome isIPhone"),n.userAnchorLink(a)):!n.browser.isSamsung||0!==n.osSystem.version.indexOf("4.4")&&0!==n.osSystem.version.indexOf("4.3")?(debugLog("#12 chrome other"),n.redirectLocation(a)):(debugLog("#11 chrome isSamsung"),a="intent://#Intent;scheme=lazada;package=com.lazada.android;end",n.redirectLocation(a))):n.browser.isFirefox?(debugLog("#13 firefox"),n.osSystem.isIPhone?(debugLog("#13 ios firefox"),n.userAnchorLink(a)):(debugLog("#13 not ios firefox"),n.callInIframe(a))):n.browser.isOpera?(debugLog("#14 opera"),n.callInIframe(a)):(debugLog("#15 other"),n.callInIframe(a)),a){var g=encodeURIComponent(a);n.deepLinkEncoded=g,gd.click("/smb.delivery.click",{"dsource":dsource,"dauto":u,"dfrom":l,"deviceType":deviceType,"deepLink":g,"browser":r,"referrer":document.referrer,"omflag":d,"smb_ab":o}),"Android"===deviceType&&gd.click("/smb.delivery.ab",{"value":o})}},this.callInIframe=function(e){n.iframe||(n.iframe=document.createElement("iframe"),n.iframe.id="callapp_iframe_"+Date.now(),n.iframe.frameborder="0",n.iframe.style.cssText="display:none;border:0;width:0;height:0;",document.body.appendChild(n.iframe)),n.iframe.src=e},this.redirectLocation=function(e){setTimeout(function(){n.inAliApp?window.location.replace(e):window.location.href=e},200)},this.userAnchorLink=function(e,n){setTimeout(function(){var i=document.createEvent("HTMLEvents");i.initEvent("click",!1,!1);var o=document.querySelector("#temp-smb-link");o||(o=document.createElement("a"),o.setAttribute("href",e),o.setAttribute("id","temp-smb-link"),n&&o.setAttribute("target",n),o.style.display="none",document.body.appendChild(o)),o.dispatchEvent(i)},200)},this.downloadApp=function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(!n.downloadTimer){var o=1500;n.downloadTimer=setTimeout(function(){var t=Date.now();if(!e||t-e<o+300){if(APP_DOWNLOAD_LINK[n.region]){debugLog("use track link to download app");var a={"lp":encodeURIComponent(window.location.href),"mkttid":getMkttidWithEffect()};debugLog(n.deepLinkEncoded);var r=APP_DOWNLOAD_LINK[n.region].replace(/(\{([a-zA-Z]\w+)\})/g,function(e,n,i){return a[i]||""});debugLog("redirectURL="+r),n.redirectLocation(r)}else if(n.osSystem.isIOS)n.redirectLocation(iosStore);else{var d=getClickServerTrackingData(),s=Object.keys(d).map(function(e){return e+"="+d[e]}).join("&");n.redirectLocation(androidStore+(s?"&referrer="+encodeURIComponent(s):""))}n.resetDownloadLink(),1===i?revampGoldLog("CLK","download"):clickGoldlog("download")}},o)}},this.getBannerPositioned=function(){if(!window.sBannerConfig.display)return void document.body.removeChild(n.$smartBanner);if("top"===window.sBannerConfig.wh_position.toLowerCase()){var e=document.getElementById("smartbanner-slot");if(e)e.appendChild(n.$smartBanner);else{var i=document.body.firstChild;document.body.insertBefore(n.$smartBanner,i)}}else document.body.appendChild(n.$smartBanner),n.$smartBanner.className+=" smart-banner-bottom-fixed"},this.isCookieChecked=function(){return"checked"===getCookie("smart_banner")},this.setCookieChecked=function(){setCookie("smart_banner","checked",{"expires":600})},this.removeCookieChecked=function(){removeCookie("smart_banner",{})},this.isCookieExist=function(){return"checked"===getCookie("smart_banner_exist")},this.setCookieExist=function(){setCookie("smart_banner_exist","checked",{"expires":3600})},this.isSmbDisable=function(){return"true"===getCookie("disable_smb")},this.shouldDisableSMB=function(){var e=location.hostname,n=location.pathname;return!(!n.startsWith("/products")||!1!==/\-s[0-9]/.test(n))||e.indexOf("redmart")>-1||void 0},this.bindEvents=function(){document.getElementById("J_SmartButton").onclick=throttle(function(){n.removeCookieChecked(),n.openApp({"type":0}),setTimeout(function(){var e=Date.now();n.downloadApp(e)},400)},2e3),n.$close.onclick=function(){clickGoldlog("close"),n.setCookieExist(),n.$smartBanner.style.display="none"},document.getElementById("J_Smart_Banner_Bottom").onclick=function(){n.removeCookieChecked(),n.openApp({"type":1}),setTimeout(function(){var e=Date.now();n.downloadApp(e,1)},300)}}}function init(){var e=void 0,n=window.lzdGlobalConfigOption;if(n&&n.specialEntrance&&!isShareUrl()){var i=n.specialEntrance,o=i.split(","),t=!1;if(UA){var a=UA.toLowerCase();o.forEach(function(e){e&&a.indexOf(e.toLowerCase())>=0&&(t=!0)})}if(t)return void gd.exposure("/smb.delivery.disabled",{"disabledType":"avoidInSpEntrance".toUpperCase(),"specialEntrance":n.specialEntrance})}e=new LazadaSmartBanner(window.mQuery?window.lzdGlobalConfigOption:{"wh_site":window.sBannerConfig.wh_site}),e.init()}function initModalUI(e){var n='\n    <div class="smb-modal-wrap">\n      <div class="smb-modal-mask"></div>\n      <div class="smb-modal-main">\n        <h1 class="smb-modal-title">Want more discounts?</h1>\n        <p class="smb-modal-content">Open in Lazada App to get more deals and discounts</p>\n        <div class="smb-modal-ft">\n          <a class="J_smb_modal_open smb-modal-btn primary" href="javascript:void(0);">Open in Lazada App</a>\n          <a class="J_smb_modal_close smb-modal-btn" href="javascript:void(0);">Stay</a>\n        </div>\n      </div>\n    </div>\n  ',i=fragmentFromString(n);document.body.appendChild(i);var o=document.querySelector(".J_smb_modal_close");o&&o.addEventListener("click",function(){gd.click("/smb.delivery.modal_close"),closeModal()},!1);var t=function(){e.openApp(),closeModal(),gd.click("/smb.delivery.modal_open")},a=document.querySelector(".J_smb_modal_open");a&&a.addEventListener("click",t,!1),disableScrolling()}function closeModal(){enableScrolling();var e=document.querySelector(".smb-modal-wrap");e&&e.parentNode.removeChild(e)}function disableScrolling(){document.body.style.overflow="hidden"}function enableScrolling(){document.body.style.overflow="initial"}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"!=typeof require)var r=require;var iosStore="https://itunes.apple.com/app/id785385147?mt=8",androidStore="https://play.google.com/store/apps/details?id=com.lazada.android",APP_DOWNLOAD_LINK={"id":"https://c.lazada.co.id/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}","th":"https://c.lazada.co.th/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}","my":"https://c.lazada.com.my/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}","ph":"https://c.lazada.com.ph/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}","sg":"https://c.lazada.sg/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}","vn":"https://c.lazada.vn/t/traceAndDownload?mkttid={mkttid}&lpUrl={lp}"},regionID=(window.lzdGlobalConfigOption.wh_site&&window.lzdGlobalConfigOption.wh_site||window.sBannerConfig&&window.sBannerConfig.wh_site||"sg").toLowerCase(),DEEP_LINK={"default":"lazada://{venture}/web?url={url}","hp":"lazada://{venture}","shop":"lazada://{venture}/shop/{sellerKey}","pdp":"lazada://{venture}/d?p={innerId}","search":"lazada://{venture}/page?url_key={url_key}","campaign":"lazada://{venture}/web/{subdomain}{path}","storestreet":"lazada://{venture}/store_street"},DEEP_LINK_REG=/(\{[a-zA-Z]\w+\})/g,UA=navigator.userAgent,iOS=/iPad|iPhone|iPod/i.test(UA)&&!window.MSStream,isAndroid=UA.toLowerCase().indexOf("android")>-1,EXTERNAL_KEYS=["campaign","adgroup","creative","deep_link","adjust_t","adjust_campaign","adjust_adgroup","adjust_creative","url_key","extra","adjust_network","laz_share_info"],DEBUG=!1,deviceType="",osSystem=getOsSystem();osSystem.isAndroid?deviceType="Android":osSystem.isIOS&&(deviceType="iOS");var ab="";"Android"===deviceType&&"id"===regionID&&(isTargetUser(90,100)?ab="A":isTargetUser(80,90)?ab="B":isTargetUser(70,80)?ab="C":isTargetUser(60,70)&&(ab="D")),debugLog("ab = "+ab);var queue=window.goldlog_queue||(window.goldlog_queue=[]),gd={"queue":queue,"record":record,"exposure":exposure,"click":click},dsource="smb",platform=iOS?"ios":isAndroid?"android":"unknown";console.log("smartbanner init"),gd.exposure("/smb.delivery.lp"),"complete"===document.readyState||"interactive"===document.readyState?init():window.addEventListener("DOMContentLoaded",init);function LazadaGlobalTabBar(a){var e=Object.assign({"tabbarId":"lzd-h2-tabbar"},a);this.init=function(){var a=this;this.tabbarEl=document.getElementById(e.tabbarId),this.tabbarEl&&function(){for(var e=a.tabbarEl.querySelectorAll("a"),i="selected",n=0;n<e.length;n++)if(e[n].href.indexOf("javascript")<0){e[n].addEventListener("touchstart",function(){var a=this;a.classList&&a.classList.add(i),a.getElementsByTagName("use")[0].classList.add(i)});var t=function(){var a=this;a.classList&&a.classList.remove(i);var e=a.getElementsByTagName("use")[0];e&&e.classList&&e.classList.remove(i)};e[n].addEventListener("touchend",t),e[n].addEventListener("touchcancel",t)}a.resetLinkTo(),a.setCartNum()}()},this.setCartNum=function(){var a=this;window.mQuery.requestUserCartCount().then(function(e){if(a.tabbarEl&&e&&e.data&&e.data.cartNum){var i=a.tabbarEl.getElementsByClassName("cart-num")[0];if(i)try{var n=parseInt(e.data.cartNum,10);i.innerHTML=n>99?"99+":e.data.cartNum,i.style.display="block",n<10&&i.classList.add("less-then-10")}catch(t){window.mQuery.log("set tabbar cartNumEl",t)}}})["catch"](function(a){window.mQuery.log("mq requestUserCartCount",a)})},this.resetLinkTo=function(){window.mQuery&&window.mQuery.resetLinkTo(this.tabbarEl)}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"!=typeof require){var r=require;window.mQuery&&window.mQuery.log(void 0===r?"undefined":_typeof(r))}window.mQuery?window.mQuery.onDomReady(function(){(new LazadaGlobalTabBar).init()}):window.addEventListener("load",function(){(new LazadaGlobalTabBar).init()});