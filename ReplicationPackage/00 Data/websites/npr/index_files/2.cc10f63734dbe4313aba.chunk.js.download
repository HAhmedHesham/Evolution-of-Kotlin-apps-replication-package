(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STATE_LOADED="STATE_LOADED",t.STATE_DETECTION_COMPLETED="STATE_DETECTION_COMPLETED",t.AUDIO_MODULE_MOUNTED="AUDIO_MODULE_MOUNTED",t.ACCESS_TOKEN_RECEIVED="ACCESS_TOKEN_RECEIVED",t.USER_LOGOUT_COMPLETED="USER_LOGOUT_COMPLETED",t.USER_LOGOUT_REQUESTED="USER_LOGOUT_REQUESTED",t.USER_VIEW_LOAD_REQUESTED="USER_VIEW_LOAD_REQUESTED",t.USER_VIEW_LOAD_COMPLETED="USER_VIEW_LOAD_COMPLETED",t.USER_VIEW_LOAD_FAILED="USER_VIEW_LOAD_FAILED",t.GET_LOCAL_STATIONS_REQUESTED="GET_LOCAL_STATIONS_REQUESTED",t.GET_LOCAL_STATIONS_SKIPPED="GET_LOCAL_STATIONS_SKIPPED",t.GET_LOCAL_STATIONS_SUCCEEDED="GET_LOCAL_STATIONS_SUCCEEDED",t.GET_LOCAL_STATIONS_FAILED="GET_LOCAL_STATIONS_FAILED",t.STATION_CHANGE_REQUESTED="STATION_CHANGE_REQUESTED",t.STATION_CHANGE_COMPLETED="STATION_CHANGE_COMPLETED",t.STATION_AUTOLOCALIZED="STATION_AUTOLOCALIZED",t.SET_STATE="SET_STATE",t.SET_SOURCE="SET_SOURCE",t.SET_OTHER_AMOUNT="SET_OTHER_AMOUNT",t.RESET_OTHER_AMOUNT="RESET_OTHER_AMOUNT",t.PARTICIPATING_STATION_DATA_LOADED="PARTICIPATING_STATION_DATA_LOADED",t.DEFAULT_ORG_RESOLVED="DEFAULT_ORG_RESOLVED",t.STATION_DATA_LOADED="STATION_DATA_LOADED",t.TOGGLE_EXPANDED="TOGGLE_EXPANDED",t.INITIAL_STATE_REVERTED="INITIAL_STATE_REVERTED",t.AUDIO_COMPLETE="AUDIO_COMPLETE",t.AUDIO_DURATION_CHANGE="AUDIO_DURATION_CHANGE",t.AUDIO_BUFFERING_STARTED="AUDIO_BUFFERING_STARTED",t.AUDIO_BUFFERING_FINISHED="AUDIO_BUFFERING_FINISHED",t.AUDIO_PLAYING_STATUS_DIRECT="AUDIO_PLAYING_STATUS_DIRECT",t.PLAY_PAUSE_BUTTON_PRESSED="PLAY_PAUSE_BUTTON_PRESSED",t.PLAY_PAUSE_REQUESTED="PLAY_PAUSE_REQUESTED",t.NEW_PLAY_REQUESTED="NEW_PLAY_REQUESTED",t.AUDIO_REQUESTED="AUDIO_REQUESTED",t.AUDIO_PLAYED="AUDIO_PLAYED",t.TOGGLE_PLAY="TOGGLE_PLAY",t.SET_AUDIO_PLAYER_VOLUME="SET_AUDIO_PLAYER_VOLUME",t.ADD_STREAM_TO_STAGE_REQUESTED="ADD_STREAM_TO_STAGE_REQUESTED",t.AUDIO_EXPIRED="AUDIO_EXPIRED",t.AUDIO_ERROR="AUDIO_ERROR",t.REWIND="REWIND",t.FAST_FORWARD="FAST_FORWARD",t.SKIP="SKIP",t.SCRUB_BEGIN="SCRUB_BEGIN",t.SCRUB_END="SCRUB_END",t.SEEK="SEEK",t.LINK_CLICKED="LINK_CLICKED",t.CLEAR_HISTORY_REQUESTED="CLEAR_HISTORY_REQUESTED",t.PREVIOUS_AUDIO_PLAY_REQUESTED="PREVIOUS_AUDIO_PLAY_REQUESTED",t.INCREMENT_AUDIO_HISTORY_HEAD="INCREMENT_AUDIO_HISTORY_HEAD",t.HISTORY_ITEMS_UNLOADED="HISTORY_ITEMS_UNLOADED",t.METADATA_LOADED="METADATA_LOADED",t.METADATAS_LOADED="METADATAS_LOADED",t.METADATA_UNLOADED="METADATA_UNLOADED",t.METADATAS_UNLOADED="METADATAS_UNLOADED",t.METADATA_INVALIDATED="METADATA_INVALIDATED",t.NOW_ON_STREAMS_REGISTRATION_REQUESTED="NOW_ON_STREAMS_REGISTRATION_REQUESTED",t.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED="NOW_ON_STREAMS_UNREGISTRATION_REQUESTED",t.INITIAL_WIDTH_DETECTED="INITIAL_WIDTH_DETECTED",t.WIDTH_DETECTED="WIDTH_DETECTED",t.TOUCH_DETECTED="TOUCH_DETECTED",t.ECOSYSTEM_DETECTED="ECOSYSTEM_DETECTED",t.RIGHTRAIL_DETECTED="RIGHTRAIL_DETECTED",t.PAGE_VISIBILITY_DETECTED="PAGE_VISIBILITY_DETECTED",t.CONTAINER_UNWRAPPED="CONTAINER_UNWRAPPED",t.NOW_PLAYING_LOADED="NOW_PLAYING_LOADED",t.COUNTRY_REQUESTED="COUNTRY_REQUESTED",t.COUNTRY_DETECTED="COUNTRY_DETECTED",t.TIMER="TIMER",t.STORY_PAGE_DETECTED="STORY_PAGE_DETECTED",t.END_OF_STORY_RECOMMENDATION_REQUESTED="END_OF_STORY_RECOMMENDATION_REQUESTED",t.END_OF_STORY_RECOMMENDATION_COMPLETED="END_OF_STORY_RECOMMENDATION_COMPLETED",t.END_OF_STORY_RECOMMENDATION_FAILED="END_OF_STORY_RECOMMENDATION_FAILED",t.CENTER_STAGE_AD_STATUS_DETERMINED="CENTER_STAGE_AD_STATUS_DETERMINED",t.PANE_CHANGE_REQUESTED="PANE_CHANGE_REQUESTED",t.PANE_CHANGE_DIRECT="PANE_CHANGE_DIRECT",t.PANE_CHANGE_WITH_EXPAND="PANE_CHANGE_WITH_EXPAND",t.ON_DEMAND_PANE_SELECTED_WITH_PLAY="ON_DEMAND_PANE_SELECTED_WITH_PLAY",t.STREAMING_PANE_SELECTED_WITH_PLAY="STREAMING_PANE_SELECTED_WITH_PLAY",t.NEWSCAST_PANE_SELECTED_WITH_PLAY="NEWSCAST_PANE_SELECTED_WITH_PLAY",t.COLLAPSE_PANE="COLLAPSE_PANE",t.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP="NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP",t.AGG_REQUESTED="AGG_REQUESTED",t.AGG_LOADED="AGG_LOADED",t.NEWSCAST_REQUESTED="NEWSCAST_REQUESTED",t.QUEUE_BUTTON_PRESSED="QUEUE_BUTTON_PRESSED",t.ADD_ONE_TO_QUEUE="ADD_ONE_TO_QUEUE",t.ADD_MANY_TO_QUEUE="ADD_MANY_TO_QUEUE",t.REMOVE_ONE_FROM_QUEUE="REMOVE_ONE_FROM_QUEUE",t.ADD_MANY_TO_TOP_OF_QUEUE="ADD_MANY_TO_TOP_OF_QUEUE",t.INITIALIZE_FEATURED_AUDIO_REQUESTED="INITIALIZE_FEATURED_AUDIO_REQUESTED",t.INITIALIZE_FEATURED_AUDIO_SUCCEEDED="INITIALIZE_FEATURED_AUDIO_SUCCEEDED",t.SPONSORSHIP_REQUESTED="SPONSORSHIP_REQUESTED",t.SPONSORSHIP_STARTED="SPONSORSHIP_STARTED",t.POSTROLL_SPONSORSHIP_STARTED="POSTROLL_SPONSORSHIP_STARTED",t.SPONSORSHIP_LOADED="SPONSORSHIP_LOADED",t.SPONSORSHIP_SLOT_AVAILABLE="SPONSORSHIP_SLOT_AVAILABLE",t.MOBILE_SPONSORSHIP_SLOT_AVAILABLE="MOBILE_SPONSORSHIP_SLOT_AVAILABLE",t.SOUNDSCAPES_LOADED="SOUNDSCAPES_LOADED",t.SPONSORED_CHANNEL_SET="SPONSORED_CHANNEL_SET",t.PLAY_POSTROLL_BEFORE_UID_SET="PLAY_POSTROLL_BEFORE_UID_SET",t.PLAY_POSTROLL_BEFORE_UID_RESET="PLAY_POSTROLL_BEFORE_UID_RESET",t.SPONSORSHIP_DIVS_RESET="SPONSORSHIP_DIVS_RESET",t.SPONSORSHIP_INTERRUPTED="SPONSORSHIP_INTERRUPTED",t.PREEMPTED_UID_QUEUED="PREEMPTED_UID_QUEUED",t.PREEMPTED_UID_REPLACED="PREEMPTED_UID_REPLACED",t.LEAVE_BEHIND_INITIALIZED="LEAVE_BEHIND_INITIALIZED",t.SOUNDSCAPES_BANNER_CLICKED="SOUNDSCAPES_BANNER_CLICKED",t.RESET_LAST_PLAYED_TIMESTAMP="RESET_LAST_PLAYED_TIMESTAMP",t.PREROLL_ENDED="PREROLL_ENDED",t.POSTROLL_ENDED="POSTROLL_ENDED",t.VIDEO_PREROLL_ENDED="VIDEO_PREROLL_ENDED",t.STATION_SEARCH_REQUESTED="STATION_SEARCH_REQUESTED",t.STATION_SEARCH_RESULTS_LOADED="STATION_SEARCH_LOADED",t.STATION_SEARCH_FAILED="STATION_SEARCH_FAILED",t.STATION_NETWORK_LOOKUP_REQUESTED="STATION_NETWORK_LOOKUP_REQUESTED",t.STATION_NETWORK_RESULTS_LOADED="STATION_NETWORK_RESULTS_LOADED",t.STATION_NETWORK_LOOKUP_FAILED="STATION_NETWORK_LOOKUP_FAILED",t.NEWSLETTER_ACQUISITION_REQUESTED="NEWSLETTER_ACQUISITION_REQUESTED",t.NEWSLETTER_ACQUISITION_COMPLETED="NEWSLETTER_ACQUISITION_COMPLETED",t.NEWSLETTER_ACQUISITION_FAILED="NEWSLETTER_ACQUISITION_FAILED",t.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED="NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED",t.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED="NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED",t.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED="NEWSLETTER_EXTERNAL_ACQUISITION_FAILED",t.STATION_DROPDOWN_TOGGLED="STATION_DROPDOWN_TOGGLED",t.CLOSE_SUBNAVS="CLOSE_SUBNAVS",t.PAGE_DETECTED="PAGE_DETECTED",t.SESSION_LOADED="SESSION_LOADED",t.SPIKING_STORIES_REQUESTED="SPIKING_STORIES_REQUESTED",t.SPIKING_STORIES_SUCCEEDED="SPIKING_STORIES_SUCCEEDED",t.SPIKING_STORIES_FAILED="SPIKING_STORIES_FAILED",t.SPIKING_STORY_DETECTED="SPIKING_STORY_DETECTED",t.SPIKING_STORY_NOT_DETECTED="SPIKING_STORY_NOT_DETECTED",t.INITIAL_STATE_CORRECTION="INITIAL_STATE_CORRECTION",t.PROGRAM_SCHEDULE_REQUESTED="PROGRAM_SCHEDULE_REQUESTED",t.PROGRAM_SCHEDULE_LOADED="PROGRAM_SCHEDULE_LOADED",t.HP_LOCAL_STORIES_REQUESTED="HP_LOCAL_STORIES_REQUESTED",t.HP_LOCAL_STORIES_SUCCEEDED="HP_LOCAL_STORIES_SUCCEEDED",t.HP_LOCAL_STORIES_FAILED="HP_LOCAL_STORIES_FAILED",t.EMPTY_ACTION_TYPE="EMPTY_ACTION_TYPE",t.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED="LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED",t.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED="LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED",t.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE="ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE",t.ENABLE_CONTINUOUS_LISTENING="ENABLE_CONTINUOUS_LISTENING",t.DISABLE_CONTINUOUS_LISTENING="DISABLE_CONTINUOUS_LISTENING",t.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING="AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING",t.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED="MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED",t.MOBILE_NATIVE_DETECTED="MOBILE_NATIVE_DETECTED",t.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED="MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_START_LOADING="MOBILE_NATIVE_DID_START_LOADING",t.MOBILE_NATIVE_DID_START_PLAYING="MOBILE_NATIVE_DID_START_PLAYING",t.MOBILE_NATIVE_DID_STOP_PLAYING="MOBILE_NATIVE_DID_STOP_PLAYING",t.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED="MOBILE_NATIVE_QUEUE_BUTTON_PRESSED",t.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST="MOBILE_NATIVE_DID_ADD_TO_PLAYLIST",t.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST="MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST",t.CHECK_GLOBAL_ALERTS="CHECK_GLOBAL_ALERTS",t.SHOW_GLOBAL_STICKYBAR="SHOW_GLOBAL_STICKYBAR",t.SHOW_GLOBAL_MODAL="SHOW_GLOBAL_MODAL",t.HIDE_GLOBAL_ALERTS="HIDE_GLOBAL_ALERTS",t.GLOBAL_ALERT_VARIATION_DETERMINED="GLOBAL_ALERT_VARIATION_DETERMINED",t.RESET_NUM_TIMES_MODAL_TRIGGERED="RESET_NUM_TIMES_MODAL_TRIGGERED",t.RESET_NUM_TIMES_STICKYBAR_TRIGGERED="RESET_NUM_TIMES_STICKYBAR_TRIGGERED",t.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED="ON_PAGE_CALLOUT_DETERMINATION_REQUESTED",t.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED="ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED",t.HP_HIDE_STATION_CARD_MESSAGE="HP_HIDE_STATION_CARD_MESSAGE",t.MUSIC_STREAMS_REQUESTED="MUSIC_STREAMS_REQUESTED",t.MUSIC_STREAMS_REQUEST_SUCCEEDED="MUSIC_STREAMS_REQUEST_SUCCEEDED",t.MUSIC_STREAMS_STATUS_RESET="MUSIC_STREAMS_STATUS_RESET",t.MUSIC_STREAMS_REQUEST_FAILED="MUSIC_STREAMS_REQUEST_FAILED"},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),o=(r=a)&&r.__esModule?r:{default:r};t.default={info:function(e,t){(0,o.default)(this).trigger("npr:log:info",{message:e,data:t})},warning:function(e,t,n){(0,o.default)(this).trigger("npr:log:warning",{message:e,data:t,exception:n})},error:function(e,t){(0,o.default)(this).trigger("npr:log:error",{exception:e,data:t})}}},100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.fetchSponsorshipFromDfp=P,t.getTargetingForStory=M,t.getDfpZone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,r){Object.prototype.hasOwnProperty.call(A,e)?n(A[e].zone):M(e,t).then((function(e){return n(e.zone)})).catch((function(e){return r(e)}))}))},t.shouldPlaySponsorshipBefore=function(e,t,n){if(e.hasAdsWizz)return!1;if(e.skipSponsorship)return!1;var r=(0,m.getStoryIdFromUid)(e.uid),a=!Number.isInteger(parseInt(r))&&"newscast-1"!==e.uid;if(e.skipSponsorship||e.type!==p.SEGMENT||a)return!1;var o=Date.now();return e.uid===n||o/1e3-t>=f.SPONSORSHIP_INTERVAL},t.shouldFetchSponsorship=function(e,t,n){var r=1===e.sponsorship.numSlotsAvailable&&2===t.sponsorship.numSlotsAvailable,a=n.type===c.MOBILE_SPONSORSHIP_SLOT_AVAILABLE;return r||a},t.shouldFetchLeaveBehindOnly=function(e,t){if(e.metadata.skipSponsorship)return!1;if(!e.sponsorship.isFetchingSponsorship&&""!==e.sponsorship.leaveBehindDiv&&t.type===c.SPONSORSHIP_SLOT_AVAILABLE){if(e.metadata[e.player.currentUid].fetchLeaveBehindOnly)return!0}return!1},t.shouldUnloadSponsorshipMetadata=function(e){return e.type===c.AUDIO_COMPLETE&&e.payload.type===p.SPONSORSHIP},t.shouldRevertInitialState=function(e,t){if(""==t.sponsorship.preemptedUid){var n=(0,l.default)(t,"player.currentUid"),r=(0,y.getMetadataTypeForUid)(t.metadata,n);return e.type===c.AUDIO_COMPLETE&&e.payload.subtype===p.CLICK_TO_PLAY_SOUNDSCAPES||e.type===c.SKIP&&r===p.SPONSORSHIP}return!1},t.shouldReplacePreemptedUid=function(e,t,n){var r=(0,l.default)(t,"player.currentUid");return e===c.SOUNDSCAPES_LOADED&&""!==r&&(0,y.getMetadataTypeForUid)(n,r)!==p.SPONSORSHIP},t.canHaveEventListener=function(){return"object"===("undefined"==typeof window?"undefined":r(window))&&"function"==typeof window.addEventListener},t.getAdLocationsForAction=function(e,t){if(t)return[E.PLAYER_POSTROLL,E.PLAYER_LEAVEBEHIND];switch(e){case c.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return[E.PLAYER_MOBILE_PRIMARY];default:return[E.PLAYER_PRIMARY,E.PLAYER_LEAVEBEHIND]}},t.shouldSendMessageToCreative=function(e,t){var n=[c.TIMER,c.AUDIO_PLAYED,c.TOGGLE_PLAY],r=[p.SOUNDSCAPES,p.CLICK_TO_PLAY_SOUNDSCAPES];if((0,u.default)(n,t)){var a=e.metadata[e.player.currentUid],o=(0,l.default)(a,"subtype");return(0,u.default)(r,o)}return!1},t.sendMessageToCreative=function(e,t,n){var r=(0,a.default)(".ad-player iframe").get(0);if(r&&r.contentWindow){var o={type:"playback time update"},i=e.player.position>t.player.position;n.type===c.AUDIO_PLAYED&&n.payload.type===p.SPONSORSHIP?(o.value=0,r.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===c.TIMER&&i?(o.value=(0,s.default)(e.player.position),r.contentWindow.postMessage(JSON.stringify(o),"*")):n.type===c.TOGGLE_PLAY&&(o.type="toggle play",o.value=e.player.isPlaying?"play":"pause",r.contentWindow.postMessage(JSON.stringify(o),"*"))}},t.fetchLeaveBehind=function(e){var t=(0,m.getStoryIdFromUid)(e.uid);M(t,e.sponsorshipSiteOverride).then((function(n){n.targets.channel=e.channel,P(n,[E.PLAYER_LEAVEBEHIND]).catch((function(e){d.default.info(e,{storyId:t})}))})).catch((function(e){d.default.info(e,{storyId:t})}))},t.isSoundscapes=function(e){return e===p.CLICK_TO_PLAY_SOUNDSCAPES||e===p.SOUNDSCAPES},t.makeAdScrollable=C,t.isValidPlayerMessageEvent=function(e){return(e.origin.endsWith("npr.org")||e.origin.endsWith("nprinfra.org"))&&(e.data===S.LISTEN||e.data===S.QUEUE||e.data===S.LEAVE_BEHIND_LISTEN||e.data===S.LEAVE_BEHIND_QUEUE)},t.isUid=function(e){return/[0-9]+:[0-9]+$/.test(e)},t.getMetadataUidsByChannelName=function(e,t){var n=[];(0,o.default)(e)||Object.keys(t).forEach((function(r){t[r].channel===e&&n.push(r)}));return n},t.engageAutoplayHack=function(){var e=void 0,t=(0,a.default)("#audio-player").data().jPlayer;(0,o.default)(t.status.media)||(e=(0,i.default)(t.status.media));var n=NPR.ServerConstants.serverMediaCache+"/templates/audio/mobile-play-start.mp3";(0,a.default)("#audio-player").jPlayer("setMedia",{mp3:n}).jPlayer("play").jPlayer("stop"),e&&(0,a.default)("#audio-player").jPlayer("setMedia",e)};var a=v(n(6)),o=v(n(86)),i=v(n(852)),u=v(n(93)),s=v(n(859)),l=v(n(7)),d=v(n(10)),c=T(n(1)),f=T(n(214)),p=T(n(16)),E=T(n(98)),S=T(n(408)),_=v(n(148)),g=v(n(64)),m=n(196),y=n(128);function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var O={},A={},h=[],I={},D=!1;function P(e,t){return h=[],D=1===t.length&&t[0]===E.PLAYER_LEAVEBEHIND,new Promise((function(n,r){if(setTimeout((function(){return r("DFP call blocked or timed out")}),1e3),(0,o.default)(t))r("At least one ad location must be provided");else{var a=!0,i=!1,u=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value,c=new _.default(b(e,d));R(c),h.push(c),L(c),googletag.display(c.getAdSlotName())}}catch(e){i=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw u}}googletag.cmd.push((function(){var e=[];h.forEach((function(t){e.push(t.slot),I[t.location]=t.slot.getSlotElementId();var n=t.getAdSlotName();O[n]=t.slot})),googletag.pubads().addEventListener("slotRenderEnded",N.bind(null,n,r)),h=[],googletag.pubads().refresh(e)}))}}))}function N(e,t,n){if(n.isEmpty)t("Sponsorship Util: googletag did not return any player ad");else{var r=n.slot.getSlotElementId();if(r===I[E.PLAYER_LEAVEBEHIND]&&D)e({});else if(function(e){var t=[I[E.PLAYER_PRIMARY],I[E.PLAYER_POSTROLL],I[E.PLAYER_MOBILE_PRIMARY]];return(0,u.default)(t,e)}(r)){var o=void 0;r===I[E.PLAYER_MOBILE_PRIMARY]?(o="ad-player-mobile",(0,a.default)("."+o+" iframe").get(0).setAttribute("width","100%")):o="ad-player";var i=(0,a.default)("."+o+" iframe:first"),s=(0,a.default)(i).get(0).contentDocument,l=s.getElementById("sponsorship-data");if(!l){var c=s.querySelector("template");if(c){var f=c.content.firstChild.innerText,S=(new DOMParser).parseFromString(f,"text/html");l||(d.default.info("Sponsorship: Util: Looking for sponsorship data in document fragment"),l=S.querySelector("#sponsorship-data"))}else d.default.info("Sponsorship Util: Location: "+r+" no document fragment")}if(null===l)t("Sponsorship Util: Could not find valid player sponsorship data. order: "+n.campaignId+" lineItem: "+n.lineItemId);else{d.default.info("Sponsorship Util: Location: "+r+". Found valid sponsorship data.");var _=l.getAttribute("data-sponsorshipType")||p.STANDARD;e(function(e,t){var n={audioUrl:e.getAttribute("data-sponsorAudioFileUrl"),type:p.SPONSORSHIP,subtype:t};switch(t){case p.SOUNDSCAPES:return Object.assign({},n,{sponsorClickthrough:e.getAttribute("data-sponsorClickthrough"),supportedCustomAudioFileUrl:e.getAttribute("data-supportedCustomAudioFileUrl"),primaryThemeColor:e.getAttribute("data-primaryThemeColor"),secondaryThemeColor:e.getAttribute("data-secondaryThemeColor"),secondaryBackground:e.getAttribute("data-secondaryImage"),uid:e.getAttribute("data-trackingChannel"),animationIframeUrl:e.getAttribute("data-animationIframeUrl")});case p.CUSTOM_CHANNEL:return Object.assign({},n,{channel:e.getAttribute("data-trackingChannel"),recommendationsChannelOrUid:e.getAttribute("data-recommendationsChannelOrUid")});case p.PLAYER_PODCAST:return Object.assign({},n,{podcastUid:e.getAttribute("data-podcastUid"),channel:e.getAttribute("data-trackingChannel")});default:return n}}(l,_)),C(E.PLAYER_PRIMARY)}}}}function b(e,t){return Object.assign({},e,{location:t})}function R(e){var t=e.getAdSlotName();if(Object.prototype.hasOwnProperty.call(O,t)){var n=e.zone?"/"+e.zone:"",r="/"+e.network+"/"+e.site+n;O[t].getAdUnitPath()===r?(Object.assign(e,{slot:O[t]}),e.slot.clearTargeting()):(googletag.destroySlots([O[t]]),e.createAdSlot())}else e.createAdSlot()}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e.targets,t);Object.getOwnPropertyNames(n).forEach((function(t){return e.slot.setTargeting(t,n[t])}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,r){if(Object.prototype.hasOwnProperty.call(A,e))n(A[e]);else{var a=NPR.ServerConstants.webHost+"/sponsorship/targeting/"+e;(0,g.default)(2e4,a).then((function(a){404===a.status?r("Error fetching targeting from targeting endpoint"):a.json().then((function(a){(0,o.default)(a)?r("The targeting endpoint did not return any data"):(a.site=(0,o.default)(t)?a.site:t,A[e]=a,n(a))}))})).catch((function(){r("Error fetching targeting from targeting endpoint")}))}}))}function C(e){var t=window.innerHeight,n=170,r=735,o=(0,a.default)("#ad-standard-wrap"),i="is-below-threshold-height-standard";e===E.PLAYER_PRIMARY&&(n=123,r=675,o=(0,a.default)(".ad-player"),i="is-below-threshold-height-player"),t<r?((0,a.default)("body").addClass(i),o.css("height",t-n)):(0,a.default)("body").removeClass(i)}},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE_FOR_METRICS="panes",t.STREAMING="STREAMING",t.ON_DEMAND="ON_DEMAND",t.NEWSCAST="NEWSCAST",t.IGNORE_METRIC="IGNORE_METRIC"},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShouldPreventAutoLocalization=t.getRenderPlatform=void 0;var r=n(173),a=function(e){return e.session};t.getRenderPlatform=(0,r.createSelector)([a],(function(e){return e.renderPlatform})),t.getShouldPreventAutoLocalization=(0,r.createSelector)([a],(function(e){return e.preventAutoLocalization}))},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.currentDay=(new Date).toISOString();t.isWithinThisGlobalAlertPeriod=function(e){return r>e.startDate&&r<e.endDate},t.isBlockListed=function(e){if(e.includes("/sections/publiceditor")||"/ethics"===e||e.includes("/sponsor-content/")||e.includes("/trump-impeachment-inquiry")||"Trump Impeachment Inquiry"===$(".contentheader--one .branding .branding__title").text()||0!==$("#subNavigation #res691393455").length)return!0}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=s(n(6)),o=s(n(23)),i=s(n(26)),u=s(n(307));function s(e){return e&&e.__esModule?e:{default:e}}var l=o.default.create();function d(){return navigator.userAgent.match(new RegExp("IEMobile","i"))}l.name="util/env",l.init=function(){((e=(0,a.default)("html")).hasClass("touch")||d())&&(d()&&e.removeClass("no-touch").addClass("touch"),u.default.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px)")&&e.addClass("NPRtablet"),u.default.mq("only screen and (max-device-width: 767px)")&&e.addClass("NPRphone"));var e=(0,a.default)("html");"tablet"===i.default.getUrlParameter("device")&&e.addClass("NPRtablet"),"phone"===i.default.getUrlParameter("device")&&e.addClass("NPRphone")},l.register(),t.default={isMobileIE:d,isOnTablet:function(){return(0,a.default)("html").hasClass("NPRtablet")},isOnPhone:function(){return(0,a.default)("html").hasClass("NPRphone")},hasTouch:function(){return u.default.touch},isScreenSmallerOrEqual:function(e){return"object"===(void 0===e?"undefined":r(e))?u.default.mq("only screen and (max-width: "+e.MAX+"px)"):"number"==typeof e&&u.default.mq("only screen and (max-width: "+e+"px)")},isScreenSmaller:function(e){return"object"===(void 0===e?"undefined":r(e))?u.default.mq("only screen and (max-width: "+(e.MIN-1)+"px)"):"number"==typeof e&&u.default.mq("only screen and (max-width: "+(e-1)+"px)")},isScreenLargerOrEqual:function(e){return"object"===(void 0===e?"undefined":r(e))?u.default.mq("only screen and (min-width: "+e.MIN+"px)"):"number"==typeof e&&u.default.mq("only screen and (min-width: "+e+"px)")},isScreenWithin:function(e){return"object"===(void 0===e?"undefined":r(e))&&u.default.mq("only screen and (min-width: "+e.MIN+"px) and (max-width: "+e.MAX+"px)")},BREAKPOINT:{SMALL:{NAME:"small",MIN:0,MAX:767},MEDIUM:{NAME:"medium",MIN:768,MAX:1024},LARGE:{NAME:"large",MIN:1025,MAX:1299},LARGEST:{NAME:"largest",MIN:1300,MAX:1e4}}}},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=g(n(912)),o=g(n(175)),i=g(n(131)),u=g(n(172)),s=g(n(422)),l=g(n(7)),d=g(n(64)),c=g(n(26)),f=g(n(10)),p=_(n(51)),E=_(n(35)),S=_(n(16));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(914);var m=p.API_HOST+"/stationfinder/v3/stations/recommendations",y=p.WEB_HOST+"/syndicated-stories",T=p.PROXY_API_HOST+"/proxy/stationasset/v3/musicHomepageStreams/";function v(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,d.default)(1e4,t).then((function(e){return Promise.resolve(e.json())}))}function O(e){return v(e).then((function(t){return n=t,(0,l.default)(n,"attributes.orgId")?Promise.resolve(parseInt((0,l.default)(t,"attributes.orgId"),10)):Promise.reject('Invalid results from Stations API search for call letters "'+e+'"');var n})).catch((function(e){return Promise.reject(e)}))}function A(e,t){var n=(0,o.default)((0,l.default)(e.links,"streams"),(function(e){return parseInt(e.typeId,10)===S.TYPE_MP3&&e.guid})),r=(0,o.default)(n,(function(e){return!!c.default.isHttps(e.href)||(f.default.warning("Rejecting insecure station stream",e.href),!1)})).map((function(e){return{orgId:t,title:e.title,primary:e.isPrimaryStream,audioUrl:e.href,uid:e.guid,type:S.STREAM,subtype:S.STREAM_STATION}}));return(0,s.default)(r,(function(e){return e.primary?0:1}))}function h(e){if(!e)return null;var t=[c.default.getUrlParameter("utm_source"),c.default.getUrlParameter("utm_campaign")].join("-").replace(/^-/g,"").replace(/-$/g,""),n=e;return[{key:"utm_source",value:"npr.org"},{key:"utm_medium",value:"referral"},{key:"utm_content",value:t}].map((function(e){e.value&&(n=c.default.addUrlParameter(n,e.key,e.value))})),n}function I(e){var t=(0,l.default)(e,"status");return t&&"10"===t}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"tier1"===n?e.id!=t&&!I(e):e.id!=t&&!0===e.usesInheritance}function P(e,t){var n=(0,l.default)(e.attributes,"network.tier1");return n?function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];D(t,n,r)&&o.push(parseInt(t.id,10));var i="tier1"===r?"tier2":"tier2"===r?"tier3":null;if(i){var s=(0,l.default)(t,i);if(s){var d=(0,a.default)((0,u.default)(s,(function(t){return e(t,n,i)})),!0);return o.concat(d)}}return o}(n,t,"tier1"):[]}function N(e){var t=parseInt(e.attributes.orgId,10),n=(0,l.default)(e.links,"donation"),r=n?(0,i.default)(n,(function(e){return"4"===e.typeId})):null,a=r?r.href:null,u=(0,i.default)(e.links.brand,(function(e){return"homepage"===e.rel})),d=u?u.href:null,p=(0,i.default)(e.links.brand,(function(e){return"small-logo"===e.rel})),E=(0,i.default)(e.links.brand,(function(e){return"logo"===e.rel})),_=E?E.href:"",g=p?p.href:"",m=parseInt(e.attributes.network.inheritingFrom,10),y=e.attributes.streamsV2?function(e,t){var n=e.attributes.streamsV2.map((function(e){return{orgId:t,title:e.title,uid:e.guid,primary:e.primary,audioUrl:(n=e.urls,r=n.filter((function(e){return parseInt(e.typeId,10)===S.TYPE_MP3&&e.href&&e.guid})),r.length?r[0].href:""),type:S.STREAM,subtype:S.STREAM_STATION};var n,r})),r=(0,o.default)(n,(function(e){return!!c.default.isHttps(e.audioUrl)||(f.default.warning("Rejecting insecure station stream",e.audioUrl),!1)}));return(0,s.default)(r,(function(e){return e.primary?0:1}))}(e,t):A(e,t);return{id:t,name:e.attributes.brand.name,logoUrl:_,smallLogoUrl:g,orgUrl:h(d),donateUrl:h(a),callLetters:e.attributes.brand.call,band:e.attributes.brand.band,frequency:e.attributes.brand.frequency,marketCity:e.attributes.brand.marketCity,parentOrgId:m,marketState:e.attributes.brand.marketState,tagline:e.attributes.brand.tagline,streams:y,otherStationsInNetwork:P(e,t),lastUpdated:(new Date).toISOString(),nprOne:e.attributes.eligibility.nprOne,localizationEligibility:e.attributes.eligibility.localization}}function b(e){var t={};return t.stationData=e.items.map((function(e){return N(e)})),t.locationData=e.attributes,t}function R(e){var t="/proxy/stationfinder/v3/stations/"+e;return(0,d.default)(1e4,t).then((function(e){return e.json()})).then((function(e){if("object"===(void 0===e?"undefined":r(e)))return e;throw new Error("Invalid "+e)}))}function L(e){var t="";return t=e&&0!==e.length?"/proxy/stationfinder/v3/stations?q="+e:"/proxy/stationfinder/v3/stations",(0,d.default)(1e4,t).then((function(e){return e.json()}))}var M=function(){return parseInt(c.default.getUrlParameter("streamStationId"),10)},C=function(){return c.default.getUrlParameter("station")};t.default={getProgramScheduleHTML:function(e,t){var n=p.LEGACY_WEB_HOST+"/proxy/stations/"+e+"/programs/"+t+"/schedule";return(0,d.default)(1e4,n).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("invalid program data."))}))},getStreams:A,makeTrackableUrl:h,mapStationData:N,getStationDataByOrgId:R,getNonLocalStationData:function(e){return R(e).then((function(e){return Promise.resolve(N(e))})).catch((function(e){return Promise.reject(e)}))},getLocalStationData:function(){var e=m,t={lat:c.default.getUrlParameter("lat"),lon:c.default.getUrlParameter("lon")},n=t.lat,r=t.lon;return n&&r&&(e=m+"?lat="+n+"&lon="+r),(0,d.default)(1e4,e).then((function(e){return e.json()})).then((function(e){return Promise.resolve(b(e))})).catch((function(e){return Promise.reject(e)}))},getStationSearchResultsData:L,getStationSearchResults:function(e){return L(e).then((function(e){return 0===e.items.length?[]:Promise.resolve(e.items.map(N))}))},getForcedLocalizationStationId:function(){var e=M(),t=C();return e&&e!==E.NPR?R(e).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):t?R(t).then((function(){return O(t)})).catch((function(e){return Promise.reject(e)})):Promise.reject()},getStreamStationId:M,getStreamStationCall:C,getCallFrequencyBand:function(e){return(((0,l.default)(e,"callLetters")||"")+" "+((0,l.default)(e,"frequency")||"")+" "+((0,l.default)(e,"band")||"")).replace(/ +/," ").trim()},isOtherStationInThisNetwork:function(e,t){return((0,l.default)(e,"otherStationsInNetwork")||[]).some((function(e){return e===t}))},stationProxyTimeout:1e4,getHPLocalStoriesForStation:function(e){var t=y+"?orgId="+e+"&storyCount=4";return(0,d.default)(15e3,t).then((function(e){return e.json()}))},getStation:v,mapStationDataList:b,getMusicHomepageStreams:function(){return(0,d.default)(2e4,T).then((function(e){return e.json()}))}}},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE_NEWS="HOME_PAGE_NEWS",t.HOME_PAGE_MUSIC="HOME_PAGE_MUSIC",t.UNKNOWN="UNKNOWN",t.PODCAST="PODCAST"},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAudioUrlToPlay=u,t.getMetadataWithDerivedProps=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=d(e,t,n),i=s(e),u=c(e,n,r),l=f(e,n,r),S=p(e,n,r),_=E(e);return Object.assign({},e,{title:_,isAudioReady:i,isPlaylistAudio:!!e.audioUrl&&(0,o.isPlaylistUrl)(e.audioUrl),isCurrentAudio:a,isQueued:u,isUserQueued:l,isContinuousQueued:S,isLoading:a&&t.isLoading,isPlaying:a&&t.isPlaying,isAudioPlaying:t.isAudioPlaying})},t.getNewMetadataOfType=function(e,t){return{uid:e,type:t}},t.getMetadataTypeForUid=function(e,t){return(0,a.default)(e,t+".type")||""},t.getMetadataSubtypeForUid=function(e,t){return(0,a.default)(e,t+".subtype")||""};var r=i(n(93)),a=i(n(7)),o=n(168);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.audioUrl)return(0,o.isPlaylistUrl)(e.audioUrl)?e.contentUrl:e.audioUrl}function s(e){return void 0!==u(e)}function l(e,t){return t.isPlayingSponsorship&&t.preemptedUid===e.uid}function d(e,t,n){return e.uid===t.currentUid||l(e,n)}function c(e,t,n){return!l(e,t)&&(!!n&&((0,r.default)(n.userQueue,e.uid)||(0,r.default)(n.continuousQueue,e.uid)))}function f(e,t,n){return!l(e,t)&&(!!n&&(0,r.default)(n.userQueue,e.uid))}function p(e,t,n){return!l(e,t)&&(!!n&&(0,r.default)(n.continuousQueue,e.uid))}function E(e){return e.song&&e.song===e.title?e.artist+', "'+e.song+'"':e.title}},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStickyBarPlusInfo=t.getStickybarUsePageNewsletter=t.getStickybarMaxSees=t.getStickybarGenericInfo=t.getStickybarNewsletterInfo=t.getStickybarDonationInfo=t.getStickybarEmbeddedDonationInfo=t.isOnStickybarPage=t.isWithinAnyStickybarPeriod=t.STICKY_DONATION=t.STICKY_EMBEDDED_DONATION=void 0;var r,a=n(7),o=(r=a)&&r.__esModule?r:{default:r},i=n(36),u=n(21),s=n(104);var l={"Spiking Stories":{startDate:new Date("13 Oct 2020 05:00:00 UTC").toISOString(),endDate:new Date("1 Jan 9999 05:00:00 UTC").toISOString(),aggLandingPages:[],hasPrimaryTopic:[],isAssignedToAggregation:[],isSpikingStory:!0,newsletterInfo:"STICKYBAR_USE_PAGE_NEWSLETTER"},"Music 3/17/2021":{startDate:new Date("17 Mar 2021 05:00:00 UTC").toISOString(),endDate:new Date("22 Mar 2021 05:00:00 UTC").toISOString(),aggLandingPages:["Music","Tiny Desk"],hasPrimaryTopic:[],isAssignedToAggregation:["1039"],newsletterInfo:{newsletterId:"music",title:"NPR Music",marketingHeader:"Sign Up For The NPR Music Newsletter",frequency:"every week",shortDescription:"Listen to new music, watch the latest Tiny Desk concerts and more, sent weekly.",stickyDescription:"Sign up for the NPR Music newsletter to watch the latest Tiny Desk concerts and discover new music.",contentImage:"https://media.npr.org/assets/img/2018/12/13/newsletter_music_custom-fc5edfc120d5987f4fc516715d57414dbf1116e8-s1600-c85.png",staticMarkupDir:"",brandingDir:"/branding/music",brandingLink:"https://www.npr.org/music",organizationId:1,recaptchaSiteKey:"6LfD6CYUAAAAAIBeUekwZ9KCjF4UyLFtu7NWNaEK"}}},d=t.STICKY_EMBEDDED_DONATION=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.DONATION_EMBED+" 11/30/2020",{startDate:new Date("30 Nov 2020 16:00:00 UTC").toISOString(),endDate:new Date("8 Dec 2020 05:00:00 UTC").toISOString(),displayEverywhere:!0}),c=t.STICKY_DONATION={"Donation 11/30/2020":{startDate:new Date("30 Nov 2020 16:00:00 UTC").toISOString(),endDate:new Date("8 Dec 2020 05:00:00 UTC").toISOString(),donationInfo:{title:"Fund reporting that matters.",description:"Donate to your local NPR station to make the critical journalism on which you, and so many others rely, possible."},displayEverywhere:!0}},f={"HIBT Summit 03/30/2021":{startDate:new Date("30 Mar 2021 05:00:00 UTC").toISOString(),endDate:new Date("13 Apr 2021 21:00:00 UTC").toISOString(),aggLandingPages:["Business","How I Built This with Guy Raz","Life Kit"],isAssignedToAggregation:["1006","510313","676529561","510338"],genericInfo:{headerText:"Attend the How I Built This Summit (at home) with Guy Raz.",subText:"Join four days of exclusive interviews with iconic entrepreneurs and business leaders.",buttonText:"GET TICKETS NOW",buttonUrl:"https://hibtsummit21.nprpresents.org/"}},"GS Survey 03/11/2021":{startDate:new Date("11 Mar 2021 05:00:00 UTC").toISOString(),endDate:new Date("19 Mar 2021 05:00:00 UTC").toISOString(),aggLandingPages:["World","Health","Goats and Soda"],isAssignedToAggregation:["1004","1128","327351768"],genericInfo:{headerText:"Can you tell NPR what you think about some global news issues?",subText:"Help NPR research by completing a brief survey.",buttonText:"START THE SURVEY",buttonUrl:"https://survey.alchemer.com/s3/6224141/npr-banner"}}},p={"Short Wave Plus 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["Short Wave"],isAssignedToAggregation:["510351"],genericInfo:{headerText:"Introducing Short Wave+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of Short Wave+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/shortwave",eventLabel:"Short Wave"}},"Code Switch Plus 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["Code Switch"],isAssignedToAggregation:["510312"],genericInfo:{headerText:"Introducing Code Switch+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of Code Switch+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/codeswitch",eventLabel:"Code Switch"}},"Fresh Air Plus 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["Fresh Air"],isAssignedToAggregation:["381444908"],programId:["Fresh Air"],genericInfo:{headerText:"Introducing Fresh Air+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of Fresh Air+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/freshair",eventLabel:"Fresh Air"}},"HIBT Plus 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["How I Built This with Guy Raz"],isAssignedToAggregation:["510313"],genericInfo:{headerText:"Introducing How I Built This+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of How I Built This+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/howibuiltthis",eventLabel:"How I Built This"}},"IBAM 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["It's Been a Minute with Sam Sanders"],isAssignedToAggregation:["510317"],genericInfo:{headerText:"Introducing It's Been a Minute+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of It's Been a Minute+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/itsbeenaminute",eventLabel:"It's Been a Minute"}},"Planet Money Plus 08/23/2021":{startDate:new Date("23 Aug 2021 00:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 21:00:00 UTC").toISOString(),aggLandingPages:["Planet Money"],isAssignedToAggregation:["510289"],genericInfo:{headerText:"Introducing Planet Money+",subText:"Support the podcast you love. Listen sponsor-free. It’s a win-win in the world of Planet Money+. Sign up today for just $2.99 per month.",buttonText:"Subscribe",buttonUrl:"https://plus.npr.org/planetmoney",eventLabel:"Planet Money"}}};t.isWithinAnyStickybarPeriod=function(){for(var e in l)if((0,s.isWithinThisGlobalAlertPeriod)(l[e]))return!0;for(var t in d)if((0,s.isWithinThisGlobalAlertPeriod)(d[t]))return!0;for(var n in c)if((0,s.isWithinThisGlobalAlertPeriod)(c[n]))return!0;for(var r in f)if((0,s.isWithinThisGlobalAlertPeriod)(f[r]))return!0;for(var a in p)if((0,s.isWithinThisGlobalAlertPeriod)(p[a]))return!0;return!1},t.isOnStickybarPage=function(e,t){var n=!1;for(var r in t.aggLandingPages&&t.aggLandingPages.indexOf(NPR.serverVars.title)>-1&&(n=!0),t.programId&&t.programId.indexOf(NPR.serverVars.programId)>-1&&(n=!0),t.hasPrimaryTopic&&t.hasPrimaryTopic.indexOf(NPR.serverVars.primaryTopic)>-1&&(n=!0),NPR.serverVars.aggIds)t.isAssignedToAggregation&&t.isAssignedToAggregation.indexOf(NPR.serverVars.aggIds[r])>-1&&(n=!0);if(t.isLocalStory&&t.isLocalStory.length>0&&"true"===NPR.serverVars.isLocalStationStory&&t.isLocalStory.indexOf(NPR.serverVars.publisherOrgId)>-1&&(n=!0),t.displayEverywhere&&!0===t.displayEverywhere)return!0;if(t.isSpikingStory){if(!(0,u.getIsCurrentPageSpiking)(e))return!1;n=!0}if(n&&t.isLocalizedToStation&&t.isLocalizedToStation.length>0){var a=!1,i=(0,o.default)(e,"user.org.id"),s=(0,o.default)(e,"localStations.stations"),l=[];if(i&&0!=i?l.push(i):s&&s.length>0&&(l=s),l.length>0)for(var d in l)t.isLocalizedToStation.indexOf(l[d])>-1&&(a=!0);if(!a)return!1}return n},t.getStickybarEmbeddedDonationInfo=function(){return d},t.getStickybarDonationInfo=function(){return c},t.getStickybarNewsletterInfo=function(){return l},t.getStickybarGenericInfo=function(){return f},t.getStickybarMaxSees=function(){return 3},t.getStickybarUsePageNewsletter=function(){return"STICKYBAR_USE_PAGE_NEWSLETTER"},t.getStickyBarPlusInfo=function(){return p}},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMO_ONLY_AUDIO_LIST=t.INTRO_AUDIO_UID=t.STREAM_24_HOUR_PROGRAM_METADATA=t.STREAM_24_HOUR_PROGRAM_UID=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16));var a=t.STREAM_24_HOUR_PROGRAM_UID="339db355f53d44638514fd6903bebaef",o=(t.STREAM_24_HOUR_PROGRAM_METADATA={orgId:1,title:"NPR 24 Hour Program Stream",primary:!1,audioUrl:"https://npr-ice.streamguys1.com/live.mp3",uid:a,type:r.STREAM,subtype:r.STREAM_STATION},t.INTRO_AUDIO_UID="721118801:721123415");t.PROMO_ONLY_AUDIO_LIST=[o]},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWithinContinuityPeriod=function(e,t){return e>t-r},t.isWithinLimitedContinuityPeriod=function(e,t){return e>t-a};var r=t.CONTINUITY_PERIOD_IN_MS=1296e5,a=t.LIMITED_CONTINUITY_PERIOD_IN_MS=3e5},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneChangeRequested=function(e){return{type:r.PANE_CHANGE_REQUESTED,payload:e}},t.paneChangeWithExpand=function(e){return{type:r.PANE_CHANGE_WITH_EXPAND,payload:e}},t.paneChangeDirect=function(e){return{type:r.PANE_CHANGE_DIRECT,payload:e}},t.streamingPaneSelectedWithPlay=function(){return{type:r.STREAMING_PANE_SELECTED_WITH_PLAY}},t.onDemandPaneSelectedWithPlay=function(){return{type:r.ON_DEMAND_PANE_SELECTED_WITH_PLAY}},t.newscastPaneSelectedWithPlay=function(){return{type:r.NEWSCAST_PANE_SELECTED_WITH_PLAY}},t.newscastPaneSelectedWithPlaySmallBp=function(e){return{type:r.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP,payload:e}},t.collapsePane=function(){return{type:r.COLLAPSE_PANE}},t.linkClicked=function(e){return{type:r.LINK_CLICKED,meta:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sponsorshipStarted=function(e,t,n){return{type:r.SPONSORSHIP_STARTED,payload:{metadata:e,uid:t,breakpoint:n}}},t.sponsorshipLoaded=function(e){return{type:r.SPONSORSHIP_LOADED,payload:e}},t.sponsorshipSlotAvailable=function(){return{type:r.SPONSORSHIP_SLOT_AVAILABLE}},t.setMobileSponsorshipSlotAvailable=function(){return{type:r.MOBILE_SPONSORSHIP_SLOT_AVAILABLE}},t.sponsoredChannelSet=function(e){return{type:r.SPONSORED_CHANNEL_SET,payload:e}},t.postrollSponsorshipStarted=function(e,t){return{type:r.POSTROLL_SPONSORSHIP_STARTED,payload:{metadata:e,uid:t}}},t.playPostrollBeforeUidSet=function(e){return{type:r.PLAY_POSTROLL_BEFORE_UID_SET,payload:{uid:e}}},t.sponsorshipDivsReset=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:r.SPONSORSHIP_DIVS_RESET,payload:{resetSponsorshipDiv:e,resetLeaveBehindDiv:t}}},t.sponsorshipInterrupted=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:r.SPONSORSHIP_INTERRUPTED,payload:{retainLeaveBehind:e}}},t.sponsorshipRequested=function(e){return{type:r.SPONSORSHIP_REQUESTED,payload:e}},t.prerollEnded=function(e){return{type:r.PREROLL_ENDED,payload:e}},t.postrollEnded=function(e){return{type:r.POSTROLL_ENDED,payload:e}},t.preemptedUidReplaced=function(e,t){return{type:r.PREEMPTED_UID_REPLACED,payload:{metadata:e,preemptedSegmentResumePosition:t}}},t.soundscapesLoadedOwnAction=i,t.soundscapesLoaded=function(e){return function(t,n){t(i(e,n().player.env.breakpoint)),t(a.audioRequested(e,{}))}},t.leaveBehindInitialized=function(e){return{type:r.LEAVE_BEHIND_INITIALIZED,payload:{uid:e}}},t.soundscapesBannerClicked=function(e){return{type:r.SOUNDSCAPES_BANNER_CLICKED,payload:{uid:e}}},t.resetLastPlayedTimestamp=function(){return{type:r.RESET_LAST_PLAYED_TIMESTAMP}};var r=o(n(1)),a=o(n(24));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){return{type:r.SOUNDSCAPES_LOADED,payload:{metadata:e,breakpoint:t}}}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructAdSlotName=l,t.getUidFromAdSlotName=function(e,t){return t.replace("ad-"+e+"-","")},t.getLocationFromAdSlotName=function(e){return/^ad-([a-zA-Z]+)-?/g.exec(e)[1]};var r,a=n(10),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(98));var u=void 0;u=n(124).default;var s=function(e){this.location=e.location,this.network=e.network,this.site=e.site.default,this.sponsorContentSite=e.site.sponsor_content,this.mobileSite=e.site.mobile,this.mobileSecondarySite=e.site.mobile_secondary,this.zone=e.zone,this.targets=e.targets,this.deferred=e.deferred,this.slot=null};function l(e,t){return e?"ad-"+e+"-"+(t||""):""}s.prototype.createAdSlot=function(){var e=this.getAdSlotName();(function(e){return e===i.BACKSTAGE||e===i.CENTERSTAGE||e===i.SECONDARY||e===i.MAINSTAGE})(this.location)&&u.isScreenSmallerOrEqual(u.BREAKPOINT.MEDIUM)&&(this.site=this.mobileSite,this.location===i.SECONDARY&&(this.site=this.mobileSecondarySite)),this.location===i.SPICE_RACK&&(this.site=this.sponsorContentSite);var t=this.zone?"/"+this.zone:"",n=""+this.network+this.site+t;this.slot=googletag.defineSlot(n,this.getSizes(),e).addService(googletag.pubads()),o.default.info("DFP: created ad slot:",e)},s.prototype.getAdSlotName=function(){return l(this.location,this.zone)},s.prototype.getSizesForMobile=function(e){return u.isScreenSmallerOrEqual(u.BREAKPOINT.MEDIUM)||$("body").hasClass("story-layout")&&!$("body").hasClass("multimedia")?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[[300,250]]):e},s.prototype.getSizesForAdx=function(e){if(!(NPR.serverVars.topics||[]).includes("Music")&&this.location!==i.SECONDARY){var t=$($("#ad-"+this.location+"-wrap").get(0));t.innerWidth()>=728&&e.push([728,90]),t.innerWidth()>=970&&e.push([970,250])}return o.default.info("DFP: Ad sizes for "+this.location+" location: "+e.map((function(e){return e[0]+(e[1]?"x"+e[1]:"")}))),e},s.prototype.getSizes=function(){switch(this.location){case i.STANDARD:return[[300,250],[300,600]];case i.CENTERSTAGE:var e=this.getSizesForMobile([[1300,250]]);return this.getSizesForAdx(e);case i.MAINSTAGE:return this.getSizesForMobile([[1300,250]]);case i.BACKSTAGE:var t=this.getSizesForMobile([[1300,250],["fluid"]]);return this.getSizesForAdx(t);case i.SPICE_RACK:return["fluid"];case i.SECONDARY:return this.getSizesForAdx(this.getSizesForMobile([]));case i.MLE_BANNER:return[175,40];case i.PLAYER_PRIMARY:return[[300,250],[300,600]];case i.PLAYER_POSTROLL:return[300,600];case i.PLAYER_LEAVEBEHIND:return[300,100];case i.PLAYER_MOBILE_PRIMARY:return[640,100];default:return[300,250]}},s.prototype.getAdSelector=function(){return".ad-"+this.location},t.default=s},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEGMENT="segment",t.STREAM="stream",t.SPONSORSHIP="sponsorship",t.SEGMENT_PROGRAM="program",t.SEGMENT_MUSIC_BUTTON="musicbutton",t.SEGMENT_NEWSCAST="newscast",t.SEGMENT_OTHER="other",t.STREAM_STATION="station",t.STREAM_OTHER="other",t.STANDARD="standard",t.SOUNDSCAPES="soundscapes",t.CLICK_TO_PLAY_SOUNDSCAPES="click-to-play soundscapes",t.PLAYER_PODCAST="player podcast",t.CUSTOM_CHANNEL="player custom channel",t.CTP_CUSTOM_CHANNEL_OR_PODCAST="click-to-play custom channel or podcast",t.TYPE_MP3=10},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(328),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=i.default.getAuthCookieData();this.isLoggedIn=!!t,this.userId=t?t.u:null,this.userName=t?t.a:null,this.emailAddrsss=t?t.e:null}return a(e,[{key:"getUserId",value:function(){return this.userId}},{key:"getIsLoggedIn",value:function(){return this.isLoggedIn}},{key:"getUserName",value:function(){return this.userName}},{key:"getEmailAddress",value:function(){return this.emailAddrsss}}]),e}();t.default=u},167:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlertVariationDetermined=t.hideGlobalAlerts=t.checkGlobalAlerts=t.showGlobalModal=t.showGlobalStickybar=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.showGlobalStickybar=function(){return{type:r.SHOW_GLOBAL_STICKYBAR}},t.showGlobalModal=function(){return{type:r.SHOW_GLOBAL_MODAL}},t.checkGlobalAlerts=function(e){return{type:r.CHECK_GLOBAL_ALERTS,payload:e}},t.hideGlobalAlerts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:r.HIDE_GLOBAL_ALERTS,payload:e}},t.globalAlertVariationDetermined=function(e,t){return{type:r.GLOBAL_ALERT_VARIATION_DETERMINED,payload:{globalAlertType:e,globalAlertId:t}}}},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPlaylistUrl=function(e){var t=e.indexOf("?"),n=void 0;if(-1!==t){n=e.slice(0,t);var a=e.slice(t+1).toLowerCase();if(r.some((function(e){return-1!==a.indexOf(e)})))return!0}else n=e;return-1!==r.indexOf(n.substr(-3).toLowerCase())},t.deObfuscateUrl=function(e){return"http"!==e.substring(0,4)?window.atob(e):e};var r=["m3u","pls"]},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CENTER_STAGE="centerstage",t.NONE=0,t.INELIGIBLE=1,t.AD=2,t.NEWSLETTER=3,t.PODCAST=4,t.STATION=5,t.DONATION=6},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableContinuousListening=function(){return{type:r.ENABLE_CONTINUOUS_LISTENING}},t.disableContinuousListening=function(){return{type:r.DISABLE_CONTINUOUS_LISTENING}},t.addRecommendedAudioToContinuousQueue=function(e,t){return{type:r.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE,payload:e,meta:t}},t.listeningServiceAudioRecommendationsRequested=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:r.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED,payload:{shouldPlayIntroAudio:e}}},t.listeningServiceAudioRecommendationsSucceeded=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:r.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED,payload:{audioMetadataList:e,shouldPlayIntroAudio:t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModalEmbedInfo=t.getModalInfo=t.getModalMaxSees=t.isWithinAnyModalPeriod=void 0;var r=n(104),a=n(36);n(938);var o,i,u,s={"Donation 9/20/2021":{startDate:new Date("20 Sept 2021 04:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 07:00:00 UTC").toISOString(),donationInfo:{title:"Fund public radio's future",description:"We're celebrating fifty years of public radio. Support the next fifty years by donating to your local NPR station today!"}}},l=(o={},i=a.DONATION_EMBED+" 9/20/2021",u={startDate:new Date("20 Sept 2021 04:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 07:00:00 UTC").toISOString()},i in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o);t.isWithinAnyModalPeriod=function(){for(var e in l)if((0,r.isWithinThisGlobalAlertPeriod)(l[e]))return!0;for(var t in s)if((0,r.isWithinThisGlobalAlertPeriod)(s[t]))return!0;return!1},t.getModalMaxSees=function(){return 3},t.getModalInfo=function(){return s},t.getModalEmbedInfo=function(){return l}},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NEWS="NEWS",t.MUSIC="MUSIC"},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPageView=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=d(n(23)),o=d(n(10)),i=d(n(947)),u=d(n(43)),s=d(n(948)),l=d(n(949));function d(e){return e&&e.__esModule?e:{default:e}}var c=a.default.create();c.name="googletag";var f=!1;function p(e,t){t.event=e,dataLayer.push(t)}function E(e,t){return{sections:(a="/"!==window.location.pathname?i.default.getSections():null,a||""),authors:(r="/"!==window.location.pathname?i.default.getAuthors():null,r||""),domain:NPR&&NPR.ServerConstants&&NPR.ServerConstants.cbHost?NPR.ServerConstants.cbHost:"",mobileApp:(n=u.default.getSessionInfo(),u.default.isMobileNativeApp(n.renderPlatform)),parents:e.dimension1,dacs_story:e.dimension2,page_type:e.dimension3,localized_station:e.dimension4,topics:e.dimension5,story_id:e.dimension6,byline:e.dimension7,publish_date:e.dimension8,title:e.dimension9,content_partner_organization:e.dimension10,program:e.dimension11,logged_in_session:e.dimension12,player_state:e.dimension16,screen_type:e.dimension17,screen_orientation:e.dimension18,homepage_card_design:e.dimension20,category:e.dimension21,registration_user:t.dimension1,registration_date:t.dimension2,user_timezone:t.dimension3,user_id:t.dimension4};var n,r,a}c.init=function(){var e=NPR.ServerConstants.gtmKey,t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.text="(function() {            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);            })(window,document,'script', 'dataLayer', '"+e+"');        })();",t.parentNode.insertBefore(n,t)},c.register(),t.sendPageView=function(){try{(new s.default).loadPageviewData().then((function(e){var t=l.default.buildPageviewCustomDimensions(e),n=r(t,2),a=n[0],o=n[1];f?p("gtmLaterView",E(a,o)):(f=!0,p("gtmFirstView",E(a,o)))})).catch((function(e){o.default.error("Error loading page view data: "+e)}))}catch(e){o.default.error(e)}}},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoryIdFromUid=function(e){if(/newscast/.test(e))return e;var t=e.split(":");if(2!==t.length)return"";return t[0]},t.getMediaIdFromUid=function(e){var t=e.split(":");if(2!==t.length)return"";return t[1]};var r,a=n(131),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){return e.href.length>t.href.length?e:t}t.default={getOrganizationName:function(e){var t=e.attributes.organization;return t&&"NPR"!==t.name?t.name:""},getAudioUrl:function(e){var t=(0,o.default)(e.links.audio,{"content-type":"audio/mp3"});return t?t.href:""},getStoryUrl:function(e){return e.links&&e.links.web?e.links.web.filter((function(e){return"text/html"===e["content-type"]&&!e.rel})).reduce(i,{href:""}).href:""},getSlug:function(e){return e.attributes.slug||""},getProgram:function(e){return e.attributes.program||""},getDate:function(e){return e.attributes.date||""},getExpires:function(e){var t=e.attributes.expires;return t?{expires:Date.parse(t)}:{}},getAvailability:function(e,t){var n={available:!!e};return t.attributes.unavailableText&&(n.unavailableText=t.attributes.unavailableText),n}}},197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={getTimestamp:function(){return(new Date).getTime()}}},198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSponsorshipRecommendationsUrl=function(e){if(e.match(/^[0-9]+:[0-9]+$/))return d(e);return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations?channel="+e},t.getChannelRecommendationsUrl=function(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/recommendations?channel="+e},t.mapItemToMetadata=c,t.parseMetadata=f,t.getMetadataFromRemote=p,t.getMetadata=function(e){return new Promise((function(t,n){p(d(e)).then((function(r){(function(e,t){return(0,a.default)(e,"items[0].attributes.uid")===t})(r,e)?t(f(r)):n("UID "+e+" not found in Listening Service response")})).catch((function(e){return n(e)}))}))},t.getMetadataForAgg=function(e){return new Promise((function(t,n){var r=(0,o.bindParams)(NPR.ServerConstants.webHost+"/proxy/listening/v2/aggregation/{id}/recommendations?channel=npr",(new Map).set("id",e));(0,s.default)(2e4,r).then((function(e){return e.json()})).then((function(e){e&&e.items?t(e.items.map(c)):n("Aggregation metadata call returned empty")})).catch((function(e){return n(e)}))}))};var r=l(n(211)),a=l(n(7)),o=n(412),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),u=l(n(196)),s=l(n(64));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return NPR.ServerConstants.webHost+"/proxy/listening/v2/media/recommendations/?id="+e}function c(e){var t=e.attributes,n=t.uid,a=t.title,o=t.duration,s=u.default.getAudioUrl(e),l=u.default.getStoryUrl(e),d=u.default.getOrganizationName(e),c=u.default.getSlug(e),f=u.default.getProgram(e),p=u.default.getDate(e),E=(0,r.default)(e.attributes,["song","artist","album","track"]),S=u.default.getExpires(e),_=u.default.getAvailability(s,e);return Object.assign({},{uid:n,type:i.SEGMENT,title:a,duration:parseInt(o,10),audioUrl:s,slug:c,program:f,date:p,storyUrl:l,affiliation:d},E,S,_)}function f(e){return e&&e.items?c(e.items[0]):null}function p(e){return new Promise((function(t,n){(0,s.default)(2e4,e).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SMALL="SMALL",t.MEDIUM="MEDIUM",t.LARGE="LARGE"},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDENTITY_USERS_PROXY=t.USER_STATION_PROXY=void 0;var r=d(n(51)),a=l(n(64)),o=l(n(7)),i=d(n(35)),u=l(n(380)),s=l(n(783));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=r.IDENTITY_HOST+"/v2/user?context="+r.WEBSITE_CONTEXT,f=r.IDENTITY_HOST+"/v2/stations?context="+r.WEBSITE_CONTEXT,p=r.IDENTITY_HOST+"/v2/subscriptions",E=r.IDENTITY_HOST+"/v2/web/subscriptions",S=t.USER_STATION_PROXY=r.PROXY_API_HOST+"/proxy/identity/v2/users/station",_=t.IDENTITY_USERS_PROXY=r.PROXY_API_HOST+"/proxy/identity/v2/users",g=r.PROXY_API_HOST+"/account/oauth2/revoke",m=r.PROXY_API_HOST+"/account/oauth2/refresh",y=function(e){return function(t,n){return new Promise((function(r,a){setTimeout((function(){t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).then((function(e){return r(e)})).catch((function(e){return a(e)}))}),e)}))}};function T(e){return new RegExp(r.PROXY_API_HOST+"/account/oauth2").test(e)||new RegExp(r.API_HOST+"/authorization/").test(e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t={method:"POST",credentials:"include"};return(0,a.default)(1e4,m,t).then((function(e){return Promise.resolve(e.json())})).catch((function(t){return e>0?y(1e3)(v,[e-1]):Promise.reject(t)}))}function O(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=Object.assign({},o,{headers:Object.assign({},o.headers,{Authorization:"Bearer "+t})});return(0,a.default)(1e4,e,u).then((function(t){return t.ok?Promise.resolve(t.json()):401===t.status&&!T(e)&&i?v().then((function(t){var r=t.access_token;return n&&n(r),u=Object.assign({},u,{headers:Object.assign({},u.headers,{Authorization:"Bearer "+r})}),y(1e3)(O,[e,r,null,null,u,!1])})).catch((function(e){return r&&r(e),Promise.reject(new Error("Response status: "+t.status+" "+t.statusText))})):Promise.reject(new Error("Response status: "+t.status+" "+t.statusText))})).catch((function(e){return Promise.reject(e)}))}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return v().then((function(n){var a=n.access_token;t&&t(a);var o=Object.assign({},r,{headers:Object.assign({},r.headers,{Authorization:"Bearer "+a})});return O(e,a,null,null,o,!1)})).catch((function(e){return n&&n(e),Promise.reject(new Error("Error encountered: "+e))}))}function h(e){return u.default.get(e)}function I(e){u.default.get(e)&&u.default.remove(e,{domain:NPR.ServerConstants.cookieDomain,path:"/"})}function D(){I("npr-session"),I("nprorg-access_token"),I("nprorg-refresh_token")}t.default={dispatchOauthRefreshFailure:function(e){return function(t){return function(){t(e.userLogoutRequested())}}},dispatchOauthRefreshSuccess:function(e){return function(t){return function(n){return function(r){t(e.accessTokenReceived(r,n))}}}},getAccessTokenFromCookieCredentials:function(){var e=h("nprorg-access_token");return e?(I("nprorg-access_token"),e):null},performAdditionalLogoutProcesses:function(){if(h("nprorg-refresh_token")){return(0,a.default)(1e4,g,{method:"POST",credentials:"include"}).then((function(){return D(),Promise.resolve()})).catch((function(e){return D(),Promise.reject(e)}))}return D(),Promise.resolve()},isValidUserStation:function(e){return Boolean(e&&e!==i.NPR)},isUserLoggedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.default)(e,"oauth.token"),n=h("npr-session");return Boolean(t&&n)},setStationsForUser:function(e,t,n,r){var a={method:"PUT",body:JSON.stringify(t)};return O(f,e,n,r,a).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},setSubscriptionForUser:function(e,t,n,r){var a={method:"PATCH",body:JSON.stringify([t])};return O(p,e,n,r,a).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},webSubscribeUser:function(e,t,n,r){var o=new FormData;e&&o.append("email",e),t&&o.append("userId",t),n&&o.append("newsletterId",n),r&&o.append("orgId",r);var i={method:"POST",body:o};return(0,a.default)(1e4,E,i).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject("server error occurred")})).catch((function(e){return Promise.reject(e)}))},getUserFromIdentity:function(e,t,n){return O(c,e,t,n,{method:"GET"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},refreshThenGetUserFromIdentity:function(e,t){return A(c,e,t,{method:"GET"}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},fetchJsonFromCarbonOauth:O,getTokenFromRefreshAndMakeCall:A,refreshExistingAccessToken:v,requestUrlIsAuthorizationCall:T,delay:y,isEmail:function(e){return s.default.isEmail(e)},killNprAuthCookies:D,getCookie:h,clearCookie:I,doesUserHavePreHTTPSLogin:function(){return!!h("nprorg-refresh_token")&&!!h("npr-session")},registerEmailAddressOrUpdateExistingAccount:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e||Promise.reject(new Error("Invalid argument error. Email is required."));var r={method:"POST"},o=encodeURIComponent(e),i="email="+o+"&orgId="+t.id;n&&(i+="&podcastId="+n);var u=_+"?"+i;return(0,a.default)(1e4,u,r).then((function(e){return e.json()})).then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},findUserStationByEmail:function(e){var t="email="+encodeURIComponent(e);return(0,a.default)(1e4,S+"?"+t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return"string"==typeof e?Promise.reject("User not found."):Promise.resolve(e.attributes.orgId)}))}}},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stationDropdownToggled=function(){return{type:r.STATION_DROPDOWN_TOGGLED}},t.closeStationSubnavs=function(){return{type:r.CLOSE_SUBNAVS}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canCollapse=function(e,t){return e!==r.LARGE||!t},t.getCollapsed=function(e,t){return e===r.LARGE&&t};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20))},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserQueue=L,t.getContinuousQueue=M,t.shouldEnableContinuousListening=function(e){return u.default.shouldEnableContinuousListening(e.queue)},t.getContinuousTriggerTimestamp=function(e){return u.default.getContinuousTriggerTimestamp(e.queue)},t.getConstructedQueue=function(e){return L(e).concat(M(e))},t.isAudioRecommendation=function(e,t){return M(e).includes(t)},t.getPlayerHistory=function(e){return E.default.getPlayerHistory(e.history)},t.getCurrentPlayerHistoryHeadPosition=function(e){return E.default.getCurrentPlayerHistoryHeadPosition(e.history)},t.getCurrentPane=function(e){return i.default.getCurrentPane(e.panes)},t.getAlertVariant=function(e){return I.default.getAlertVariant(e)},t.getNumTimesModalTriggered=function(e,t){return I.default.getNumTimesModalTriggered(e)},t.getNumTimesStickybarTriggered=function(e,t){return I.default.getNumTimesStickybarTriggered(e,t)},t.getAlertIsDismissed=function(e){return I.default.getAlertIsDismissed(e)},t.getGlobalAlertAlreadyVisibleThisPage=function(e){return I.default.getGlobalAlertAlreadyVisibleThisPage(e)},t.getGlobalAlertLastDisplayed=function(e){return I.default.getGlobalAlertLastDisplayed(e)},t.getVariantIDToShowOnThisPage=function(e){return I.default.getVariantIDToShowOnThisPage(e)},t.getVariantTypeToShowOnThisPage=function(e){return I.default.getVariantTypeToShowOnThisPage(e)},t.getCenterStageVariant=function(e){return D.default.getCenterStageVariant(e)},t.getEndOfStoryVariant=function(e){return D.default.getEndOfStoryVariant(e)},t.getIsGlobalAlertsComplete=function(e){return D.default.getIsGlobalAlertsComplete(e)},t.getIsDFPComplete=function(e){return D.default.getIsDFPComplete(e)},t.getWasOnPageCalloutDeterminationRequested=function(e){return D.default.getWasOnPageCalloutDeterminationRequested(e)},t.getCardMessageIsHidden=function(e){return P.default.getCardMessageIsHidden(e)},t.getCurrentPage=function(e){return l.default.getCurrentPage(e)},t.getIsCurrentPageSpiking=function(e){return d.default.getIsCurrentPageSpiking(e)},t.getLocalMusicStreams=function(e){return N.default.getLocalMusicStreams(e)},t.getRockMusicStreams=function(e){return N.default.getRockMusicStreams(e)},t.getFolkMusicStreams=function(e){return N.default.getFolkMusicStreams(e)},t.getClassicalMusicStreams=function(e){return N.default.getClassicalMusicStreams(e)},t.getRbMusicStreams=function(e){return N.default.getRbMusicStreams(e)},t.getHiphopMusicStreams=function(e){return N.default.getHiphopMusicStreams(e)},t.getRbHiphopMusicStreams=function(e){return N.default.getRbHiphopMusicStreams(e)},t.getJazzMusicStreams=function(e){return N.default.getJazzMusicStreams(e)},t.getMixedMusicStreams=function(e){return N.default.getMixedMusicStreams(e)},t.getMusicStreamsStatus=function(e){return N.default.getMusicStreamsStatus(e)},t.getLastPaymentDate=function(e){return b.default.getLastPaymentDate(e)};var r=n(177),a=R(n(862)),o=R(n(863)),i=R(n(868)),u=R(n(869)),s=R(n(414)),l=R(n(870)),d=R(n(871)),c=R(n(872)),f=R(n(873)),p=R(n(874)),E=R(n(875)),S=R(n(876)),_=R(n(877)),g=R(n(878)),m=R(n(879)),y=R(n(880)),T=R(n(881)),v=R(n(883)),O=R(n(884)),A=R(n(885)),h=R(n(886)),I=R(n(887)),D=R(n(888)),P=R(n(889)),N=R(n(890)),b=R(n(891));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){return u.default.getUserQueue(e.queue)}function M(e){return u.default.getContinuousQueue(e.queue)}var C=(0,r.combineReducers)({aggs:o.default,donations:b.default.reducer,player:a.default,panes:i.default.reducer,queue:u.default.reducer,org:s.default,user:_.default,site:l.default.reducer,spikingStories:d.default.reducer,metadata:c.default,nowOnStreams:f.default,time:p.default,history:E.default.reducer,sponsorship:S.default,navigation:g.default,stationSearch:m.default,storyRecommendations:y.default,storyHistory:T.default.reducer,session:v.default,network:O.default,localStations:A.default,localStories:h.default,globalAlerts:I.default.reducer,onPageCallouts:D.default.reducer,cardMessage:P.default.reducer,streams:N.default.reducer});t.default=C},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndOfStoryEmbeddedInfo=t.getEndOfStoryCtaInfo=t.isOnEndOfStoryCalloutPage=void 0;var r,a=n(7),o=(r=a)&&r.__esModule?r:{default:r},i=n(104),u=n(266),s=n(130),l=n(36);var d={default:{startDate:new Date("20 Sept 2021 04:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 07:00:00 UTC").toISOString(),aggLandingPages:[],isAssignedToAggregation:[],hasPrimaryTopic:[],dontShow:["1039"],donationInfo:{title:"Power the future of public radio. Donate today!",description:"Celebrate 50 years of NPR by donating to your local station. You'll be funding reliable programming and fact-based reporting from journalists in your community, across the country and around the world."}}},c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},l.DONATION_EMBED,{startDate:new Date("20 Sept 2021 04:00:00 UTC").toISOString(),endDate:new Date("30 Sept 2021 07:00:00 UTC").toISOString(),displayEverywhere:!0,aggLandingPages:[],isAssignedToAggregation:[],hasPrimaryTopic:[],dontShow:["1039"]});t.isOnEndOfStoryCalloutPage=function(e,t,n){if(Object.keys(d).length<1)return!1;var r=!0;(0,u.isNationalStationStory)()&&(r=!1),document.body.classList.contains("multimedia")&&(r=!1),(0,i.isBlockListed)(window.location.href)&&(r=!1),t.aggLandingPages.length&&!(0,s.isOnStickybarPage)(e,t)&&(r=!1);var a=(0,o.default)(NPR,"serverVars.aggIds",[]);return t.dontShow.some((function(e){return a.includes(e)}))&&!n&&(r=!1),r},t.getEndOfStoryCtaInfo=function(){return d},t.getEndOfStoryEmbeddedInfo=function(){return c}},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sponsorship=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.loadCustomChannel=N,t.loadPodcast=b,t.loadSoundscapes=R,t.handleMessageForListen=L,t.handleMessageForQueue=M,t.handleMessageForLeaveBehindListen=C,t.handleMessageForLeaveBehindQueue=U,t.playerMessageEventCallback=function(e){if(!(0,T.isValidPlayerMessageEvent)(e))return;var t=e.data,n=e.source.frameElement.parentElement.parentElement.id,r=(0,m.getLocationFromAdSlotName)(n),a=e.source.document.getElementById("sponsorship-data");t===f.LISTEN?L(a,r):t===f.QUEUE?M(a):t===f.LEAVE_BEHIND_LISTEN?C(a):t===f.LEAVE_BEHIND_QUEUE&&U(a)};var a=O(n(6)),o=O(n(86)),i=O(n(7)),u=O(n(10)),s=v(n(1)),l=v(n(16)),d=v(n(98)),c=v(n(99)),f=v(n(408)),p=v(n(32)),E=v(n(147)),S=v(n(24)),_=v(n(97)),g=n(196),m=n(148),y=n(198),T=n(100);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}var A=void 0,h=void 0,I=void 0,D=t.sponsorship=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){A=t;var c=n();if(h=c,I=c.metadata,(0,T.shouldReplacePreemptedUid)(a.type,c,I)){var f=I[c.player.currentUid];t(E.preemptedUidReplaced(f,c.player.position))}(0,T.shouldUnloadSponsorshipMetadata)(a)&&t(p.metadataUnloaded(a.payload.uid));var _=e(a),m=n();if((0,T.shouldRevertInitialState)(a,c)&&t(S.initialStateReverted()),(0,T.shouldSendMessageToCreative)(c,a.type)&&(0,T.sendMessageToCreative)(m,c,a),!c.sponsorship.isFetchingSponsorship&&m.sponsorship.isFetchingSponsorship&&function(e){var t=e.sponsorship.preemptedUid,n=(0,g.getStoryIdFromUid)(t);if((0,o.default)(n))A(E.sponsorshipInterrupted()),u.default.warning('Expected sponsorship audioUid to be set, got "'+t+'"');else{var r=e.metadata[t],a=(0,o.default)(r.sponsorshipSiteOverride)?"":r.sponsorshipSiteOverride;(0,T.getDfpZone)(n,a).then((function(n){A(E.sponsorshipDivsReset());var a=void 0;a=t===e.sponsorship.playPostrollBeforeUid?E.postrollSponsorshipStarted:E.sponsorshipStarted,A(a(r,n,e.player.env.breakpoint))})).catch((function(e){A(E.sponsorshipInterrupted()),u.default.info(e,{storyId:n})}))}}(m),a.type===s.AUDIO_PLAYED&&a.payload.fetchLeaveBehindOnly){var y=(0,g.getStoryIdFromUid)(a.payload.uid);(0,T.getDfpZone)(y,a.payload.sponsorshipSiteOverride).then((function(e){t(E.leaveBehindInitialized(e))})).catch((function(e){u.default.info(e,{storyId:y})}))}if((0,T.shouldFetchLeaveBehindOnly)(m,a)){var v=m.metadata[m.player.currentUid];(0,T.fetchLeaveBehind)(v)}if((0,T.shouldFetchSponsorship)(c,m,a)){var O=m.sponsorship.preemptedUid,D=(0,g.getStoryIdFromUid)(O);(0,o.default)(D)?(u.default.warning("Unexpected story ID for sponsorship targeting",{storyId:D}),t(E.sponsorshipInterrupted())):(0,T.getTargetingForStory)(D).then((function(e){var n=parseInt((0,i.default)(e,"targets.orgId"),10);if("false"!==(0,i.default)(e,"targets.isPodcastEpisode")&&1!==n&&n)t(E.sponsorshipInterrupted()),u.default.info("Skipping sponsorship for orgId: "+n);else{m.sponsorship.isPostrollSponsorship&&(e.targets.channel=c.sponsorship.channel||"");var o=(0,T.getAdLocationsForAction)(a.type,m.sponsorship.isPostrollSponsorship);(0,T.fetchSponsorshipFromDfp)(e,o).then((function(n){var a=(0,T.isSoundscapes)(n.subtype)?l.STANDARD:n.subtype,o={uid:e.zone,type:l.SPONSORSHIP,audioUrl:n.audioUrl,subtype:a};t(E.sponsorshipLoaded(o)),t(S.audioRequested(o,{})),n.subtype===l.CUSTOM_CHANNEL?N(n,d.PLAYER_PRIMARY):n.subtype===l.PLAYER_PODCAST?b(n):n.subtype===l.SOUNDSCAPES&&R(r({},n,{audioUrl:n.supportedCustomAudioFileUrl}))})).catch((function(e){u.default.info(e,{storyId:D}),t(E.sponsorshipInterrupted())}))}})).catch((function(e){u.default.info(e,{storyId:D}),t(E.sponsorshipInterrupted())}))}return _}}};function P(e,t){var n={origin:c.SPONSORSHIP,channel:t,playedFrom:"add supported selection to queue"};A(_.addManyToTopOfQueue(e,n)),e.length>1&&A(E.playPostrollBeforeUidSet(e[1]))}function N(e,t){var n=e.channel,a=e.recommendationsChannelOrUid,o=e.sponsorshipSiteOverride;(0,T.isUid)(a)||A(E.sponsoredChannelSet(n));var i=(0,y.getSponsorshipRecommendationsUrl)(a);(0,y.getMetadataFromRemote)(i).then((function(e){var a=e.items.map(y.mapItemToMetadata).filter((function(e){return!/AdswizzAd/.test(e.uid)&&e.audioUrl}));t!==d.PLAYER_PRIMARY&&t!==d.PLAYER_LEAVEBEHIND&&(a[0]=r({},a[0],{fetchLeaveBehindOnly:!0,sponsorshipSiteOverride:o,skipSponsorship:!0})),a.forEach((function(e){A(p.metadataLoaded(r({},e,{channel:n})))}))})).catch((function(e){return u.default.info(e)}))}function b(e){var t=(0,y.getSponsorshipRecommendationsUrl)(e.podcastUid);(0,y.getMetadataFromRemote)(t).then((function(t){var n=(0,y.mapItemToMetadata)(t.items[0]);n.channel=e.channel,A(p.metadataLoaded(n))})).catch((function(e){return u.default.info(e)}))}function R(e){A(p.metadataLoaded(e))}function L(e,t){var n=(0,a.default)(e).data("sponsorshiptype"),r=(0,a.default)(".ad-leave-behind iframe").get(0);r&&r.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*"),n===l.SOUNDSCAPES&&A(E.sponsorshipDivsReset(!0,!1));var o=(0,a.default)(e).data("trackingchannel");n===l.SOUNDSCAPES||n===l.CLICK_TO_PLAY_SOUNDSCAPES?(A(E.soundscapesLoaded(I[o])),(0,T.makeAdScrollable)(d.PLAYER_PRIMARY)):function(e,t){var n={channel:I[e[0]].channel,origin:c.SPONSORSHIP,playedFrom:"initiate supported selection"};A(_.addManyToTopOfQueue(e,n));var r={};if(e.length>=2){var a=e[1];A(E.playPostrollBeforeUidSet(a))}if(t===d.PLAYER_PRIMARY){var o=h.sponsorship.preemptedUid;r=I[o],A(_.preemptedUidQueued(o)),A(E.prerollEnded(r));A(E.sponsorshipInterrupted(!0))}else r=I[e[0]],A(S.playPauseRequested(r,n))}((0,T.getMetadataUidsByChannelName)(o,I),t)}function M(e){var t=(0,a.default)(e).data("trackingchannel");P((0,T.getMetadataUidsByChannelName)(t,I),t);var n=(0,a.default)(".ad-leave-behind iframe").get(0);n&&n.contentWindow.postMessage({action:"update creative ui",content:"remove button"},"*")}function C(e){var t=(0,a.default)(e).data("trackingchannel"),n=I[t];if((0,o.default)(n))u.default.info("DFP: No metadata was loaded for uid: '"+t+"'");else{A(E.soundscapesLoaded(n));var r=0;h.player.isPlaying&&(r=h.player.position),A(E.preemptedUidReplaced(I[h.player.currentUid],r)),(0,T.makeAdScrollable)(d.PLAYER_PRIMARY)}}function U(e){var t=(0,a.default)(e).data("trackingchannel"),n=(0,T.getMetadataUidsByChannelName)(t,I);(0,o.default)(n)?u.default.info("DFP: Could not find metadata for uid:'"+t+"'"):P(n,t)}t.default=D},213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onPageCallouts=t.determineEndOfStoryVariant=t.determineCenterStageVariant=t.areCTASQualified=t.shouldDisplayDonationCta=t.didJustSubscribe=t.getRandomChanceForPodcast=t.shouldHideNewsletter=t.isStickyNewsletterDonation=t.isStickyNewsletterActive=t.isPageBlocklisted=t.getPageData=void 0;var r=O(n(7)),a=O(n(319)),o=O(n(79)),i=O(n(93)),u=v(n(1)),s=v(n(216)),l=v(n(169)),d=v(n(333)),c=v(n(73)),f=v(n(28)),p=v(n(127)),E=O(n(320)),S=v(n(334)),_=n(130),g=n(210),m=n(266),y=n(104),T=n(21);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}var A=null,h=null,I=null,D=function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stationQualified=t,this.donationQualified=n,this.newsletterQualified=r,this.podcastQualified=a,this.hasOrgId=o},P=!1,N=t.getPageData=function(){var e=document.getElementById("newsletter-acquisition-callout-data"),t=document.getElementById("station-data"),n=document.getElementById("podcast-callout-data"),r=t?t.getAttribute("data-station"):null;I=JSON.parse(r);var a=e?e.getAttribute("data-newsletter"):null;A=JSON.parse(a);var o=n?n.getAttribute("data-podcast"):null;return h=JSON.parse(o),{station:I,newsletter:A,podcast:h}},b=t.isPageBlocklisted=function(e){var t=(0,m.getCalloutBodyClassBlocklist)();if(t)for(var n=0;n<t.length;n++)if(document.body.classList.contains(t[n]))return!0;return!1},R=t.isStickyNewsletterActive=function(e){var t=!1,n=(0,_.getStickybarNewsletterInfo)();for(var r in n)if(e===r){t=!0;break}return t},L=t.isStickyNewsletterDonation=function(e){var t=!1,n=(0,_.getStickybarDonationInfo)();for(var r in n)if(e===r){t=!0;break}return t},M=t.shouldHideNewsletter=function(e,t,n,r){var o=R(r),i=e===d.EMAIL_SOURCE,u=void 0!==t&&t&&(0,a.default)(t,n)>=0;return i||u||o},C=t.getRandomChanceForPodcast=function(){return 0==Math.floor(2*Math.random())},U=t.didJustSubscribe=function(e){return e!=f.NOT_STARTED},w=t.shouldDisplayDonationCta=function(e,t,n,r){var a=t===p.PODCAST,o=(0,g.getEndOfStoryCtaInfo)(),i=(0,g.getEndOfStoryEmbeddedInfo)();if((0,m.isEligibleForEmbeddedDonation)(e))for(var u in i){var s=(0,g.isOnEndOfStoryCalloutPage)(e,i[u],a),l=(0,y.isWithinThisGlobalAlertPeriod)(i[u]);if(s&&l&&!L(n)&&r!==c.MODAL)return u}for(var d in o){var f=(0,g.isOnEndOfStoryCalloutPage)(e,o[d],a),E=(0,y.isWithinThisGlobalAlertPeriod)(o[d]);if(f&&E&&!L(n)&&r!==c.MODAL)return d}return""},j=t.areCTASQualified=function(e){N();var t=(0,r.default)(A,"newsletterId"),n=e.globalAlerts.variantIDToShowOnThisPage,a=(0,r.default)(e,"user.view.data.attributes.subscriptions"),u=(0,r.default)(e,"session.source"),s=(0,r.default)(e,"user.newsletter.status"),l=U(s),d=M(u,a,t,n),c=!1;A&&A.organizationId&&(c=(0,i.default)((0,o.default)(E.default),A.organizationId.toString()));var f=null!=I,p=!!w(e,(0,T.getCurrentPage)(e),(0,T.getVariantIDToShowOnThisPage)(e),(0,T.getVariantTypeToShowOnThisPage)(e));return new D(f,p,null!=A&&!l&&!d,null!=h,c)},k=t.determineCenterStageVariant=function(e,t){var n=e.onPageCallouts.centerStageVariant;if(n===l.NONE&&t.newsletterQualified){if(0===$("#ad-backstage-wrap").length&&0===$("#ad-mainstage-wrap").length&&0===$("#ad-centerstage-wrap").length)return l.NONE;if(!(0,m.isNationalStationStory)())return l.NEWSLETTER}return n===l.NONE&&t.podcastQualified?l.PODCAST:n},G=t.determineEndOfStoryVariant=function(e,t,n){var a=C(),o=(0,r.default)(A,"newsletterId");return n.newsletterQualified&&n.hasOrgId&&t!==l.NEWSLETTER?s.NEWSLETTER:n.donationQualified&&t!==l.DONATION?s.DONATION:n.podcastQualified&&(a||d.BEST_OF_NPR===o||d.MUSIC===o)&&t!==l.PODCAST?s.PODCAST:n.newsletterQualified&&t!==l.NEWSLETTER?s.NEWSLETTER:n.podcastQualified&&t!==l.PODCAST?s.PODCAST:s.NONE},H=t.onPageCallouts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){n();var a=e(r),o=n();if(r.type===u.PAGE_DETECTED&&(P=!1),r.type!==u.CENTER_STAGE_AD_STATUS_DETERMINED&&r.type!==u.GLOBAL_ALERT_VARIATION_DETERMINED||!P&&!o.onPageCallouts.wasOnPageCalloutDeterminationRequested&&o.onPageCallouts.isDFPComplete&&o.onPageCallouts.isGlobalAlertsComplete&&(t(S.onPageCalloutDeterminationRequested()),P=!0),r.type===u.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED)if(b(o))t(S.onPageCalloutDeterminationSucceeded(l.INELIGIBLE,s.NONE));else{var i=j(o),d=k(o,i),c=G(o,d,i);t(S.onPageCalloutDeterminationSucceeded(d,c))}return r.type===u.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED&&$(document).trigger("npr:onPageCalloutDeterminationSucceeded"),a}}};t.default=H},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPONSORSHIP_INTERVAL=720},215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PENDING="PENDING",t.UNKNOWN="UNKNOWN"},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE=0,t.NEWSLETTER=1,t.STATION=2,t.PODCAST=3,t.DONATION=4},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearHistoryRequested=function(){return{type:r.CLEAR_HISTORY_REQUESTED}},t.previousAudioPlayRequested=function(){return{type:r.PREVIOUS_AUDIO_PLAY_REQUESTED}},t.incrementAudioHistoryHead=function(){return{type:r.INCREMENT_AUDIO_HISTORY_HEAD}},t.historyItemsUnloaded=function(e){return{type:r.HISTORY_ITEMS_UNLOADED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},219:function(e,t,n){"use strict";var r=o(n(6)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}"1"===o(n(26)).default.getUrlParameter("_DEBUG")&&("console"in window&&"function"==typeof console.info&&(0,r.default)(a.default).on("npr:log:info",(function(e,t){t.data?console.info(t.message,JSON.stringify(t.data)):console.info(t.message)})),"console"in window&&"function"==typeof console.warning&&(0,r.default)(a.default).on("npr:log:warning",(function(e,t){t.exception&&t.data?console.warning(t.message,JSON.stringify(t.data),t.exception):t.data?console.warning(t.message,JSON.stringify(t.data)):console.warning(t.message)}))),"console"in window&&"function"==typeof console.error&&(0,r.default)(a.default).on("npr:log:error",(function(e,t){t.data?console.error(t.exception,JSON.stringify(t.data)):console.error(t.exception)}))},221:function(e,t,n){"use strict";(function(e){var r,a;r=[n(6),n(23)],void 0===(a=function(e,t){var n=t.create();n.name="copyright",n.onReady=function(){e(".copy-year").html("© "+(new Date).getFullYear()+" npr")},n.register()}.apply(t,r))||(e.exports=a)}).call(this,n(63)(e))},23:function(e,t,n){"use strict";var r,a,o=u(n(10)),i=u(n(321));function u(e){return e&&e.__esModule?e:{default:e}}r=[n(6)],void 0===(a=function(e){return{create:function(){var t={_initComplete:!1,_appliesToCurrentPage:!1,name:null,init:void 0,onReady:void 0,onUnload:void 0,debug:!1},n=function(){o.default.info("onReady: "+t.name);try{t.onReady()}catch(e){o.default.error(e)}},r=function(){var n=e("body").data("pjax-modules");return!!n&&-1!==n.split(" ").indexOf(t.name)},a=function n(){if(!t._initComplete)if(t._appliesToCurrentPage=r(),t._appliesToCurrentPage){o.default.info("init: "+t.name);try{t.init()}catch(e){o.default.error(e)}t._initComplete=!0}else e(document).one("npr:pageLoad",n)},u=function(){t._appliesToCurrentPage=r(),t._appliesToCurrentPage&&i.default.getPromise().then(n)},s=function(){if(t._appliesToCurrentPage){o.default.info("onUnload: "+t.name);try{t.onUnload()}catch(e){o.default.error(e)}}};return t.register=function(){o.default.info("register: "+t.name),"function"==typeof t.init&&("resolved"===i.default.getPromise().state()?a():e(document).one("npr:pageLoad",a)),"function"==typeof t.onReady&&(e(document).on("npr:pageLoad",u),"resolved"===i.default.getPromise().state()&&u()),"function"==typeof t.onUnload&&e(document).on("npr:pageUnload",s)},t}}}.apply(t,r))||(e.exports=a)},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.togglePlay=l,t.audioPlayed=function(e,t){return{type:r.AUDIO_PLAYED,payload:e,meta:t}},t.audioExpired=d,t.audioError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.AUDIO_ERROR,payload:e,meta:t}},t.audioRequested=c,t.getSegmentPlayRequestAction=f,t.segmentPlayRequest=p,t.newPlayRequestedOwnAction=E,t.newPlayRequested=S,t.playPauseRequestedOwnAction=_,t.playPauseButtonPressed=function(e,t){return{type:r.PLAY_PAUSE_BUTTON_PRESSED,payload:e,meta:t}},t.playPauseRequested=function(e,t){return function(n,r){var u=r().player.userEverInvokedPlay;if(u||(0,i.engageAutoplayHack)(),n(_(e,t)),r().player.currentUid!==e.uid||u)r().player.currentUid===e.uid||e.uid===r().sponsorship.preemptedUid?n(l(e,t)):r().sponsorship.isPlayingSponsorship?e.type===a.STREAM||e.type===a.SEGMENT?n(o.preemptedUidReplaced(e)):n(l(e,t)):S(e,t)(n,r);else{var s=r().player.position,d=m(e,r().time,r().sponsorship,s);e.hasAdsWizz&&(n(o.resetLastPlayedTimestamp()),n(o.sponsorshipDivsReset(!1,!0))),n(d(e,t))}}},t.toggleExpanded=function(){return{type:r.TOGGLE_EXPANDED}},t.audioPlayingStatusDirect=function(e,t){return{type:r.AUDIO_PLAYING_STATUS_DIRECT,payload:{isAudioPlaying:e,metadata:t}}},t.audioBufferingStarted=function(e){return{type:r.AUDIO_BUFFERING_STARTED,payload:{metadata:e}}},t.audioBufferingFinished=function(e){return{type:r.AUDIO_BUFFERING_FINISHED,payload:{metadata:e}}},t.rewind=function(e){return{type:r.REWIND,payload:e}},t.fastForward=function(e){return{type:r.FAST_FORWARD,payload:e}},t.audioComplete=function(e,t){return function(n){e.hasAdsWizz&&n(o.resetLastPlayedTimestamp()),n(g(e,t))}},t.audioCompleteOwnAction=g,t.scrubBegin=function(e){return{type:r.SCRUB_BEGIN,payload:e}},t.scrubEnd=function(e){return{type:r.SCRUB_END,payload:e}},t.seek=function(e,t){return{type:r.SEEK,payload:{position:e,metadata:t}}},t.skip=function(){return{type:r.SKIP}},t.initialWidthDetected=function(e,t){return{type:r.INITIAL_WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.widthDetected=function(e,t){return{type:r.WIDTH_DETECTED,payload:{width:e,breakpoint:t}}},t.pageVisibilityDetected=function(e){return{type:r.PAGE_VISIBILITY_DETECTED,payload:e}},t.touchDetected=function(){return{type:r.TOUCH_DETECTED}},t.countryRequested=function(){return{type:r.COUNTRY_REQUESTED}},t.countryDetected=function(e){return{type:r.COUNTRY_DETECTED,payload:e}},t.rightRailDetected=function(e){return{type:r.RIGHTRAIL_DETECTED,payload:e}},t.initialStateReverted=function(){return{type:r.INITIAL_STATE_REVERTED}},t.resumePlayFromPreviousSession=m,t.audioModuleMounted=function(){return{type:r.AUDIO_MODULE_MOUNTED}},t.addStreamToStageRequested=function(e){return{type:r.ADD_STREAM_TO_STAGE_REQUESTED,payload:e}},t.setAudioPlayerVolume=function(e){return{type:r.SET_AUDIO_PLAYER_VOLUME,payload:e}},t.mobileNativePlayPausePressed=function(e){return{type:r.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidStartLoading=function(e){return{type:r.MOBILE_NATIVE_DID_START_LOADING,payload:e}},t.mobileNativeDidStartPlaying=function(e){return{type:r.MOBILE_NATIVE_DID_START_PLAYING,payload:e}},t.mobileNativeDidStopPlaying=function(e){return{type:r.MOBILE_NATIVE_DID_STOP_PLAYING,payload:e}};var r=u(n(1)),a=u(n(16)),o=u(n(147)),i=n(100);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s=function(e,t){return e.expires&&e.expires<=t.now/1e3};function l(e,t){return{type:r.TOGGLE_PLAY,payload:e,meta:t}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.AUDIO_EXPIRED,payload:e,meta:t}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:r.AUDIO_REQUESTED,payload:{metadata:e,startPosition:n},meta:t}}function f(e,t,n){return s(e,t)?function(e){return d(e,{reason:"Audio rights expired"})}:(0,i.shouldPlaySponsorshipBefore)(e,n.lastPlayedTimestamp,n.playPostrollBeforeUid)?o.sponsorshipRequested:c}function p(e,t){return function(n,r){var a=f(e,r().time,r().sponsorship);e.hasAdsWizz&&(n(o.resetLastPlayedTimestamp()),n(o.sponsorshipDivsReset(!1,!0))),n(a(e,t))}}function E(e,t){return{type:r.NEW_PLAY_REQUESTED,payload:e,meta:t}}function S(e,t){return function(n,r){switch(n(E(e,t)),e.type){case a.STREAM:case a.SPONSORSHIP:n(c(e,t));break;case a.SEGMENT:p(e,t)(n,r)}}}function _(e,t){return{type:r.PLAY_PAUSE_REQUESTED,payload:e,meta:t}}function g(e,t){return{type:r.AUDIO_COMPLETE,payload:e,meta:t}}function m(e,t,n,r){return s(e,t)?function(e){return d(e,{reason:"Audio rights expired"})}:r>0?l:(0,i.shouldPlaySponsorshipBefore)(e,n.lastPlayedTimestamp,n.playPostrollBeforeUid)?o.sponsorshipRequested:l}},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(7),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(51));function u(e){if(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""}function s(e,t){var n=/([^.]*\.[^.]*)$/,r=n.exec(e),a=n.exec(t);if(!r||!a)return!1;var o=/^([^.]*)/.exec(t);if(!o)return!1;var i=o[1],u=r[1],s=a[1];return e===t||u===s&&(s===t||"www"===i)}t.default={getUrlParameter:function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=window.location.href,r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);if(!r)return t||null;if(!r[2])return t||"";try{return decodeURIComponent(r[2].replace(/\+/g," "))}catch(e){return t||""}},addUrlParameter:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=-1===e.indexOf("?")?"?":"&",a=n?t+"="+encodeURIComponent(n):t;return e+r+a},extractDomain:u,extractDomainAndPath:function(e){if(e){var t=e.match(/^https?\:\/\/([^?#]+)(?:[\/?#]|$)/i);if(t)return t[1]}return""},shouldDomainBeMirrored:s,isNavigationBetweenSecureAndInsecure:function(e,t){return e!==t&&(e===i.WEB_HOST_SECURE&&t===i.WEB_HOST||e===i.WEB_HOST&&t===i.WEB_HOST_SECURE)},mirrorProtocolAndSubDomain:function(e,t){if(!s(e.hostname,t.hostname))return t.href;var n=function(e,t){var n=/^(https?:\/\/)/;return n.exec(t)?t.replace(n,e+"//"):e+"//"+t}(e.protocol,t.href);return n=function(e,t){var n=/^([^.]*)/,r=/([^.]*\.[^.]*)$/,a=u(e),o=u(t),i=n.exec(a),s=n.exec(o);if(!i||!s)return t;var l=i[1],d=s[1],c=r.exec(a);if(c&&c[1]===a)return t;var f=r.exec(o);return f&&f[1]===o&&(l=a,d=o),t.replace(d,l)}(e.href,n)},isHttps:function(e){return e.startsWith("https://")},isLocalStoryPath:function(e){var t=e.pathname.split("/");return!(t.length<2)&&"local"===t[1]},getUrlPieces:function(e,t){var n="",r=(e=(e=e.replace("https://","")).replace("http://","")).indexOf("/");if(-1==r)n=e;else{var a=e.split("/"),o=a[0];if(0==a[1].length)return o;-1!=(r=(e=e.slice(r)).lastIndexOf("."))?(r=e.lastIndexOf("/"),e=e.slice(0,r)):(r=e.lastIndexOf("/"))==e.length-1&&(e=e.slice(0,r)),n=t?o+e:e}return n},getQueryParams:function(){var e=(0,o.default)(document,"location.search"),t={};if(e)for(var n=e.split("+").join(" "),r=/[?&]?([^=]+)=([^&]*)/g,a=r.exec(n);a;)t[decodeURIComponent(a[1])]=decodeURIComponent(a[2]),a=r.exec(n);return t}}},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(909)),a=o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}function i(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function u(e){if(i())return window.localStorage.getItem(e);throw new r.default("localStorage is not supported on this browser.")}t.default={isSupported:i,get:u,set:function(e,t){if(!i())throw new r.default("localStorage is not supported on this browser.");try{window.localStorage.setItem(e,t)}catch(e){a.default.warning("localStorage.setItem failed: may be full",{},e)}},isSet:function(e){if(i())return null!==u(e);throw new r.default("localStorage is not supported on this browser.")},remove:function(e){if(!i())throw new r.default("localStorage is not supported on this browser.");window.localStorage.removeItem(e)},clear:function(){if(!i())throw new r.default("localStorage is not supported on this browser.");window.localStorage.clear()}}},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEligibleForEmbeddedDonation=t.isBlockListedForDonation=t.isNationalStationStory=t.EMBEDDED_DONATION_BLOCK_LIST=t.getCalloutBodyClassBlocklist=void 0;var r,a=n(26),o=(r=a)&&r.__esModule?r:{default:r};var i=["about"],u=(t.getCalloutBodyClassBlocklist=function(){return i},t.EMBEDDED_DONATION_BLOCK_LIST=["tmplBlogNewsLiveIndex","tmplBlogMusicLiveIndex"]);t.isNationalStationStory=function(){var e=NPR.serverVars.publisherOrgId&&1!==Number.parseInt(NPR.serverVars.publisherOrgId,10),t=o.default.isLocalStoryPath(window.location);return e&&!t},t.isBlockListedForDonation=function(){var e=!1;return u.forEach((function(t){document.body.classList.contains(t)&&(e=!0)})),e},t.isEligibleForEmbeddedDonation=function(e){if(e.user.org.id){for(var t in e.donations.participatingStations)if(e.donations.participatingStations[t].id===e.user.org.id)return!0}else{if(e.localStations.stations){var n=e.donations.participatingStations.map((function(e){return e.id}));return e.localStations.stations.every((function(e){return n.includes(e)}))}if(e.localStations.localizationInfo&&e.localStations.localizationInfo.countryCode&&!["999","0","840"].includes(e.localStations.localizationInfo.countryCode))return!0}return!1}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NOT_STARTED="NOT_STARTED",t.PENDING="PENDING",t.FAILED="FAILED",t.RESOLVED="RESOLVED",t.SKIPPED="SKIPPED"},307:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){window.Modernizr=function(e,t,n){function a(e,t){return(void 0===e?"undefined":r(e))===t}function o(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var r in e){var a=e[r];if(!o(a,"-")&&S[a]!==n)return"pfx"!=t||a}return!1}function u(e,t,r){for(var o in e){var i=t[e[o]];if(i!==n)return!1===r?e[o]:a(i,"function")?i.bind(r||t):i}return!1}function s(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+m.join(r+" ")+r).split(" ");return a(t,"string")||a(t,"undefined")?i(o,t):u(o=(e+" "+y.join(r+" ")+r).split(" "),t,n)}if(e.hasOwnProperty("Modernizr"))return e.Modernizr;var l,d,c={},f=t.documentElement,p="modernizr",E=t.createElement(p),S=E.style,_=" -webkit- -moz- -o- -ms- ".split(" "),g="Webkit Moz O ms",m=g.split(" "),y=g.toLowerCase().split(" "),T={},v=[],O=v.slice,A=function(e,n,r,a){var o,i,u,s,l=t.createElement("div"),d=t.body,c=d||t.createElement("body");if(parseInt(r,10))for(;r--;)(u=t.createElement("div")).id=a?a[r]:p+(r+1),l.appendChild(u);return o=["&#173;",'<style id="s',p,'">',e,"</style>"].join(""),l.id=p,(d?l:c).innerHTML+=o,c.appendChild(l),d||(c.style.background="",c.style.overflow="hidden",s=f.style.overflow,f.style.overflow="hidden",f.appendChild(c)),i=n(l,e),d?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),f.style.overflow=s),!!i},h={}.hasOwnProperty;for(var I in d=a(h,"undefined")||a(h.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return h.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),r=function r(){if(this instanceof r){var a=function(){};a.prototype=t.prototype;var o=new a,i=t.apply(o,n.concat(O.call(arguments)));return Object(i)===i?i:o}return t.apply(e,n.concat(O.call(arguments)))};return r}),T.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:A(["@media (",_.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},T.csstransforms3d=function(){var e=!!s("perspective");return e&&"webkitPerspective"in f.style&&A("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},T.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},T.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},T)d(T,I)&&(l=I.toLowerCase(),c[l]=T[I](),v.push((c[l]?"":"no-")+l));return c.addTest=function(e,t){if("object"==(void 0===e?"undefined":r(e)))for(var a in e)d(e,a)&&c.addTest(a,e[a]);else{if(e=e.toLowerCase(),c[e]!==n)return c;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,c[e]=t}return c},function(e){S.cssText=e}(""),E=null,c._version="2.8.3",c._prefixes=_,c._domPrefixes=y,c._cssomPrefixes=m,c.mq=function(t){var n,r=e.matchMedia||e.msMatchMedia;return r?r(t)&&r(t).matches||!1:(A("@media "+t+" { #"+p+" { position: absolute; } }",(function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position})),n)},c.testProp=function(e){return i([e])},c.testAllProps=s,c.testStyles=A,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+v.join(" "),c}(this,this.document),function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=T.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=y[e[g]];return t||(t={},m++,e[g]=m,y[m]=t),t}function o(e,n,r){return n||(n=t),p?n.createElement(e):(r||(r=a(n)),!(o=r.cache[e]?r.cache[e].cloneNode():_.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren||S.test(e)||o.tagUrn?o:r.frag.appendChild(o));var o}function i(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return T.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(T,t.frag)}function u(e){e||(e=t);var r=a(e);return T.shivCSS&&!f&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||i(e,r),e}function s(e){for(var t,n=e.getElementsByTagName("*"),a=n.length,o=RegExp("^(?:"+r().join("|")+")$","i"),i=[];a--;)t=n[a],o.test(t.nodeName)&&i.push(t.applyElement(l(t)));return i}function l(e){for(var t,n=e.attributes,r=n.length,a=e.ownerDocument.createElement(O+":"+e.nodeName);r--;)(t=n[r]).specified&&a.setAttribute(t.nodeName,t.nodeValue);return a.style.cssText=e.style.cssText,a}function d(e){for(var t,n=e.split("{"),a=n.length,o=RegExp("(^|[\\s,>+~])("+r().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),i="$1"+O+"\\:$2";a--;)(t=n[a]=n[a].split("}"))[t.length-1]=t[t.length-1].replace(o,i),n[a]=t.join("}");return n.join("{")}function c(e){function t(){clearTimeout(i._removeSheetTimer),r&&r.removeNode(!0),r=null}var r,o,i=a(e),u=e.namespaces,l=e.parentWindow;return!A||e.printShived||(void 0===u[O]&&u.add(O),l.attachEvent("onbeforeprint",(function(){t();for(var a,i,u,l=e.styleSheets,c=[],f=l.length,p=Array(f);f--;)p[f]=l[f];for(;u=p.pop();)if(!u.disabled&&v.test(u.media)){try{i=(a=u.imports).length}catch(e){i=0}for(f=0;i>f;f++)p.push(a[f]);try{c.push(u.cssText)}catch(e){}}c=d(c.reverse().join("")),o=s(e),r=n(e,c)})),l.attachEvent("onafterprint",(function(){(function(e){for(var t=e.length;t--;)e[t].removeNode()})(o),clearTimeout(i._removeSheetTimer),i._removeSheetTimer=setTimeout(t,500)})),e.printShived=!0),e}var f,p,E=e.html5||{},S=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,_=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",f="hidden"in e,p=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){f=!0,p=!0}}();var T={elements:E.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==E.shivCSS,supportsUnknownElements:p,shivMethods:!1!==E.shivMethods,type:"default",shivDocument:u,createElement:o,createDocumentFragment:function(e,n){if(e||(e=t),p)return e.createDocumentFragment();for(var o=(n=n||a(e)).frag.cloneNode(),i=0,u=r(),s=u.length;s>i;i++)o.createElement(u[i]);return o}};e.html5=T,u(t);var v=/^$|\b(?:all|print)\b/,O="html5shiv",A=!p&&function(){var n=t.documentElement;return void 0!==t.namespaces&&void 0!==t.parentWindow&&void 0!==n.applyElement&&void 0!==n.removeNode&&void 0!==e.attachEvent}();T.type+=" print",T.shivPrint=c,c(t)}(this,document),e.exports=Modernizr}).call(window)},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAYMENT_METHOD={CREDIT_CARD:"Credit Card",BROWSER_PAY:"Express Pay"},t.STRIPE_PAYMENT_METHOD_TYPES={CREDIT_CARD:"card"},t.BROWSER_PAY={APPLE_PAY:"Apple Pay",BROWSER_PAY:"Express Pay"},t.STRIPE_RESPONSES={INCORRECT_NUMBER:"incorrect_number",INCOMPLETE_NUMBER:"incomplete_number",INCOMPLETE_CVC:"incomplete_cvc",INVALID_NUMBER:"invalid_number",INVALID_EXPIRATION:"invalid_expiry_year_past",INCOMPLETE_EXPIRATION:"incomplete_expiry",CARD_DECLINED:"card_declined"},t.DEFAULT_SUBSCRIPTION_AMOUNTS=[7,10,15,30],t.DEFAULT_ONETIME_AMOUNTS=[60,120,180,365],t.DEFAULT_EMBED_AMOUNTS=[25,50,75,100],t.HONOR_TEXT=["In Honor of","In Memory of"],t.STRIPE_STATUSES={SUCCEEDED:"succeeded",COMPLETED:"completed",INCOMPLETED:"incompleted",REQUIRES_ACTION:"requires_action",REQUIRES_PAYMENT_METHOD:"requires_payment_method"},t.ERROR_FLAGS={EMPTY:"empty",INVALID:"invalid",CHAR_LIMIT:"You've reached your character limit.",INPUT_REQUIRED:"This field is required.",INVALID_CVC:"Please enter a valid security code",INVALID_DETAILS:"Please enter valid payment details",INVALID_LOW_AMOUNT:"Please enter an amount of $5 or more.",INVALID_HIGH_AMOUNT:"Please enter an amount less than $999,999.99",INVALID_EMAIL:"Please enter a valid email address.",INVALID_EXPIRATION:"Please enter a valid four digit expiration month and year",INVALID_NUMBER:"Please enter a valid credit card number",NO_RESULTS:"No results. Try searching by ZIP code, city, state or station above.",NO_SEARCH_RESULTS:"Please enter a valid ZIP code, city, or station.",SELECET_REQUIRED:"Please select a value.",TOP_TITLE_ERROR:"Please complete the following fields.",UNAVAILABLE:"Network error. Refresh your page and try again.",UNAVAILABLE_COMMENT:"Sorry we weren't able to capture your comment",TO_MANY_REQUEST:"Sorry we aren't able to process your gift."}},318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),u=d(i),s=(d(n(4)),d(n(71))),l=d(n(121));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["onClick"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"onClick",value:function(e){var t=this.props.onClickHandler;"function"==typeof t&&t()}},{key:"_getMetricsObject",value:function(){var e=void 0,t=void 0,n=void 0;"string"==typeof this.props.metrics?e=this.props.metrics:"object"===a(this.props.metrics)&&(0,l.default)(this.props.metrics,(function(r,a){"action"===a?e=r:"label"===a?t=r:"category"===a&&(n=r)}));var r={};return e&&(r.action=e),t&&(r.label=t),n&&(r.category=n),JSON.stringify(r)}},{key:"_getAccessibilityAttributes",value:function(){var e={};return this.props.ariaDescribedby&&(e["aria-describedby"]=this.props.ariaDescribedby),this.props.ariaLabel&&(e["aria-label"]=this.props.ariaLabel),this.props.ariaLabelledby&&(e["aria-labelledby"]=this.props.ariaLabelledby),this.props.role&&(e.role=this.props.role),this.props.tabIndex&&(e.tabIndex=this.props.tabIndex),e}},{key:"render",value:function(){if(!this.props.tagName)return null;var e=this.props.tagName,t=this._getMetricsObject(),n=this._getAccessibilityAttributes();return u.default.createElement(e,r({className:this.props.className,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress,"data-metrics":t},n),this.props.children)}}]),t}(i.Component);t.default=c,c.defaultProps={onClickHandler:function(){},onBlur:function(){},onMouseDown:function(){},onKeyPress:function(){}}},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metadataLoaded=function(e){return{type:r.METADATA_LOADED,payload:e}},t.metadatasLoaded=function(e){return{type:r.METADATAS_LOADED,payload:e}},t.metadataUnloaded=function(e){return{type:r.METADATA_UNLOADED,payload:{uid:e}}},t.metadatasUnloaded=function(e){return{type:r.METADATAS_UNLOADED,payload:e}},t.nowPlayingLoaded=function(e,t){return{type:r.NOW_PLAYING_LOADED,payload:{uid:e,nowPlayingText:t}}},t.containerUnwrapped=function(e,t){return{type:r.CONTAINER_UNWRAPPED,payload:{uid:e,contentUrl:t}}},t.changeDuration=function(e,t){return{type:r.AUDIO_DURATION_CHANGE,payload:{uid:e,duration:t}}},t.metadataInvalidated=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reason:""};return{type:r.METADATA_INVALIDATED,payload:e,meta:t}},t.nowOnStreamsRegistrationRequested=function(e){return{type:r.NOW_ON_STREAMS_REGISTRATION_REQUESTED,payload:e}},t.nowOnStreamsUnregistrationRequested=function(e){return{type:r.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(35)),a=o(n(51));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i={},u={id:"WBEZ",organizationId:r.WBEZ,enabled:!1,logo:"//media.npr.org/images/stations/nprone_logos/wbez.png",url:a.PROXY_CDN_HOST+"/proxy/stations/newsletter/subscribe/"+r.WBEZ,emailFieldName:"EmailAddress",marketingHeader:"Chicago’s NPR News Station delivers local news to your inbox",shortDescription:"Sign up for <em>The Rundown</em>, WBEZ’s daily newsletter and get the latest news and local views directly from your NPR station.",termsText:'By subscribing, you agree that your email address will be collected and used by Chicago Public Media, and you agree to its <a href="https://www.chicagopublicmedia.org/terms-use#">Terms of Use</a> and <a href="https://www.chicagopublicmedia.org/privacy-policy">Privacy Policy</a>.',hiddenFields:[{value:"100024864",name:"_clientID"},{value:"NPR_Daily_Rundown_Signup",name:"_deExternalKey"},{value:"add",name:"_action"},{id:"field1",value:"DIGITAL-NPR-STORY",name:"Most_Recent_Acquisition_Campaign"},{value:"0",name:"_returnXML"},{value:"http://example.com/Failed",name:"_errorURL"},{value:"https://www.npr.org/",name:"_successURL"}],hiddenFieldsRightRail:[{value:"100024864",name:"_clientID"},{value:"WWDTM_Ticket_Giveaway_Web",name:"_deExternalKey"},{value:"add",name:"_action"},{id:"field1",value:"DIGITAL-SWEEPSTAKES-WWDTM-NPR",name:"Most_Recent_Acquisition_Campaign"},{value:"0",name:"_returnXML"},{value:"http://example.com/Failed",name:"_errorURL"},{value:"https://www.npr.org/",name:"_successURL"}]},s={id:"WAMU",organizationId:r.WAMU,enabled:!1,logo:"//media.npr.org/images/stations/nprone_logos/wamu_fm.png",url:a.PROXY_CDN_HOST+"/proxy/stations/newsletter/subscribe/"+r.WAMU,emailFieldName:"EmailAddress",marketingHeader:"Sign up for the WAMU Today newsletter.",shortDescription:"Get your day started with <b>WAMU's daily newsletter</b>, and keep up to date on the latest regional news from your NPR station.",termsText:'By subscribing, you agree that your email address will be collected and used by WAMU, and you agree to its <a href="https://wamu.org/terms-of-use/">Terms of Use</a> and <a href=" https://wamu.org/privacy/">Privacy Policy</a>.'};i[r.WAMU]=s,i[r.WBEZ]=u,i[r.WBEZ_STATION]=u,t.default=i},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(6)),a=l(n(10)),o=l(n(760)),i=l(n(761)),u=l(n(43)),s=l(n(26));function l(e){return e&&e.__esModule?e:{default:e}}n(763);var d=E(),c="",f=['meta[name="date"]','meta[name="description"]','link[rel="canonical"]','link[rel="alternate"]','meta[property^="og:"]','meta[property^="fb:"]','meta[name^="twitter:"]'];r.default.pjax.defaults.timeout=6e4,r.default.pjax.defaults.fragment="main",r.default.pjax.defaults.maxCacheLength=0;var p=u.default.getSessionInfo();function E(){return new r.default.Deferred}function S(e){i.default.progress(10),r.default.pjax({url:e,container:"main"})}u.default.isMobileNativeApp(p.renderPlatform)||((0,r.default)(document).on("submit","form.pjaxForm",(function(e){return a.default.info("Handling pjax form submission"),r.default.pjax.submit(e,"main"),!1})),(0,r.default)(document).on("click","a[href]:not([data-pjax-exempt])",(function(e){var t=e.currentTarget;if(a.default.info("Handling click",t.href),o.default.isNavigationEvent(e,location,t)){if(a.default.info("Navigation event detected",t.href),o.default.shouldOpenInNewTab(e,location,t))a.default.info("Opening link in new tab",t.href),window.open(t.href);else{if(o.default.isExemptFromPersistentNavigation(t.href))return a.default.info("Url is exempt from pjax navigation.",t.href),!0;if(e.currentTarget.classList.contains("reload-page"))return a.default.info("Url is exempt from pjax navigation.",t.href),!0;a.default.info("Beginning pjax navigation",t.href),S(s.default.mirrorProtocolAndSubDomain(location,t))}return!1}}))),(0,r.default)(document).on("pjax:send",(function(e,t,n){a.default.info("pjax:send"),i.default.deactivateMainContentArea(),i.default.progress(20);var r=document.createEvent("Event");r.initEvent("npr:pageUnload",!0,!0),document.dispatchEvent(r),d=E()})),(0,r.default)(document).on("pjax:beforeReplace",(function(e,t,n,o,u){a.default.info("pjax:beforeReplace"),i.default.progress(50);var s=(0,r.default)("head"),l=(0,r.default)("body"),d=(0,r.default)(r.default.parseHTML(n.responseText)),p=d.filter('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,r.default)(t).attr("href")})).toArray(),E=s.find('link[rel="stylesheet"]:not([data-persist])').map((function(e,t){return(0,r.default)(t).attr("href")})).toArray(),S=(0,r.default)(),_=[];E.forEach((function(e){if(-1===p.indexOf(e)||-1!==e.indexOf("canary")){var t=(0,r.default)('link[rel="stylesheet"][href="'+e+'"]');S=S.add(t)}})),p.forEach((function(e){-1!==E.indexOf(e)&&-1===e.indexOf("canary")||_.push(e)}));var g=n.responseText.match(/<body .*?>/)[0],m=g.match(/id="(.*?)"/)[1],y=g.match(/class="(.*?)"/)[1],T=g.match(/data-pjax-modules="(.*?)"/)[1];delete window.NPR.ServerConstants,delete window.NPR.serverVars,s.find("#npr-vars").remove();var v=n.responseText.match(/<script id="npr-vars"[\s\S]*?<\/script>/)[0];(0,r.default)(v).appendTo(s),NPR&&NPR.serverVars&&NPR.serverVars.persistenceVersion!==c&&location.reload();var O=d.find("head"),A=!0,h=!1,I=void 0;try{for(var D,P=f[Symbol.iterator]();!(A=(D=P.next()).done);A=!0){var N=D.value;s.find(N).remove(),s.append(O.find(N))}}catch(e){h=!0,I=e}finally{try{!A&&P.return&&P.return()}finally{if(h)throw I}}_.length>0?(a.default.info("Loading new stylesheets",_),i.default.progress(75),(0,r.default)("main").html(""),l.attr("id",m).attr("class",y).data("pjax-modules",T),S.remove(),function(e){r.default.each(e,(function(e,t){(0,r.default)("<link>",{rel:"stylesheet",href:t}).appendTo("head")}));var t=new r.default.Deferred,n=document.createElement("a");n.id="pjax-css-loaded",n.style.display="none",(0,r.default)("body").append(n);var o=(0,r.default)("#pjax-css-loaded");a.default.info("Setting interval to watch for CSS canary");var i=setInterval((function(){"cell"===o.css("cursor")&&(a.default.info("CSS canary detected; clearing interval"),o.remove(),clearInterval(i),t.resolve())}),35);return t.promise()}(_).done((function(){a.default.info("New stylesheets loaded"),i.default.progress(90),u()}))):(a.default.info("No new stylesheets to load"),l.attr("id",m).attr("class",y).data("pjax-modules",T),S.remove(),i.default.progress(90),u()),(0,r.default)(document).trigger("npr:pageReceived")})),(0,r.default)(document).on("pjax:success",(function(e,t,n,r,o){a.default.info("pjax:success"),i.default.progress(100);var u=document.createEvent("Event");u.initEvent("npr:pageLoad",!0,!0),document.dispatchEvent(u),d.resolve()})),(0,r.default)(document).on("pjax:complete",(function(e,t,n,r){i.default.activateMainContentArea()})),(0,r.default)(document).ready((function(){a.default.info("$(document).ready(): "+document.location.href),c=NPR.serverVars.persistenceVersion,(0,r.default)(document).trigger("npr:pageLoad"),d.resolve()})),t.default={getPromise:function(){return d.promise()},navigateTo:S}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var a={handleSetState:function(e){return{type:r.SET_STATE,payload:{id:e}}},handleSetSource:function(e){return{type:r.SET_SOURCE,payload:{id:e}}},handleSetOtherAmount:function(e,t){return{type:r.SET_OTHER_AMOUNT,payload:{amountSelection:e,isRecurring:t}}},handleResetOtherAmount:function(){return{type:r.RESET_OTHER_AMOUNT}},donationFormCompleted:function(e,t,n,a){return{type:r.DONATION_FORM_COMPLETED,payload:{email:e,station:t,isSubscription:n,campaign:a}}},donationFormFailed:function(e,t,n,a){return{type:r.DONATION_FORM_FAILED,payload:{email:e,station:t,isSubscription:n,campaign:a}}}};t.default=a},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={storyPageDetected:function(e){return{type:r.STORY_PAGE_DETECTED,payload:{storyId:e}}},endOfStoryRecommendationRequested:function(e){return{type:r.END_OF_STORY_RECOMMENDATION_REQUESTED,payload:{storyId:e}}},endOfStoryRecommendationCompleted:function(e){return{type:r.END_OF_STORY_RECOMMENDATION_COMPLETED,payload:{recommendations:e}}},endOfStoryRecommendationFailed:function(){return{type:r.END_OF_STORY_RECOMMENDATION_FAILED}}}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE_NATIVE_APP="mobileNativeApp",t.LISTEN_LATER="listenLater",t.NPR_ONE_IOS="nprone_ios",t.NPR_ONE_ANDROID="nprone_android",t.NPR_NEWS_IOS="nprnews_ios"},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.default="https://www.npr.org"!==(0,r.getWebHost)()?{publishableKey:"pk_test_KoHtvpjHy8g6evHRwIm7GIgP00MjQmpJEr",stations:[{id:1,stripeAccountID:"",logoUrl:"https://media.npr.org/chrome_svg/npr-logo.svg",name:"NPR",marketState:"N/A",callLetters:"NPR",contact:"giving@npr.org"},{id:111,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:675,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:718,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:139,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:188,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:55,stripeAccountID:"acct_1HSPA0AWwB3mViZK"},{id:145,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:60,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:5,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:193,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:295,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:340,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:448,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:156,stripeAccountID:"acct_1FbrXZE3exHu3OnK"},{id:396,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:168809220,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:309,stripeAccountID:"acct_1HXTyCILzAWanqpj",contact:"membership@wbez.org",allowDonationEmbeddedCalloutRecurring:!0},{id:558,stripeAccountID:"acct_1Icx58IenaNliTp3",contact:"membership@iowapublicradio.org"},{id:725,stripeAccountID:"acct_1Idgn8E32ooMRWgd",contact:"membership@wypr.org"},{id:232,stripeAccountID:"acct_1HrUHcJfIl9YMB7X",contact:"membership@kuow.org"},{id:330,stripeAccountID:"acct_18AegeERinIyl6X2",contact:"membership@wbur.org"},{id:223,stripeAccountID:"acct_1J0AVNKZCXteNHf7",contact:"membership@kunc.org"},{id:661,stripeAccountID:"acct_1IyLbLFr3fMQEz43",contact:"wunccares@wunc.org"},{id:447,stripeAccountID:"acct_19i9A7D0uWcllLih",contact:"donate@wjct.org"},{id:547,stripeAccountID:"acct_1Ge0GNEhnr8Vz8ZH",contact:"audiencecare@ctpublic.org"},{id:270,stripeAccountID:"acct_1Dvp16GAAE00Y4vB",contact:"memberservices@kvcr.org"},{id:75,stripeAccountID:"acct_19ntTTFLdgo3S1p1",contact:"desiree.markham@enmu.edu"},{id:463,stripeAccountID:"acct_1JNzbTKgEAi8no40",contact:"membership@wkar.org"}]}:{publishableKey:"pk_live_iY0lrdsbubVs9fIcZyZ0h7ft00XUjs7dW8",stations:[{id:1,stripeAccountID:"",logoUrl:"https://media.npr.org/chrome_svg/npr-logo.svg",name:"NPR",marketState:"N/A",callLetters:"NPR",contact:"giving@npr.org"},{id:309,stripeAccountID:"acct_1HXTyCILzAWanqpj",contact:"membership@wbez.org",allowDonationEmbeddedCalloutRecurring:!0},{id:396,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:168809220,stripeAccountID:"acct_1Gv7V5HVz4qYhRad",contact:"membersonly@wgbh.org"},{id:558,stripeAccountID:"acct_1Icx58IenaNliTp3",contact:"membership@iowapublicradio.org"},{id:725,stripeAccountID:"acct_1Idgn8E32ooMRWgd",contact:"membership@wypr.org"},{id:232,stripeAccountID:"acct_1HrUHcJfIl9YMB7X",contact:"membership@kuow.org"},{id:330,stripeAccountID:"acct_18AegeERinIyl6X2",contact:"membership@wbur.org"},{id:223,stripeAccountID:"acct_1J0AVNKZCXteNHf7",contact:"membership@kunc.org"},{id:661,stripeAccountID:"acct_1IyLbLFr3fMQEz43",contact:"wunccares@wunc.org"},{id:447,stripeAccountID:"acct_19i9A7D0uWcllLih",contact:"donate@wjct.org"},{id:270,stripeAccountID:"acct_1Dvp16GAAE00Y4vB",contact:"memberservices@kvcr.org"},{id:75,stripeAccountID:"acct_19ntTTFLdgo3S1p1",contact:"desiree.markham@enmu.edu"},{id:463,stripeAccountID:"acct_1JNzbTKgEAi8no40",contact:"membership@wkar.org"}]}},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeFeaturedAudioRequested=function(e,t,n){return{type:r.INITIALIZE_FEATURED_AUDIO_REQUESTED,payload:{featuredAudioProgramUid:e,featuredAudioText:t,featuredAudioImage:n}}},t.initializeFeaturedAudioSucceded=function(e,t,n,a){return{type:r.INITIALIZE_FEATURED_AUDIO_SUCCEEDED,payload:{featuredAudioProgramUid:e,featuredAudioUid:t,featuredAudioText:n,featuredAudioImage:a}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(10)),a=o(n(380));function o(e){return e&&e.__esModule?e:{default:e}}var i=void 0;function u(e){var t;t='{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}';var n=JSON.parse(t);for(var r in n)n.hasOwnProperty(r)&&"e"!==r&&(n[r]=n[r].replace(/\+/g," "));return n}t.default={getAuthCookieData:function(){return function(){var e=void 0;try{null!=(e=a.default.get("at"))?i=u(e):(e=a.default.get("npr-session"),i=null!=e?u(e):void 0)}catch(e){r.default.error(e)}}(),i},getCcpaCookie:function(){return a.default.get("ccpa_rdp")||""},getStationCookieData:function(){var e=a.default.get("st");return e&&e.length?e.split(","):null}}},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recordUserCompletedStory=t.setAccessToken=t.recordUserSharedStory=t.recordUserReadStory=t.recordUserViewedStory=void 0;var r,a,o,i,u,s,l=(r=y(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=S.default.get(window,"NPR.serverVars.storyId"))&&v){e.next=3;break}throw new Error("Cannot get Reading Service ActionPayload for current story. Please check the Reading Service for story "+t+", token "+v);case 3:if(O[t]){e.next=8;break}return e.next=6,T.newsApp.getStoryByExternalId(t);case 6:n=e.sent,O[t]=S.default.get(n,"userData.actionPayload");case 8:return e.abrupt("return",Object.assign({},O[t]));case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),d=(a=y(regeneratorRuntime.mark((function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:return(n=e.sent).action=t,n.scrollPosition=void 0===r?A():r,n.timestamp=(new Date).toISOString(),n.origin=g.default.getUrlParameter("origin",n.origin),e.next=10,T.newsApp.sendStoryActions([n]);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return a.apply(this,arguments)}),c=(o=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(_.ActionType.READ,100));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),f=(i=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(_.ActionType.VIEW));case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),p=(u=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(_.ActionType.SHARE));case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),E=(s=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(_.ActionType.READ));case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)}),S=m(n(547)),_=n(925),g=m(n(26));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(u)}("next")}))}}var T=null,v="",O=[];function A(){var e=document.documentElement,t=document.body,n="scrollTop",r="scrollHeight";return Math.round((e[n]||t[n])/((e[r]||t[r])-e.clientHeight)*100)}t.recordUserViewedStory=f,t.recordUserReadStory=E,t.recordUserSharedStory=p,t.setAccessToken=function(e){v=e;var t=S.default.get(window,"NPR.ServerConstants.readingServiceHostname");t?T||(T=new _.ReadingService({accessToken:v,customUserAgent:"npr.org",hostname:t})):console.error("Reading Service hostname not defined, no actions will be sent.")},t.recordUserCompletedStory=c},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),o=(r=a)&&r.__esModule?r:{default:r};t.default={fireScrollOffsetReset:function(){(0,o.default)(document).trigger("npr:fireScrollOffsetReset")}}},331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(35));t.default=[r.WAMU,r.WAMU_OC]},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsGlobalAlertLastSeenToday=void 0;var r=n(173),a=n(104);t.getIsGlobalAlertLastSeenToday=(0,r.createSelector)([function(e){return e.globalAlerts}],(function(e){return null!==e.globalAlertLastDisplayed&&new Date(e.globalAlertLastDisplayed).toDateString()===new Date(a.currentDay).toDateString()}))},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BEST_OF_NPR="best-of-npr",t.MUSIC="music",t.EMAIL_SOURCE="npr_newsletter",t.DEFAULT_NEWSLETTERS=["news","breaking-news","best-of-npr"]},334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.centerStageAdStatusDetermined=t.onPageCalloutDeterminationSucceeded=t.onPageCalloutDeterminationRequested=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.onPageCalloutDeterminationRequested=function(){return{type:r.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED}},t.onPageCalloutDeterminationSucceeded=function(e,t){return{type:r.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED,payload:{centerStageVariant:e,endOfStoryVariant:t}}},t.centerStageAdStatusDetermined=function(e){return{type:r.CENTER_STAGE_AD_STATUS_DETERMINED,payload:{calloutType:e}}}},335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(923)),a=i(n(924)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var u={injected:!1,ecommercePluginInitialized:!1,package:null,callMethod:function(e,t){if(u.injectAnalytics(),!u.package||void 0===u.package[e])throw new RangeError("Method "+e+" not defined on analytics.package");u.package[e].apply(null,t)},injectAnalytics:function(){if(!u.injected){u.injected=!0;var e=o.default.getSessionInfo();o.default.isMobileNativeApp(e.renderPlatform)?u.package=a.default:u.package=r.default,u.callMethod("init",[])}},setCustomDimensions:function(e){u.callMethod("setCustomDimensions",[e])},eventDefault:function(e,t,n,r,a){u.callMethod("eventDefault",[e,t,n,r,a])},eventSocial:function(e,t,n,r){u.callMethod("eventSocial",[e,t,n,r])},trackPageview:function(e){u.callMethod("trackPageview",[e])},eventWithCustomMetric:function(e,t,n,r,a,o){u.callMethod("eventWithCustomMetric",[e,t,n,r,a,o])},eventEcommerce:function(e,t,n,r,a,o){u.ecommercePluginInitialized||(u.callMethod("requireEcommerce"),u.ecommercePluginInitialized=!0),u.callMethod("ecommerceAddTransaction",[{id:e,revenue:t}]),u.callMethod("ecommerceAddItem",[{id:e,name:n,category:r,price:a,quantity:o}]),u.callMethod("ecommerceSend")}};t.default=u},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NPR=1,t.WBEZ=309,t.WBEZ_STATION=308,t.WAMU=305,t.WAMU_OC=1162,t.WETA=372},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GLOBAL_NAVIGATION="global navigation",t.STATION_DRAWER="station drawer",t.STATION_FINDER_PAGE="station finder",t.USER_PROFILE_PAGE="profile",t.STATION_SEARCH_RESULTS="station search results",t.STATION_CONTENT_BOX="station support box",t.HOMEPAGE_STATION_CARD="station card",t.DONATION_FORM="donation form",t.DONATION_EMBED="donation embed"},380:function(e,t,n){var r,a;
/*!
 * JavaScript Cookie v2.0.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */void 0===(a="function"==typeof(r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,a,o){var i;if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*o.expires),o.expires=u}try{i=JSON.stringify(a),/^[\{\[]/.test(i)&&(a=i)}catch(e){}return a=(a=encodeURIComponent(String(a))).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(i={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var c=s[d].split("="),f=c[0].replace(l,decodeURIComponent),p=c.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{if(p=n&&n(p,f)||p.replace(l,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===f){i=p;break}t||(i[f]=p)}catch(e){}}return i}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}()})?r.call(t,n,t,e):r)||(e.exports=a)},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LISTEN="listen now",t.QUEUE="add to queue",t.LEAVE_BEHIND_LISTEN="leavebehind listen",t.LEAVE_BEHIND_QUEUE="leavebehind queue"},412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["{","}"],r=e;return t.forEach((function(t,a){r=e.replace(n[0]+a+n[1],t)})),r}},414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.STATE_LOADED:var n=t.payload.state.org;return n?(0,a.default)(n,(function(e,t,n){t.lastUpdated&&"string"==typeof t.lastUpdated&&Date.now()-Date.parse(t.lastUpdated)<4*i.default.ONE_HOUR&&(e[n]=t)})):e;case o.STATION_DATA_LOADED:var u=t.payload.id;return r({},e,s({},u,r({},e[u],t.payload)));case o.PROGRAM_SCHEDULE_LOADED:var d=t.payload,c=d.orgId,f=d.programId,p=d.programTitle,E=d.programSchedule;return e[c]?Object.assign({},e,s({},c,Object.assign({},e[c],{programs:s({},f,{title:p,schedule:E})}))):e;default:return e}};var a=u(n(339)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(415));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={}},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={FIFTEEN_SECONDS:15e3,TWENTY_SECONDS:2e4,ONE_MINUTE:6e4,ONE_HOUR:36e5}},425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={hpLocalStoriesRequested:function(e){return{type:r.HP_LOCAL_STORIES_REQUESTED,payload:e}},hpLocalStoriesSucceeded:function(e,t){return{type:r.HP_LOCAL_STORIES_SUCCEEDED,payload:{orgId:e,stories:t}}},hpLocalStoriesFailed:function(e){return{type:r.HP_LOCAL_STORIES_FAILED,payload:e}}}},426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(7),o=(r=a)&&r.__esModule?r:{default:r};t.default={Names:{audioButtonPressed:"audioButtonPressed",playAllButtonPressed:"playAllButtonPressed",playlistButtonPressed:"playlistButtonPressed",pageLoaded:"pageLoaded",gaEvent:"gaEvent",gaScreen:"gaScreen"},sendBridgeObject:function(e,t){var n={name:e,attributes:t},r=JSON.stringify(n);"undefined"!=typeof webPlayerInterface&&webPlayerInterface.bridge(r),(0,o.default)(window,"webkit.messageHandlers.bridge.postMessage")&&window.webkit.messageHandlers.bridge.postMessage(r)}}},427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(6)),a=d(n(121)),o=d(n(264)),i=d(n(26)),u=d(n(428)),s=n(85),l=d(n(162));function d(e){return e&&e.__esModule?e:{default:e}}var c=!1,f=!1;function p(e){return"string"==typeof e?e.toLowerCase():e}function E(){var e=new Date;return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)}function S(e,t){return e||(""===t?"direct":t)}function _(e){return void 0===e?"NULL":e}t.default={buildPageviewCustomDimensions:function(e){var t,n,d,g,m={dimension1:void 0,dimension2:void 0,dimension3:void 0,dimension4:void 0,dimension5:void 0,dimension6:void 0,dimension7:void 0,dimension8:void 0,dimension9:void 0,dimension10:void 0,dimension11:void 0,dimension12:void 0,dimension13:void 0,dimension14:void 0,dimension15:void 0,dimension16:void 0,dimension17:void 0,dimension18:void 0,dimension19:void 0,dimension20:void 0,dimension21:void 0,dimension22:void 0,dimension23:void 0,dimension24:void 0,dimension25:void 0,dimension39:void 0,dimension40:void 0,dimension41:void 0,dimension42:void 0,dimension43:void 0,dimension44:void 0,dimension51:void 0,dimension52:void 0,dimension53:void 0},y=E(),T="undefined"!==e.pageTypeId?e.pageTypeId:"",v=parseInt(T,10);if([u.default.WEB_FEATURES,u.default.PODCAST_EPISODE].includes(v)&&(m.dimension1=_(e.storyId),m.dimension7=_(e.tagIds),m.dimension8=_(e.byline),m.dimension9=_(e.contentPartnerOrg),m.dimension10=_(e.pubDate),m.dimension22=_(e.storyTitle),m.dimension25=_(e.distributedContentPartner),m.dimension39=_(e.publisherOrgId)),m.dimension2=_(e.topicIds),m.dimension3=_(e.primaryTopic),m.dimension4=_(e.theme),m.dimension5=_(e.programId),m.dimension6=_(e.aggIds),m.dimension11=_(e.pageTypeId),f||(m.dimension26="not active - collapsed",f=!0),e.homePageMetrics&&(m.dimension41=_(e.homePageMetrics)),m.dimension43=e.isLocalStationStory||"false",c||(m.dimension14=e.localizedStation,m.dimension15=e.favoriteStation,m.dimension40=e.localizedStationId,m.dimension51=(0,s.getTimezone)(),m.dimension53=e.localizationConfidenceInterval,m.dimension23=90===window.orientation||-90===window.orientation?"landscape":"portrait",m.dimension24="ontouchstart"in document.documentElement?"Touch":"Traditional"),o.default.isSupported()){if("true"!==e.isLoggedIn||c&&e.isLoggedIn===o.default.get("isLoggedIn"))o.default.set("isLoggedIn","false");else{m.dimension20=e.isLoggedIn,o.default.set("isLoggedIn",e.isLoggedIn);var O=(new l.default).getUserId();m.dimension52=O}if(o.default.isSet("isRegistered")||"true"===e.isRegistered&&(o.default.set("isRegistered","true"),m.dimension19="true",o.default.set("regDate",y),m.dimension21=y),!o.default.isSet("originalReferrer")){var A=S(i.default.getUrlParameter("utm_source"),i.default.extractDomain(document.referrer));m.dimension12=A,o.default.set("originalReferrer",A)}if(!o.default.isSet("originalLandingPage")){var h=i.default.extractDomainAndPath(document.URL);m.dimension13=h,o.default.set("originalLandingPage",h)}if(o.default.isSet("firstVisitDate")){if(!c){var I=(t=o.default.get("firstVisitDate"),n=new Date(Number(t.substr(0,4)),Number(t.substr(4,2)),Number(t.substr(6,2))),d=new Date,g=new Date(d.getFullYear(),d.getMonth()+1,d.getDate()),Math.round(Math.abs((g.getTime()-n.getTime())/864e5)).toString());m.dimension17=I,o.default.set("daysSinceFirstVisit",I)}}else m.dimension18=y,o.default.set("firstVisitDate",y),o.default.set("daysSinceFirstVisit",0)}else m.dimension20=e.isLoggedIn,m.dimension19=e.isRegistered;if(window.NPR.serverVars.experimentMetrics&&window.NPR.serverVars.experimentMetrics.constructor===Array){var D=window.NPR.serverVars.experimentMetrics.map((function(e){var t=e[0],n=e[1],a=e[2],o=(0,r.default)("article.hp-item:not(.attachment):visible").index((0,r.default)("#story"+a+n))+1;return"E"+t+n+(o=o<10?"0"+o:o)}));m.dimension37=D.join(",")}else c||(m.dimension37=void 0);return m.dimension44=(!!document.querySelector(".is-DACS-only")).toString(),c=!0,m=(0,a.default)(m,(function(e){return p(e)}))},processFirstAudioListen:function(){var e={};return o.default.isSupported()?"true"!==o.default.get("hasListenedToAudio")&&(o.default.set("hasListenedToAudio","true"),e.dimension16="true"):e.dimension16="true",e=(0,a.default)(e,(function(e){return p(e)}))},getReferrer:S,getFormattedCurrDate:E}},428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={WEB_FEATURES:1,TOPIC_MAIN_PAGE:2,PROGRAM_MAIN_PAGE:4,SERIES_MAIN_PAGE:6,BIO_PAGE:7,PODCAST_PAGE:9,BLOG:13,SUB_SERIES:14,PODCAST_EPISODE:15,ARTIST:17,GENRE:18,PROGRAM_ABOUT:19,SUPERSERIES:20,COLLECTION:21,TAG:24,CATEGORY:25,BOOK:26,AUTHOR:27,BOOK_GENRE:28,PROGRAM_SEGMENT:31,PROGRAM_EPISODE:32}},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(324)),o=n(26),i=(r=o)&&r.__esModule?r:{default:r};t.default={getSessionInfo:function(){return{source:i.default.getUrlParameter("utm_source",""),medium:i.default.getUrlParameter("utm_medium",""),content:i.default.getUrlParameter("utm_content",""),campaign:i.default.getUrlParameter("utm_campaign",""),term:i.default.getUrlParameter("utm_term",""),userId:Number.parseInt(i.default.getUrlParameter("utm_id","0"),10)||0,orgId:Number.parseInt(i.default.getUrlParameter("utm_org_id","0"),10)||0,renderPlatform:i.default.getUrlParameter("renderPlatform",""),preventAutoLocalization:i.default.getUrlParameter("preventAutoLocalization","")}},isMobileNativeApp:function(e){return[a.NPR_ONE_IOS,a.NPR_ONE_ANDROID,a.NPR_NEWS_IOS].includes(e)}}},461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SUBTYPE_YOUR_STATION:"yours",SUBTYPE_SEARCH:"search"}},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(892);var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)();t.default=function(){return o}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebHost=t.STRIPE_SERVICE_HOST=t.WEBSITE_CONTEXT=t.IDENTITY_HOST=t.PROXY_API_HOST=t.LEGACY_WEB_HOST=t.PROXY_CDN_HOST=t.WEB_HOST_SECURE=t.WEB_HOST=t.API_HOST=void 0;var r,a=n(7),o=(r=a)&&r.__esModule?r:{default:r};t.API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.apiHost"),t.WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.WEB_HOST_SECURE="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHostSecure"),t.PROXY_CDN_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.LEGACY_WEB_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.legacyWebHost"),t.PROXY_API_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost"),t.IDENTITY_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.identityHost"),t.WEBSITE_CONTEXT="profile",t.STRIPE_SERVICE_HOST="undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.stripeServiceHost"),t.getWebHost=function(){return"undefined"!=typeof window&&(0,o.default)(window,"NPR.ServerConstants.webHost")}},537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var a={getLocalStationsRequested:function(){return{type:r.GET_LOCAL_STATIONS_REQUESTED}},getLocalStationsSkipped:function(){return{type:r.GET_LOCAL_STATIONS_SKIPPED}},getLocalStationsSucceeded:function(e){return{type:r.GET_LOCAL_STATIONS_SUCCEEDED,payload:e}},getLocalStationsFailed:function(){return{type:r.GET_LOCAL_STATIONS_FAILED}},stationDataLoaded:function(e){return{type:r.STATION_DATA_LOADED,payload:e}},stationNetworkLookupRequested:function(e,t){return{type:r.STATION_NETWORK_LOOKUP_REQUESTED,payload:{stationId:e,subtype:t}}},stationNetworkResultsLoaded:function(e,t,n){return{type:r.STATION_NETWORK_RESULTS_LOADED,payload:{stationId:e,results:t,subtype:n}}},stationNetworkLookupFailed:function(e){return{type:r.STATION_NETWORK_LOOKUP_FAILED,payload:{subtype:e}}}};t.default=a},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.default={stationSearchRequested:function(e){return{type:r.STATION_SEARCH_REQUESTED,payload:{term:e}}},stationSearchResultsLoaded:function(e,t){return{type:r.STATION_SEARCH_RESULTS_LOADED,payload:{term:e,results:t}}},stationSearchFailed:function(){return{type:r.STATION_SEARCH_FAILED}}}},546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programScheduleRequested=function(){return{type:r.PROGRAM_SCHEDULE_REQUESTED}},t.programScheduleLoaded=function(e){return{type:r.PROGRAM_SCHEDULE_LOADED,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreamsRequested=function(){return{type:r.MUSIC_STREAMS_REQUESTED}},t.musicStreamsRequestReceived=function(e){return{type:r.MUSIC_STREAMS_REQUEST_SUCCEEDED,payload:e}},t.musicStreamsStatusReset=function(){return{type:r.MUSIC_STREAMS_STATUS_RESET}},t.musicStreamsRequestFailed=function(){return{type:r.MUSIC_STREAMS_REQUEST_FAILED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},64:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,o){var i=n.method||"GET";setTimeout((function(){return o("TIMEOUT: "+i+" "+t+" "+e+"ms")}),e),r(t,n).then((function(e){return a(e)})).catch((function(e){return o(e)}))}))};var r="object"===("undefined"==typeof window?"undefined":n(window))&&e?e:null}).call(this,n(782))},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userViewLoadRequested=function(){return{type:r.USER_VIEW_LOAD_REQUESTED}},t.userViewLoadCompleted=function(e){return{type:r.USER_VIEW_LOAD_COMPLETED,payload:e}},t.userViewLoadFailed=function(){return{type:r.USER_VIEW_LOAD_FAILED}},t.accessTokenReceived=function(e,t){return{type:r.ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t}}},t.mobileNativeAccessTokenReceived=function(e,t){return{type:r.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED,payload:{token:e,updateDate:t}}},t.userLogoutRequested=function(){return{type:r.USER_LOGOUT_REQUESTED}},t.userLogoutCompleted=function(){return{type:r.USER_LOGOUT_COMPLETED}},t.stationChangeRequested=function(e){return{type:r.STATION_CHANGE_REQUESTED,payload:{id:e}}},t.stationChangeCompleted=function(e){return{type:r.STATION_CHANGE_COMPLETED,payload:{id:e}}},t.stationAutolocalized=function(e){return{type:r.STATION_AUTOLOCALIZED,payload:{id:e}}},t.defaultOrgResolved=function(){return{type:r.DEFAULT_ORG_RESOLVED}},t.newsletterAcquisitionRequested=function(e,t){return{type:r.NEWSLETTER_ACQUISITION_REQUESTED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionRequested=function(e,t,n,a,o){return{type:r.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED,payload:{email:e,newsletterId:t,orgId:n,url:a,formData:o}}},t.newsletterAcquisitionCompleted=function(e,t){return{type:r.NEWSLETTER_ACQUISITION_COMPLETED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionCompleted=function(e,t,n){return{type:r.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED,payload:{email:e,newsletterId:t,campaign:n}}},t.newsletterAcquisitionFailed=function(e,t){return{type:r.NEWSLETTER_ACQUISITION_FAILED,payload:{email:e,newsletterId:t}}},t.newsletterExternalAcquisitionFailed=function(e,t,n){return{type:r.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED,payload:{email:e,newsletterId:t,campaign:n}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NONE="none",t.MODAL="modal",t.END_OF_STORY="endofstory",t.STICKYBAR="stickybar",t.CENTER_STAGE="centerstage"},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStoryUrl=t.getNewscastUidForOrg=t.getOrgIdFromNewscastUid=t.isNewscastUid=void 0,t.getNewscastForOrg=function(e){var t=(0,a.bindParams)(f,(new Map).set("orgId",e));return(0,u.default)(2e4,t).then((function(e){return e.json()})).then((function(t){var n=(0,r.default)(t,"items[0].links.audio");if(!n)return Promise.reject("Newscast returned no valid audio links");var a,i,u,l,d=_(n,"audio/aac"),c=_(n,"audio/mp3"),f=(a=t.items[0],i=(0,r.default)(a,"attributes.provider"),u=new Date((0,r.default)(a,"attributes.date")),(l=isNaN(u.getHours())?"":(0,s.formatAMPM)(u))?i+" Newscast : "+l:i+" Newscast"),p=parseInt((0,r.default)(t.items[0],"attributes.duration"),10);return d||c?Promise.resolve({title:f,duration:isNaN(p)?300:p,audioUrl:d||c,uid:E(e),type:o.SEGMENT,subtype:o.SEGMENT_NEWSCAST,storyUrl:S(e),orgId:e}):Promise.reject("Newscast does not have available MP3 or MP4 URLs")}))},t.isValidStationOrg=function(e){return e&&e!==i.NPR};var r=c(n(7)),a=n(412),o=d(n(16)),i=d(n(35)),u=c(n(64)),s=n(85),l=n(51);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.getWebHost)()+"/proxy/listening/v2/newscast/{orgId}/recommendations",p=t.isNewscastUid=function(e){var t=e.split("-");return 0===e.indexOf("newscast-")&&2===t.length&&parseInt(t[1],10)==t[1]},E=(t.getOrgIdFromNewscastUid=function(e){return p(e)?parseInt(e.split("-")[1],10):-1},t.getNewscastUidForOrg=function(e){return"newscast-"+e}),S=t.getStoryUrl=function(e){return e===i.NPR?(0,l.getWebHost)()+"/podcasts/500005/hourly-news-summary/":""},_=function(e,t){var n=e.find((function(e){return e["content-type"]===t}));return n?n.href:""}},760:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(26),o=(r=a)&&r.__esModule?r:{default:r};var i=["dmg_wmref_em.php","pdf","png","gif","jpg","jpeg","mp3","mp4","wav","mpeg","mov","rpm"],u=["/account/login","/account/logout","/account/signup","/donations/support","/podcast.php","/rss.php"];function s(e){if(!this||void 0===this.length)return!1;var t=this.indexOf("?")>-1?this.split("?")[0]:this,n=t.endsWith("/")?t.substring(0,t.length-1):t;return n.substring(n.length-e.length).toLowerCase()===e.toLowerCase()}function l(e){return e.replace(/#.*/,"")}t.default={isNavigationEvent:function(e,t,n){if(n.href.indexOf("#")>-1&&l(n.href)===l(t.href))return!1;if(-1!==n.href.indexOf("javascript:void(0)"))return!1;if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;if(e.isDefaultPrevented())return!1;var r=t.protocol+"//"+t.hostname,a=t.protocol+"//"+n.hostname;return!o.default.isNavigationBetweenSecureAndInsecure(r,a)},isExemptFromPersistentNavigation:function(e){return!!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||u.some(s,e)},shouldOpenInNewTab:function(e,t,n){var r=e.currentTarget.getAttribute("target");return!!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)||(null!=r&&r.indexOf("_blank")>-1||(!(!document.getElementsByTagName("body")[0].classList.contains("donation-portal")||"/"===n.href)||(!(!n.pathname||!n.pathname.startsWith("/newsletter/")||-1!==n.pathname.indexOf("/subscribe")||-1!==n.pathname.indexOf("/unsubscribe")||-1!==n.pathname.indexOf("/userStatusData")||-1!==n.pathname.indexOf("/refresh"))||!o.default.shouldDomainBeMirrored(t.hostname,n.hostname)&&(t.hostname!==n.hostname||!0===i.some(s,n.href)))))}}},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6),o=(r=a)&&r.__esModule?r:{default:r},i=n(762);var u=null,s=new i.Nanobar({bg:"#6d8ac4",id:"loading-bar"});function l(){(0,o.default)('<div id="loading-activity">').prependTo("body")}(0,o.default)(window).on("unload",(function(){s.go(100)})),t.default={progress:function(e){s.go(e),(0,o.default)("#loading-activity","body").remove(),clearTimeout(u),100!==e&&(u=setTimeout(l,1500))},activateMainContentArea:function(){(0,o.default)("main").css({opacity:1})},deactivateMainContentArea:function(){(0,o.default)("main").css({opacity:.6})}}},762:function(e,t,n){!function(e){e.Nanobar=function(){"use strict";var e,t,n,r,a,o,i={width:"100%",height:"4px",zIndex:9999,top:"0"},u={width:0,height:"100%",clear:"both",transition:"height .3s"};return e=function(e,t){var n;for(n in t)e.style[n]=t[n];e.style.float="left"},r=function(){var e=this,t=this.width-this.here;t<.1&&t>-.1?(a.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout((function(){e.cont.el.removeChild(e.el)}),300))):(a.call(this,this.width-t/4),setTimeout((function(){e.go()}),16))},a=function(e){this.width=e,this.el.style.width=this.width+"%"},o=function(){var e=new t(this);this.bars.unshift(e)},(t=function(t){this.el=document.createElement("div"),this.el.style.backgroundColor=t.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=t,e(this.el,u),t.el.appendChild(this.el)}).prototype.go=function(e){e?(this.here=e,this.moving||(this.moving=!0,r.call(this))):this.moving&&r.call(this)},(n=function(t){var n,r=this.opts=t||{};r.bg=r.bg||"#000",this.bars=[],n=this.el=document.createElement("div"),e(this.el,i),r.id&&(n.id=r.id),n.style.position=r.target?"relative":"fixed",r.target?r.target.insertBefore(n,r.target.firstChild):document.getElementsByTagName("body")[0].appendChild(n),o.call(this)}).prototype.go=function(e){this.bars[0].go(e),100==e&&o.call(this)},n}(),e.Nanobar}(t)},763:function(e,t,n){var r=n(6);
/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */!function(e){function t(t,r,a){var o=this;return this.on("click.pjax",t,(function(t){var i=e.extend({},y(r,a));i.container||(i.container=e(this).attr("data-pjax")||o),n(t,i)}))}function n(t,n,r){r=y(n,r);var a=t.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&m(a)==m(location)||t.isDefaultPrevented())){var i={url:a.href,container:e(a).attr("data-pjax"),target:a},u=e.extend({},i,r),s=e.Event("pjax:click");e(a).trigger(s,[u]),s.isDefaultPrevented()||(o(u),t.preventDefault(),e(a).trigger("pjax:clicked",[u]))}}function a(t,n,r){r=y(n,r);var a=t.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:a.method.toUpperCase(),url:a.action,container:e(a).attr("data-pjax"),target:a};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(a),i.processData=!1,i.contentType=!1;else{if(e(a).find(":file").length)return;i.data=e(a).serializeArray()}o(e.extend({},i,r)),t.preventDefault()}function o(t){t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var n,r=t.target,a=g(t.url).hash,i=t.context=T(t.container);function s(t,n,a){a||(a={}),a.relatedTarget=r;var o=e.Event(t,a);return i.trigger(o,n),!o.isDefaultPrevented()}t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:i.selector}):t.data._pjax=i.selector,t.beforeSend=function(e,r){if("GET"!==r.type&&(r.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",i.selector),!s("pjax:beforeSend",[e,r]))return!1;r.timeout>0&&(n=setTimeout((function(){s("pjax:timeout",[e,t])&&e.abort("timeout")}),r.timeout),r.timeout=0);var o=g(r.url);a&&(o.hash=a),t.requestUrl=_(o)},t.complete=function(e,r){n&&clearTimeout(n),s("pjax:complete",[e,r,t]),s("pjax:end",[e,t])},t.error=function(e,n,r){var a=A("",e,t),o=s("pjax:error",[e,n,r,t]);"GET"==t.type&&"abort"!==n&&o&&u(a.url)},t.success=function(n,r,l){var d=o.state,c="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,f=l.getResponseHeader("Content-Type");if(f&&-1!==f.indexOf("text/html")){var p=l.getResponseHeader("X-PJAX-Version");if(c&&p&&c!==p)u(t.requestUrl);else{var S=A(n,l,t),_=g(S.url);a&&(_.hash=a,S.url=_.href);var m=e(O(n.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));if(S.contents)if(!m||m.toArray().find((function(e){return e&&"object"==typeof e&&e.tagName&&"META"===e.tagName&&e.name&&"npr-pjax"===e.name}))){o.state={id:t.id||E(),url:S.url,title:S.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,S.title,S.url);try{document.activeElement.blur()}catch(e){}S.title&&(document.title=S.title),s("pjax:beforeReplace",[S.contents,l,t,function(){try{i.html(S.contents)}catch(e){window.location.reload()}var o=i.find("input[autofocus], textarea[autofocus]").last()[0];o&&document.activeElement!==o&&o.focus(),e("script[src][data-pjax-script]").remove(),function(t){if(!t)return;var n=e("script[src]");t.each((function(){var t=this.src;if(!n.filter((function(){return this.src===t})).length){var r=document.createElement("script"),a=e(this).attr("type");a&&(r.type=a),r.src=e(this).attr("src"),e(r).attr("data-pjax-script",!0),document.head.appendChild(r)}}))}(S.scripts);var u=t.scrollTo,d=!1;if(document.querySelector("body").classList.contains("liveBlog")&&(d=!0),a&&d&&window.location.hash&&(nprLiveBlogTargetHash=window.location.hash,window.history.replaceState(null,null,"#")),a&&!d){var c=decodeURIComponent(a.slice(1)),f=document.getElementById(c)||document.getElementsByName(c)[0];f&&(u=e(f).offset().top)}"number"==typeof u&&e(window).scrollTop(u),s("pjax:success",[n,r,l,t])}],{state:o.state,previousState:d})}else u(S.url);else u(S.url)}}else u(t.requestUrl)},o.state||(o.state={id:E(),url:window.location.href,title:document.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),p(o.xhr),o.options=t;var l,d,c=o.xhr=e.ajax(t);return c.readyState>0&&(t.push&&!t.replace&&(l=o.state.id,d=S(i),h[l]=d,D.push(l),P(I,0),P(D,o.defaults.maxCacheLength),window.history.pushState(null,"",t.requestUrl)),s("pjax:start",[c,t]),s("pjax:send",[c,t])),o.xhr}function i(t,n){var r={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(r,y(t,n)))}function u(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}var s=!0,l=window.location.href,d=window.history.state;function c(t){s||p(o.xhr);var n,r=o.state,a=t.state;if(a&&a.container){if(s&&l==a.url)return;if(r){if(r.id===a.id)return;n=r.id<a.id?"forward":"back"}var i=h[a.id]||[],d=e(i[0]||a.container),c=i[1];if(d.length){r&&function(e,t,n){var r,a;h[t]=n,"forward"===e?(r=D,a=I):(r=I,a=D);r.push(t),(t=a.pop())&&delete h[t];P(r,o.defaults.maxCacheLength)}(n,r.id,S(d));const t=new CustomEvent("pjax:popstate",{detail:{state:a,direction:n}});document.dispatchEvent(t);var f={id:a.id,url:a.url,container:d,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};if(c){d.trigger("pjax:start",[null,f]),o.state=a,a.title&&(document.title=a.title);var E=e.Event("pjax:beforeReplace",{state:a,previousState:r});d.trigger(E,[c,f]);try{d.html(c)}catch(e){window.location.reload()}d.trigger("pjax:end",[null,f])}else o(f);d[0].offsetHeight}else u(location.href)}s=!1}function f(t){var n=e.isFunction(t.url)?t.url():t.url,r=t.type?t.type.toUpperCase():"GET",a=e("<form>",{method:"GET"===r?"GET":"POST",action:n,style:"display:none"});"GET"!==r&&"POST"!==r&&a.append(e("<input>",{type:"hidden",name:"_method",value:r.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),(function(t,n){var r=n.split("=");a.append(e("<input>",{type:"hidden",name:r[0],value:r[1]}))}));else if(e.isArray(o))e.each(o,(function(t,n){a.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))}));else if("object"==typeof o){var i;for(i in o)a.append(e("<input>",{type:"hidden",name:i,value:o[i]}))}e(document.body).append(a),a.submit()}function p(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function E(){return(new Date).getTime()}function S(e){var t=e.clone();return t.find("script").each((function(){this.src||r._data(this,"globalEval",!1)})),[e.selector,t.contents()]}function _(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function g(e){var t=document.createElement("a");return t.href=e,t}function m(e){return e.href.replace(/#.*/,"")}function y(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=T(n.container)),n}function T(t){if((t=e(t)).length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(e,t){return e.filter(t).add(e.find(t))}function O(t){return e.parseHTML(t,document,!0)}function A(t,n,r){var a={},o=/<html/i.test(t),i=n.getResponseHeader("X-PJAX-URL");if(a.url=i?_(g(i)):r.requestUrl,o)var u=e(O(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=e(O(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else u=s=e(O(t));if(0===s.length)return a;if(a.title=v(u,"title").last().text(),r.fragment){if("body"===r.fragment)var l=s;else l=v(s,r.fragment).first();l.length&&(a.contents="body"===r.fragment?l:l.contents(),a.title||(a.title=l.attr("title")||l.data("title")))}else o||(a.contents=s);return a.contents&&(a.contents=a.contents.not((function(){return e(this).is("title")})),a.contents.find("title").remove(),a.scripts=v(a.contents,"script[src]").remove(),a.contents=a.contents.not(a.scripts)),a.title&&(a.title=e.trim(a.title)),a}d&&d.container&&(o.state=d),"state"in window.history&&(s=!1);var h={},I=[],D=[];function P(e,t){for(;e.length>t;)delete h[e.shift()]}function N(){return e("meta").filter((function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()})).attr("content")}function b(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=R,e.pjax.click=n,e.pjax.submit=a,e.pjax.reload=i,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:N},e(window).on("popstate.pjax",c)}function R(){e.fn.pjax=function(){return this},e.pjax=f,e.pjax.enable=b,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",c)}e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?b():R()}(r),e.exports=r.fn.pjax},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondsAsHMMSS=function(e){var t=parseInt(e,10);if(0===t)return"0:00";if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r;r<10&&n>0&&(r="0"+r);a<10&&(a="0"+a);if(0===n)return r+":"+a;return n+":"+r+":"+a},t.secondsAsFormattedText=function(e){var t=e,n=Math.floor(t/3600);t%=3600;var r=Math.floor(t/60),a=Math.floor(t%60);if(n<1)return r>=1?r+"-Minute Listen":a+"-Second Listen";if(0===r)return n+"-Hour Listen";return n+"-Hour, "+r+"-Minute Listen"},t.secondsAsShorthandTime=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r,o="";n&&(o+=n+" hr",n>1&&(o+="s"));r&&(o&&(o+=" "),o+=r+" min");a&&!n&&(o&&(o+=" "),o+=a+" sec");return o},t.secondsAsHtmlDuration=function(e){var t=parseInt(e,10);if(!t||t<0)return"";var n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),a=t-3600*n-60*r,o=[];n&&o.push(n+"H");r&&o.push(r+"M");a&&o.push(a+"S");if(o.length)return"P"+o.join(",");return""},t.getCurrentYYYYMMDD=function(){var e=new Date;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString().slice(0,10).replace(/-/g,"")},t.convertTimeStringTo24Hours=function(e){var t=e.match(/([0-9]+):([0-9]+)\s[ap]m/i),n="";n=e.match(/pm$/i)?"12"===t[1]?"12":parseInt(t[1])+12:"12"===t[1]?"00":t[1];var r=t[2];return n+":"+r},t.formatAMPM=function(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"PM":"AM";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r},t.isWeekend=function(){var e=new Date;if(6===e.getUTCDay()&&e.getUTCHours()>5||0===e.getUTCDay()||1===e.getUTCDay()&&e.getUTCHours()<11)return!0;return!1},t.getTimezone=function(){return(new Date).toString().match(/\(([^)]+)\)/)[1]}},862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRewindPosition=S,t.getFastForwardPosition=_,t.getExpanded=g,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case a.STATE_LOADED:var n=t.payload,o=n.stateTime,u=n.currentTime;if((0,s.isWithinContinuityPeriod)(o,u)){var f=t.payload.state.sponsorship.preemptedUid,y=f||t.payload.state.player.currentUid,T=f||(0,d.isNewscastUid)(y)?0:t.payload.state.player.position,v=(0,c.getMetadataTypeForUid)(t.payload.state.metadata,y);return m(v)||(y="",T=0),r({},E(e),E(t.payload.state.player),{currentUid:y,position:T,isPlaying:!1,isAudioPlaying:!1,userEverInvokedPlay:!1,isEngaged:!1,featuredAudio:r({},e.featuredAudio,{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""}),abTestRemoveNewscast:!1})}return E(e);case a.INITIAL_WIDTH_DETECTED:var O=e.isExpanded;return t.payload.breakpoint===i.SMALL?O=!1:e.env.breakpoint!==t.payload.breakpoint&&(O=(0,l.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail)),Object.assign({},e,{isExpanded:O,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL});case a.WIDTH_DETECTED:return Object.assign({},e,{isExpanded:e.env.breakpoint!==t.payload.breakpoint?(0,l.getCollapsed)(t.payload.breakpoint,e.env.hasRightRail):e.isExpanded,env:Object.assign({},e.env,{breakpoint:t.payload.breakpoint,width:t.payload.width}),isPaneExpanded:t.payload.breakpoint!==i.SMALL||e.isPaneExpanded});case a.RIGHTRAIL_DETECTED:var A=(0,l.getCollapsed)(e.env.breakpoint,t.payload),h=!!A||e.isExpanded;return Object.assign({},e,{env:Object.assign({},e.env,{hasRightRail:t.payload}),isExpanded:t.payload&&g(e.env.breakpoint,h,e.isEngaged)});case a.COUNTRY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{country:t.payload})});case a.TOUCH_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{hasTouchSupport:!0})});case a.PAGE_VISIBILITY_DETECTED:return Object.assign({},e,{env:Object.assign({},e.env,{isPageVisible:t.payload})});case a.TOGGLE_EXPANDED:return Object.assign({},e,{isExpanded:!e.isExpanded,isEngaged:!0});case a.TOGGLE_PLAY:return Object.assign({},e,{isPlaying:!e.isPlaying});case a.PLAY_PAUSE_REQUESTED:return Object.assign({},e,{isEngaged:!0,userEverInvokedPlay:!0});case a.SPONSORSHIP_LOADED:case a.NEW_PLAY_REQUESTED:return Object.assign({},e,{position:0,isPlaying:!1});case a.SOUNDSCAPES_LOADED:return Object.assign({},e,{userEverInvokedPlay:!0,isEngaged:!0,position:0});case a.AUDIO_REQUESTED:return Object.assign({},e,{currentUid:t.payload.metadata.uid,isLoading:!0,isPlaying:!1,isAudioPlaying:!1,position:t.payload.startPosition});case a.AUDIO_PLAYED:return Object.assign({},e,{isLoading:!1,isPlaying:!0});case a.LINK_CLICKED:return Object.assign({},e,{isExpanded:(0,l.getCollapsed)(e.env.breakpoint,e.env.hasRightRail)});case a.REWIND:return Object.assign({},e,{position:S(e.position)});case a.FAST_FORWARD:return Object.assign({},e,{position:_(e.position,t.payload.duration)});case a.TIMER:return e.isAudioPlaying?Object.assign({},e,{position:e.position+t.payload.sinceLastTick/1e3}):e;case a.AUDIO_BUFFERING_STARTED:return r({},e,{isAudioPlaying:!1,isLoading:!0});case a.AUDIO_BUFFERING_FINISHED:return r({},e,{isAudioPlaying:!0,isLoading:!1});case a.AUDIO_PLAYING_STATUS_DIRECT:return Object.assign({},e,{isPlaying:t.payload.isAudioPlaying,isAudioPlaying:t.payload.isAudioPlaying});case a.AUDIO_COMPLETE:return Object.assign({},e,{position:0,isPlaying:!1});case a.SPONSORSHIP_INTERRUPTED:return Object.assign({},e,{isLoading:!1,isPlaying:!1});case a.AUDIO_ERROR:return Object.assign({},e,{isLoading:!1});case a.SEEK:return Object.assign({},e,{position:t.payload.position});case a.SET_AUDIO_PLAYER_VOLUME:return r({},e,{volume:t.payload});case a.INITIALIZE_FEATURED_AUDIO_SUCCEEDED:var I=t.payload,D=I.featuredAudioProgramUid,P=I.featuredAudioUid,N=I.featuredAudioText,b=I.featuredAudioImage;return r({},e,{featuredAudio:r({},e.featuredAudio,{featuredAudioProgramUid:D,featuredAudioUid:P,featuredAudioText:N,featuredAudioImage:b})});case a.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING:return r({},e,{abTestRemoveNewscast:!0});case a.SCRUB_BEGIN:return Object.assign({},e,{isScrubbing:!0});case a.SCRUB_END:return Object.assign({},e,{isScrubbing:!1});case a.INITIAL_STATE_REVERTED:return Object.assign({},e,{isEngaged:!1,isExpanded:!1,isPlaying:!1,userEverInvokedPlay:!1,position:0,isScrubbing:!1,currentUid:""});case a.PREROLL_ENDED:return Object.assign({},e,{isPlaying:!1,position:0});case a.ADD_STREAM_TO_STAGE_REQUESTED:return r({},e,{isEngaged:!0,isExpanded:!0,currentUid:t.payload.uid});case a.MOBILE_NATIVE_DID_START_LOADING:return Object.assign({},e,{currentUid:t.payload,isLoading:!0,isPlaying:!1});case a.MOBILE_NATIVE_DID_START_PLAYING:return Object.assign({},e,{currentUid:t.payload,isLoading:!1,isPlaying:!0});case a.MOBILE_NATIVE_DID_STOP_PLAYING:return Object.assign({},e,{currentUid:null,isLoading:!1,isPlaying:!1});case a.PANE_CHANGE_DIRECT:return r({},e,{isEngaged:!0});case a.PANE_CHANGE_WITH_EXPAND:return r({},e,{isExpanded:!0,isEngaged:!0,isPaneExpanded:!0});case a.COLLAPSE_PANE:return r({},e,{isPaneExpanded:!1});default:return e}};var a=f(n(1)),o=f(n(16)),i=f(n(20)),u=f(n(215)),s=n(140),l=n(209),d=n(74),c=n(128);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={env:{breakpoint:i.SMALL,width:0,hasTouchSupport:!1,country:u.PENDING,hasRightRail:!0,isPageVisible:!0},isVisible:!0,isEngaged:!1,isExpanded:!1,isPaneExpanded:!1,isPlaying:!1,isAudioPlaying:!1,isLoading:!1,userEverInvokedPlay:!1,position:0,isScrubbing:!1,currentUid:"",volume:.8,featuredAudio:{featuredAudioProgramUid:"",featuredAudioUid:"",featuredAudioText:"",featuredAudioImage:""},abTestRemoveNewscast:!1},E=function(e){return"volume"in e&&"isPaneExpanded"in e?e:r({},e,{volume:.8,isPaneExpanded:!1})};function S(e){return Math.max(e-15,0)}function _(e,t){return Math.min(e+15,t)}function g(e,t,n){return t||e===i.LARGE&&n}function m(e){return e!==o.SPONSORSHIP}},863:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.AGG_LOADED:var n={};return n[t.payload.aggId]=t.payload.segments.map((function(e){return e.uid})),Object.assign({},e,n);case o.AUDIO_ERROR:case o.AUDIO_EXPIRED:case o.METADATA_INVALIDATED:return(0,a.default)(e,(function(e){return(0,r.default)(e,t.payload.uid)}));default:return e}};var r=i(n(161)),a=i(n(121)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var u={}},868:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=o(n(1));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i={currentPane:o(n(101)).ON_DEMAND};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.PANE_CHANGE_DIRECT:case a.PANE_CHANGE_WITH_EXPAND:return r({},e,{currentPane:t.payload});default:return e}},getCurrentPane:function(e){return e.currentPane}}},869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(161)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(140),u=s(n(197));function s(e){return e&&e.__esModule?e:{default:e}}var l={shouldEnableContinuousListening:!0,continuousTriggerTimestamp:null,userQueue:[],continuousQueue:[]};function d(e,t){return-1!==t.indexOf(e)?t:t.concat(e)}function c(e,t){return-1!==t.indexOf(e)?t:[e].concat(t)}function f(e){return Array.isArray(e)}t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=void 0,s=void 0,p=void 0;switch(t.type){case o.STATE_LOADED:if(!t.payload.state.queue)return e;if(f(t.payload.state.queue))return r({},e,{userQueue:t.payload.state.queue});var E=t.payload,S=E.stateTime,_=E.currentTime,g=t.payload.state.queue,m=g.shouldEnableContinuousListening,y=g.userQueue,T=g.continuousQueue,v=g.continuousTriggerTimestamp;return r({},e,{shouldEnableContinuousListening:m},(0,i.isWithinContinuityPeriod)(S,_)&&{userQueue:y},(0,i.isWithinLimitedContinuityPeriod)(v,_)&&{continuousQueue:T,continuousTriggerTimestamp:v});case o.ENABLE_CONTINUOUS_LISTENING:return r({},e,{shouldEnableContinuousListening:!0,continuousTriggerTimestamp:null});case o.DISABLE_CONTINUOUS_LISTENING:return r({},e,{shouldEnableContinuousListening:!1,continuousTriggerTimestamp:null,continuousQueue:[]});case o.ADD_ONE_TO_QUEUE:case o.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST:return r({},e,{userQueue:d(t.payload,e.userQueue),continuousQueue:(0,a.default)(e.continuousQueue,t.payload)});case o.ADD_ONE_TO_TOP_OF_QUEUE:return r({},e,{userQueue:c(t.payload,e.userQueue),continuousQueue:(0,a.default)(e.continuousQueue,t.payload)});case o.ADD_MANY_TO_TOP_OF_QUEUE:n=e.userQueue.slice(),s=e.continuousQueue.slice(),p=t.payload.slice().reverse();var O=!0,A=!1,h=void 0;try{for(var I,D=p[Symbol.iterator]();!(O=(I=D.next()).done);O=!0){var P=I.value;n=c(P,n),s=(0,a.default)(s,P)}}catch(e){A=!0,h=e}finally{try{!O&&D.return&&D.return()}finally{if(A)throw h}}return r({},e,{userQueue:n,continuousQueue:s});case o.ADD_MANY_TO_QUEUE:n=e.userQueue.slice(),s=e.continuousQueue.slice();var N=!0,b=!1,R=void 0;try{for(var L,M=t.payload[Symbol.iterator]();!(N=(L=M.next()).done);N=!0){var C=L.value;n=d(C,n),s=(0,a.default)(s,C)}}catch(e){b=!0,R=e}finally{try{!N&&M.return&&M.return()}finally{if(b)throw R}}return r({},e,{userQueue:n,continuousQueue:s});case o.REMOVE_ONE_FROM_QUEUE:case o.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST:return r({},e,{userQueue:(0,a.default)(e.userQueue,t.payload),continuousQueue:(0,a.default)(e.continuousQueue,t.payload)});case o.PLAY_PAUSE_REQUESTED:case o.AUDIO_ERROR:case o.METADATA_INVALIDATED:case o.AUDIO_EXPIRED:return r({},e,{userQueue:(0,a.default)(e.userQueue,t.payload.uid),continuousQueue:(0,a.default)(e.continuousQueue,t.payload.uid)});case o.PREEMPTED_UID_QUEUED:return r({},e,{userQueue:d(t.payload,e.userQueue),continuousQueue:(0,a.default)(e.continuousQueue,t.payload)});case o.ADD_RECOMMENDED_AUDIO_TO_CONTINUOUS_QUEUE:s=e.continuousQueue.slice();var U=!0,w=!1,j=void 0;try{for(var k,G=t.payload[Symbol.iterator]();!(U=(k=G.next()).done);U=!0){var H=k.value;e.userQueue.includes(H)||(s=d(H,s))}}catch(e){w=!0,j=e}finally{try{!U&&G.return&&G.return()}finally{if(w)throw j}}return r({},e,{userQueue:e.userQueue,continuousQueue:s});case o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED:return r({},e,{continuousTriggerTimestamp:u.default.getTimestamp()});default:return e}},getUserQueue:function(e){return e.userQueue},getContinuousQueue:function(e){return e.continuousQueue},shouldEnableContinuousListening:function(e){return e.shouldEnableContinuousListening},getContinuousTriggerTimestamp:function(e){return e.continuousTriggerTimestamp}}},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSmallBreakpoint=t.isMobileDevice=void 0;var r=n(173),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20));var o=function(e){return e.player};t.isMobileDevice=(0,r.createSelector)([o],(function(e){return e.env.hasTouchSupport&&e.env.breakpoint===a.SMALL})),t.isSmallBreakpoint=(0,r.createSelector)([o],(function(e){return e.env.breakpoint===a.SMALL}))},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(1)),o=u(n(174)),i=u(n(127));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={ecosystem:o.NEWS,currentPage:i.UNKNOWN,currentHref:"",renderingForMobileNative:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.ECOSYSTEM_DETECTED:return r({},e,{ecosystem:t.payload});case a.PAGE_DETECTED:return r({},e,{currentPage:t.payload.type,currentHref:t.payload.href});case a.MOBILE_NATIVE_DETECTED:return r({},e,{renderingForMobileNative:!0});default:return e}},getCurrentPage:function(e){return e.site.currentPage}}},871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={isCurrentPageSpiking:!1,spikingPages:[],areSpikingStoriesDetermined:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SPIKING_STORIES_REQUESTED:return r({},e);case a.SPIKING_STORIES_SUCCEEDED:return r({},e,{spikingPages:t.payload});case a.SPIKING_STORIES_FAILED:return r({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});case a.SPIKING_STORY_DETECTED:return r({},e,{isCurrentPageSpiking:!0,areSpikingStoriesDetermined:!0});case a.SPIKING_STORY_NOT_DETECTED:return r({},e,{isCurrentPageSpiking:!1,areSpikingStoriesDetermined:!0});default:return e}},getIsCurrentPageSpiking:function(e){return e.spikingStories.isCurrentPageSpiking}}},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.STATE_LOADED:if(!t.payload.state.metadata)return e;var n=t.payload,r=n.stateTime,a=n.currentTime;return(0,l.isWithinContinuityPeriod)(r,a)?_(t.payload.state.metadata):e;case i.SPONSORSHIP_STARTED:return t.payload.uid in e?e:E(e,[(0,s.getNewMetadataOfType)(t.payload.uid,u.SPONSORSHIP)]);case i.METADATA_LOADED:case i.SPONSORSHIP_LOADED:return E(e,[t.payload]);case i.METADATAS_LOADED:return E(e,t.payload);case i.AGG_LOADED:return E(e,t.payload.segments);case i.NOW_PLAYING_LOADED:case i.CONTAINER_UNWRAPPED:case i.AUDIO_DURATION_CHANGE:return t.payload.uid in e?S(e,t.payload):E(e,[t.payload]);case i.METADATA_UNLOADED:return(0,o.default)(e,t.payload.uid);case i.METADATAS_UNLOADED:return(0,o.default)(e,t.payload);case i.AUDIO_ERROR:case i.AUDIO_EXPIRED:case i.METADATA_INVALIDATED:return t.payload.uid in e?S(e,{uid:t.payload.uid,available:!1,unavailableText:t.meta?t.meta.reason:""}):e;default:return e}};var r,a=n(416),o=(r=a)&&r.__esModule?r:{default:r},i=d(n(1)),u=d(n(16)),s=n(128),l=n(140);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={};function p(e){return Object.assign({},c({},e.uid,e))}function E(e,t){var n=t.map(p);return Object.assign.apply(Object,[{},e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))}function S(e,t){return Object.assign({},e,c({},t.uid,Object.assign({},e[t.uid],t)))}function _(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]),delete t[n].contentUrl);return t}},873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1],n=void 0;switch(t.type){case r.NOW_ON_STREAMS_REGISTRATION_REQUESTED:n=t.payload.uid;var i=e.hasOwnProperty(n)?e[n]+1:1;return Object.assign({},e,a({},n,i));case r.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED:if(n=t.payload.uid,!e.hasOwnProperty(n)||e[n]<=1){var u=Object.assign({},e);return delete u[n],u}return Object.assign({},e,a({},n,e[n]-1));default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={}},874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.TIMER:return Object.assign({},e,{now:t.payload.now});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var a={now:0}},875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(161),i=(r=o)&&r.__esModule?r:{default:r},u=d(n(1)),s=d(n(16)),l=d(n(132));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f={headPosition:1,content:[]},p=function(e){return Array.isArray(e)?{headPosition:1,content:e}:e};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=void 0;switch(t.type){case u.STATE_LOADED:return t.payload.state.history?p(t.payload.state.history):p(e);case u.PLAY_PAUSE_REQUESTED:var r=t.payload.uid,o=e.content[e.headPosition];return r!==o?a({},e,{headPosition:1}):e;case u.PREEMPTED_UID_REPLACED:case u.AUDIO_PLAYING_STATUS_DIRECT:return t.payload.metadata.type!==s.SEGMENT||l.PROMO_ONLY_AUDIO_LIST.includes(t.payload.metadata.uid)?e:((n=e.content.slice().filter((function(e){return e!==t.payload.metadata.uid})).slice(0,99)).unshift(t.payload.metadata.uid),a({},e,{content:n}));case u.CLEAR_HISTORY_REQUESTED:return f;case u.AUDIO_ERROR:case u.AUDIO_EXPIRED:case u.METADATA_INVALIDATED:case u.METADATA_UNLOADED:return a({},e,{headPosition:1,content:(0,i.default)(e.content,t.payload.uid)});case u.INCREMENT_AUDIO_HISTORY_HEAD:return a({},e,{headPosition:e.headPosition+1});case u.AUDIO_COMPLETE:case u.SKIP:case u.SPONSORSHIP_INTERRUPTED:return a({},e,{headPosition:1});case u.METADATAS_UNLOADED:case u.HISTORY_ITEMS_UNLOADED:return a({},e,{headPosition:1,content:i.default.apply(void 0,[e.content].concat(c(t.payload)))});default:return e}},getPlayerHistory:function(e){return p(e).content},getCurrentPlayerHistoryHeadPosition:function(e){return p(e).headPosition}}},876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1],n=void 0,s=void 0;switch(t.type){case o.STATE_LOADED:if(!t.payload.state.sponsorship)return e;var f=t.payload,p=f.stateTime,S=f.currentTime;if((0,d.isWithinContinuityPeriod)(p,S)){var _=t.payload.state.sponsorship,g=_.lastPlayedTimestamp,m=_.videoLastPlayedTimestamp,y=_.preemptedUid,T=_.isPostrollSponsorship,v=t.payload.state.sponsorship,O=v.channel,A=v.playPostrollBeforeUid;return y&&!T&&(O="",A=""),Object.assign({},e,{playPostrollBeforeUid:A,channel:O,lastPlayedTimestamp:g,videoLastPlayedTimestamp:m})}return e;case o.PREEMPTED_UID_REPLACED:return Object.assign({},e,{preemptedUid:t.payload.metadata.uid,preemptedSegmentResumePosition:t.payload.preemptedSegmentResumePosition});case o.SPONSORSHIP_REQUESTED:return Object.assign({},e,{preemptedUid:t.payload.uid,isFetchingSponsorship:!0});case o.PREROLL_ENDED:return Object.assign({},e,{preemptedUid:"",sponsorshipDiv:"",primaryThemeColor:"",secondaryThemeColor:"",isPlayingSponsorship:!1,lastPlayedTimestamp:Date.now()/1e3,fetchLeaveBehindOnly:!1,targetSiteOverride:"",loadCustomAdBackground:!1,preemptedSegmentResumePosition:""});case o.POSTROLL_ENDED:return Object.assign({},e,{channel:"",playPostrollBeforeUid:"",isPostrollSponsorship:!1,preemptedUid:"",lastPlayedTimestamp:Date.now()/1e3});case o.VIDEO_PREROLL_ENDED:return r({},e,{videoLastPlayedTimestamp:Date.now()/1e3});case o.SPONSORSHIP_DIVS_RESET:return n=t.payload.resetSponsorshipDiv?"":e.sponsorshipDiv,s=t.payload.resetLeaveBehindDiv?"":e.leaveBehindDiv,Object.assign({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:s});case o.PLAY_POSTROLL_BEFORE_UID_RESET:return Object.assign({},e,{playPostrollBeforeUid:""});case o.PLAY_POSTROLL_BEFORE_UID_SET:return Object.assign({},e,{playPostrollBeforeUid:t.payload.uid});case o.SPONSORSHIP_SLOT_AVAILABLE:return e.loadCustomAdBackground?e:Object.assign({},e,{numSlotsAvailable:e.numSlotsAvailable+1});case o.MOBILE_SPONSORSHIP_SLOT_AVAILABLE:return Object.assign({},e,{isMobileSponsorshipSlotAvailable:!0});case o.SPONSORED_CHANNEL_SET:return Object.assign({},e,{channel:t.payload});case o.SPONSORSHIP_LOADED:return Object.assign({},e,{isFetchingSponsorship:!1});case o.AUDIO_PLAYED:return t.payload.type===i.SPONSORSHIP||(0,c.isSoundscapes)(t.payload.type)?Object.assign({},e,{isPlayingSponsorship:!0}):e;case o.RESET_LAST_PLAYED_TIMESTAMP:return Object.assign({},e,{lastPlayedTimestamp:Date.now()/1e3});case o.POSTROLL_SPONSORSHIP_STARTED:return Object.assign({},e,{isPostrollSponsorship:!0,sponsorshipDiv:(0,a.constructAdSlotName)(l.PLAYER_POSTROLL,t.payload.uid),leaveBehindDiv:(0,a.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)});case o.AUDIO_COMPLETE:return Object.assign({},e,{sponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_INTERRUPTED:return s=t.payload.retainLeaveBehind?e.leaveBehindDiv:"",Object.assign({},e,{sponsorshipDiv:"",mobileSponsorshipDiv:"",leaveBehindDiv:s,isFetchingSponsorship:!1,isPlayingSponsorship:!1,isPostrollSponsorship:!1,loadCustomAdBackground:!1});case o.SPONSORSHIP_STARTED:var h="";return n="",s="",t.payload.breakpoint===u.SMALL?h=(0,a.constructAdSlotName)(l.PLAYER_MOBILE_PRIMARY,t.payload.uid):(n=(0,a.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.uid),s=(0,a.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)),Object.assign({},e,{numSlotsAvailable:0,sponsorshipDiv:n,leaveBehindDiv:s,mobileSponsorshipDiv:h,playPostrollBeforeUid:"",channel:""});case o.SOUNDSCAPES_LOADED:var I="";return t.payload.breakpoint!==u.SMALL&&(I=(0,a.constructAdSlotName)(l.PLAYER_PRIMARY,t.payload.metadata.uid)),Object.assign({},e,{primaryThemeColor:t.payload.metadata.primaryThemeColor,secondaryThemeColor:t.payload.metadata.secondaryThemeColor,sponsorshipDiv:I,loadCustomAdBackground:!0});case o.LEAVE_BEHIND_INITIALIZED:return Object.assign({},e,{leaveBehindDiv:(0,a.constructAdSlotName)(l.PLAYER_LEAVEBEHIND,t.payload.uid)});case o.INITIAL_STATE_REVERTED:return E;default:return e}};var a=n(148),o=f(n(1)),i=f(n(16)),u=f(n(20)),s=f(n(214)),l=f(n(98)),d=n(140),c=n(100);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p=Date.now()/1e3-s.SPONSORSHIP_INTERVAL,E={preemptedUid:"",preemptedSegmentResumePosition:"",numSlotsAvailable:0,isMobileSponsorshipSlotAvailable:!1,sponsorshipDiv:"",leaveBehindDiv:"",mobileSponsorshipDiv:"",isFetchingSponsorship:!1,isPlayingSponsorship:!1,isPostrollSponsorship:!1,playPostrollBeforeUid:"",channel:"",primaryThemeColor:"",secondaryThemeColor:"",loadCustomAdBackground:!1,lastPlayedTimestamp:p,videoLastPlayedTimestamp:p}},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a.STATE_LOADED:return t.payload.state.user?t.payload.state.user.org.autolocalized?Object.assign(t.payload.state.user,{org:u.org}):t.payload.state.user:e;case a.USER_VIEW_LOAD_COMPLETED:return Object.assign({},e,{view:Object.assign({},e.view,{data:t.payload,meta:Object.assign({},e.view.meta,{status:o.RESOLVED})})});case a.USER_VIEW_LOAD_FAILED:return Object.assign({},e,{view:Object.assign({},e.view,{meta:Object.assign({},e.view.meta,{status:o.FAILED})})});case a.STATION_CHANGE_COMPLETED:return Object.assign({},e,{org:Object.assign({},e.org,{id:t.payload.id,isAutoLocalized:!1,status:o.RESOLVED})});case a.STATION_AUTOLOCALIZED:return r({},e,{org:{id:t.payload.id,isAutoLocalized:!0,status:o.RESOLVED}});case a.DEFAULT_ORG_RESOLVED:return Object.assign({},e,{org:Object.assign({},e.org,{id:u.org.id,status:o.RESOLVED})});case a.ACCESS_TOKEN_RECEIVED:case a.MOBILE_NATIVE_ACCESS_TOKEN_RECEIVED:return Object.assign({},e,{oauth:Object.assign({},e.oauth,{token:t.payload.token,updateDate:t.payload.updateDate})});case a.USER_LOGOUT_COMPLETED:return Object.assign({},e,{view:u.view,oauth:u.oauth});case a.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED:case a.NEWSLETTER_ACQUISITION_REQUESTED:return r({},e,{newsletter:r({},e.newsletter,{status:o.PENDING})});case a.NEWSLETTER_ACQUISITION_COMPLETED:case a.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED:return r({},e,{newsletter:r({},e.newsletter,{status:o.RESOLVED})});case a.NEWSLETTER_ACQUISITION_FAILED:case a.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED:return r({},e,{newsletter:r({},e.newsletter,{status:o.FAILED})});case a.PAGE_DETECTED:return r({},e,{newsletter:r({},e.newsletter,{status:o.NOT_STARTED})});default:return e}};var a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={view:{meta:{status:o.PENDING},data:{version:"",href:"",attributes:{id:0,email:"",firstName:"",lastName:"",cohort:{},organizations:[],affiliations:[],country:"",password:"",verificationEmail:"",subscriptions:[]},items:[],links:{},errors:[]}},org:{id:0,isAutoLocalized:!1,status:o.PENDING},newsletter:{status:o.NOT_STARTED},oauth:{token:"",updateDate:null}}},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.STATION_DROPDOWN_TOGGLED:return Object.assign({},e,{isStationDropdownExpanded:!e.isStationDropdownExpanded});case r.USER_ACCOUNT_ACCESS_MENU_DROPDOWN_TOGGLED:case r.PAGE_DETECTED:case r.CLOSE_SUBNAVS:return Object.assign({},e,{isStationDropdownExpanded:!1});default:return e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var a={isStationDropdownExpanded:!1}},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.STATION_SEARCH_REQUESTED:return r({},e,{term:t.payload.term,status:o.PENDING});case a.STATION_SEARCH_RESULTS_LOADED:var n=t.payload,i=n.term,l=n.results;return r({},e,{status:o.RESOLVED,results:r({},e.results,u({},i,l))});case a.STATION_SEARCH_FAILED:return r({},e,{status:o.FAILED});default:return e}};var a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={term:"",status:o.NOT_STARTED,results:{}}},880:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a.STATE_LOADED:return t.payload.state.storyRecommendations?t.payload.state.storyRecommendations:e;case a.END_OF_STORY_RECOMMENDATION_REQUESTED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.PENDING,recommendations:u.endOfStory.recommendations})});case a.END_OF_STORY_RECOMMENDATION_COMPLETED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.RESOLVED,recommendations:t.payload.recommendations})});case a.END_OF_STORY_RECOMMENDATION_FAILED:return r({},e,{endOfStory:r({},e.endOfStory,{status:o.FAILED,recommendations:u.endOfStory.recommendations})});default:return e}};var a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={endOfStory:{status:o.NOT_STARTED,recommendations:[]}}},881:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(1)),o=i(n(882));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={readStoryIds:[],currentStoryId:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.STATE_LOADED:return t.payload.state.storyHistory?t.payload.state.storyHistory:e;case a.STORY_PAGE_DETECTED:var n=t.payload.storyId,i=e.readStoryIds;return r({},e,{currentStoryId:n,readStoryIds:[t.payload.storyId].concat(i.filter((function(e){return e!==t.payload.storyId}))).slice(0,o.MAX_STORY_HISTORY_SIZE)});default:return e}}}},882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_STORY_HISTORY_SIZE=500},883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.SESSION_LOADED:return r({},e,{source:t.payload.source,medium:t.payload.medium,content:t.payload.content,campaign:t.payload.campaign,term:t.payload.term,renderPlatform:t.payload.renderPlatform,userId:t.payload.userId,orgId:t.payload.orgId,preventAutoLocalization:t.payload.preventAutoLocalization});default:return e}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={source:"",medium:"",content:"",campaign:"",term:"",renderPlatform:"",userId:0,orgId:0,preventAutoLocalization:""}},884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.STATION_NETWORK_LOOKUP_REQUESTED:var n=t.payload,r=n.subtype,o=n.stationId;return a({},e,c({},r,a({},e[r],{stationId:o,status:u.PENDING})));case i.STATION_NETWORK_RESULTS_LOADED:var s=t.payload,l=s.subtype,d=s.stationId,p=s.results;return a({},e,c({},l,a({},e[l],{stationId:d,status:u.RESOLVED,results:p})));case i.STATION_NETWORK_LOOKUP_FAILED:var E=t.payload.subtype;return a({},e,c({},E,a({},e[E],{status:u.FAILED,results:[]})));default:return e}};var o,i=d(n(1)),u=d(n(28)),s=n(461),l=(o=s)&&o.__esModule?o:{default:o};function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(c(r={},l.default.SUBTYPE_YOUR_STATION,{stationId:0,status:u.NOT_STARTED,results:[]}),c(r,l.default.SUBTYPE_SEARCH,{stationId:0,status:u.NOT_STARTED,results:[]}),r)},885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.GET_LOCAL_STATIONS_REQUESTED:return r({},u,{requestStatus:o.PENDING});case a.GET_LOCAL_STATIONS_SKIPPED:return r({},u,{requestStatus:o.SKIPPED});case a.GET_LOCAL_STATIONS_SUCCEEDED:var n=t.payload;return{stations:n.stationData.map((function(e){return e.id})),localizationInfo:n.locationData,requestStatus:o.RESOLVED};case a.GET_LOCAL_STATIONS_FAILED:return r({},u,{requestStatus:o.FAILED});default:return e}};var a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={stations:[],requestStatus:o.NOT_STARTED}},886:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.HP_LOCAL_STORIES_REQUESTED:var n=t.payload;return r({},e,u({},n,{stories:[],requestStatus:o.PENDING}));case a.HP_LOCAL_STORIES_SUCCEEDED:var i=t.payload,l=i.stories,d=i.orgId;return r({},e,u({},d,{stories:l,requestStatus:o.RESOLVED}));case a.HP_LOCAL_STORIES_FAILED:var c=t.payload;return r({},e,u({},c,{stories:[],requestStatus:o.FAILED}));default:return e}};var a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={}},887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(1)),o=u(n(73)),i=n(104);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE,isDismissed:!0,globalAlertAlreadyVisibleThisPage:!1,globalAlertLastDisplayed:null,numTimesModalTriggered:{},numTimesStickybarTriggered:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.STATE_LOADED:var n=t.payload.state.globalAlerts.globalAlertLastDisplayed;return n="string"!=typeof GlobalAlertLastDisplayed?n:null,r({},e,{numTimesModalTriggered:t.payload.state.globalAlerts.numTimesModalTriggered||{},numTimesStickybarTriggered:t.payload.state.globalAlerts.numTimesStickybarTriggered||{},globalAlertLastDisplayed:n,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case a.PAGE_DETECTED:return r({},e,{isDismissed:!0,variant:o.NONE,variantIDToShowOnThisPage:o.NONE,variantTypeToShowOnThisPage:o.NONE});case a.SHOW_GLOBAL_MODAL:var u=e.numTimesModalTriggered;return e.variantIDToShowOnThisPage in u?u[e.variantIDToShowOnThisPage]+=1:u[e.variantIDToShowOnThisPage]=1,r({},e,{variant:o.MODAL,isDismissed:!1,numTimesModalTriggered:u,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case a.SHOW_GLOBAL_STICKYBAR:var l=e.numTimesStickybarTriggered;return e.variantIDToShowOnThisPage in l?l[e.variantIDToShowOnThisPage]+=1:l[e.variantIDToShowOnThisPage]=1,r({},e,{variant:o.STICKYBAR,isDismissed:!1,numTimesStickybarTriggered:l,globalAlertAlreadyVisibleThisPage:!0,globalAlertLastDisplayed:i.currentDay});case a.HIDE_GLOBAL_ALERTS:return r({},e,{isDismissed:!0,variant:o.NONE});case a.GLOBAL_ALERT_VARIATION_DETERMINED:var d=t.payload,c=d.globalAlertType,f=d.globalAlertId;return r({},e,{variantIDToShowOnThisPage:f,variantTypeToShowOnThisPage:c});default:return e}},getAlertVariant:function(e){return e.globalAlerts.variant},getAlertIsDismissed:function(e){return e.globalAlerts.isDismissed},getGlobalAlertAlreadyVisibleThisPage:function(e){return e.globalAlerts.globalAlertAlreadyVisibleThisPage},getGlobalAlertLastDisplayed:function(e){return e.globalAlerts.globalAlertLastDisplayed},getNumTimesModalTriggered:function(e,t){return e.globalAlerts.numTimesModalTriggered[t]||0},getNumTimesStickybarTriggered:function(e,t){return e.globalAlerts.numTimesStickybarTriggered[t]||0},getVariantTypeToShowOnThisPage:function(e){return e.globalAlerts.variantTypeToShowOnThisPage},getVariantIDToShowOnThisPage:function(e){return e.globalAlerts.variantIDToShowOnThisPage}}},888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(1)),o=u(n(169)),i=u(n(216));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s={centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.PAGE_DETECTED:return{centerStageVariant:o.NONE,endOfStoryVariant:i.NONE,isDFPComplete:!1,isGlobalAlertsComplete:!1,wasOnPageCalloutDeterminationRequested:!1};case a.CENTER_STAGE_AD_STATUS_DETERMINED:var n=t.payload.calloutType;return r({},e,{isDFPComplete:!0,centerStageVariant:n});case a.GLOBAL_ALERT_VARIATION_DETERMINED:return r({},e,{isGlobalAlertsComplete:!0});case a.ON_PAGE_CALLOUT_DETERMINATION_REQUESTED:return r({},e,{wasOnPageCalloutDeterminationRequested:!0});case a.ON_PAGE_CALLOUT_DETERMINATION_SUCCEEDED:var u=t.payload,l=u.centerStageVariant,d=u.endOfStoryVariant;return r({},e,{centerStageVariant:l,endOfStoryVariant:d});default:return e}},getCenterStageVariant:function(e){return e.onPageCallouts.centerStageVariant},getEndOfStoryVariant:function(e){return e.onPageCallouts.endOfStoryVariant},getIsDFPComplete:function(e){return e.onPageCallouts.isDFPComplete},getIsGlobalAlertsComplete:function(e){return e.onPageCallouts.isGlobalAlertsComplete},getWasOnPageCalloutDeterminationRequested:function(e){return e.onPageCallouts.wasOnPageCalloutDeterminationRequested}}},889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o={isHidden:!1};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.STATE_LOADED:return r({},e,{isHidden:t.payload.state.cardMessage.isHidden});case a.HP_HIDE_STATION_CARD_MESSAGE:return r({},e,{isHidden:!0});default:return e}},getCardMessageIsHidden:function(e){return e.cardMessage.isHidden}}},890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(1)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u={musicStreamsStatus:o.NOT_STARTED,musicStreams:{}};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.MUSIC_STREAMS_REQUESTED:return r({},e,{musicStreamsStatus:o.PENDING});case a.MUSIC_STREAMS_REQUEST_SUCCEEDED:return r({},e,{musicStreamsStatus:o.RESOLVED,musicStreams:t.payload});case a.MUSIC_STREAMS_STATUS_RESET:return r({},e,{musicStreamsStatus:o.NOT_STARTED});case a.MUSIC_STREAMS_REQUEST_FAILED:return r({},e,{musicStreamsStatus:o.FAILED});default:return e}},getLocalMusicStreams:function(e){return e.streams.musicStreams.localStreams},getRockMusicStreams:function(e){return e.streams.musicStreams.rockStreams},getFolkMusicStreams:function(e){return e.streams.musicStreams.folkStreams},getClassicalMusicStreams:function(e){return e.streams.musicStreams.classicalStreams},getRbMusicStreams:function(e){return e.streams.musicStreams.rbStreams},getHiphopMusicStreams:function(e){return e.streams.musicStreams.hiphopStreams},getRbHiphopMusicStreams:function(e){return e.streams.musicStreams.rbHiphopStreams},getJazzMusicStreams:function(e){return e.streams.musicStreams.jazzStreams},getMixedMusicStreams:function(e){return e.streams.musicStreams.mixedStreams},getMusicStreamsStatus:function(e){return e.streams.musicStreamsStatus}}},891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(308),u=n(325),s=(r=u)&&r.__esModule?r:{default:r};var l={amountSelection:i.DEFAULT_ONETIME_AMOUNTS[2],billingAddress:"",billingAddressLineTwo:"",cardName:"",cardCode:"",cardExpiration:"",cardNumber:"",city:"",country:"US",donorComment:"",emailAddress:"",firstName:"",isRecurring:!1,lastName:"",state:"",stationSelection:null,zipcode:"",amountSelectionErrorFlag:"",billingAddressErrorFlag:"",cardCodeErrorFlag:"",cardExpirationErrorFlag:"",cardNameErrorFlag:"",cardNumberErrorFlag:"",cityErrorFlag:"",countryErrorFlag:"",donorCommentErrorFlag:"",emailAddressErrorFlag:"",firstNameErrorFlag:"",dedicationFullNameErrorFlag:"",lastNameErrorFlag:"",notificationRecipientFullNameErrorFlag:"",notificationRecipientEmailAddressErrorFlag:"",searchQueryErrorFlag:"",stateErrorFlag:"",stationSelectionErrorFlag:"",topErrorFlag:"",zipcodeErrorFlag:"",chargeId:"",customerId:"",isUserStationLoaded:!1,defaultPaymentSetToBrowserPay:!1,defaultDonationSetToNpr:!1,formVersion:"Version A",dedicationFullName:"",dedicationText:"",initiallyLocalizedTo:null,invoiceId:"",isAllowedToDonateToNpr:!1,isAllowedToDedicate:!1,isDonatingDirectToNpr:!1,isEmailInputSelected:!1,isEmailSearchFinished:!1,isNewsletterOptin:!0,isDedication:!1,isNotUnitedStates:!1,isParticipatingStationSelected:!1,isProcessing:!1,isPristine:!0,isRadioButton:!0,isRecommendedStationsLoaded:!1,isSearchFinished:!1,isSearchInputSelected:!1,isSendNotificationGift:!1,isSingleStation:!1,isStationListEmpty:!0,isSubmitSuccessful:!1,isUsingEmail:!1,notificationRecipientFullName:"",notificationRecipientEmailAddress:"",otherAmountValue:"",participatingStations:s.default.stations,paymentIntentId:"",paymentCreatedTimestamp:"",paymentMethod:i.PAYMENT_METHOD.CREDIT_CARD,prevStations:[],prevStationSelection:null,progressBar:0,publishableKey:s.default.publishableKey,searchQuery:"",showStationPickerModal:!1,source:"",stations:[],stripeAccountID:"",whichStripePaymentButtonToShow:""};t.default={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.STATE_LOADED:var n=t.payload.state.donations.paymentCreatedTimestamp;return"number"==typeof n&&(n=n?new Date(1e3*n):null),a({},e,{paymentCreatedTimestamp:n,amountSelection:t.payload.state.donations.amountSelection,isRadioButton:t.payload.state.donations.isRadioButton,otherAmountValue:t.payload.state.donations.otherAmountValue,isRecurring:t.payload.state.donations.isRecurring,source:t.payload.state.donations.source||""});case o.SET_STATE:case o.SET_SOURCE:var r=t.payload.id;return a({},e,r);case o.SET_OTHER_AMOUNT:var u=t.payload,s=u.amountSelection,d=u.isRecurring;return a({},e,{amountSelection:s||"",isRadioButton:!!s,isRecurring:d||!1});case o.RESET_OTHER_AMOUNT:return a({},e,{amountSelection:i.DEFAULT_ONETIME_AMOUNTS[2],isRadioButton:!0});default:return e}},getLastPaymentDate:function(e){return e.donations.paymentCreatedTimestamp}}},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){0;return(0,a.createStore)(i.default,e,H)};var a=n(177),o=G(n(544)),i=G(n(21)),u=n(893),s=G(n(894)),l=n(895),d=n(896),c=n(212),f=n(897),p=n(898),E=n(899),S=n(901),_=n(902),g=n(904),m=n(906),y=n(907),T=n(910),v=n(911),O=n(915),A=n(916),h=n(919),I=n(934),D=n(937),P=n(939),N=n(940),b=n(942),R=n(943),L=n(944),M=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),C=n(945),U=n(946),w=n(213),j=n(952),k=n(955);function G(e){return e&&e.__esModule?e:{default:e}}var H=("object"===("undefined"==typeof window?"undefined":r(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionsBlacklist:[M.TIMER]}):a.compose)((0,a.applyMiddleware)(o.default,y.persistentState,u.outsideDOM,s.default,l.playlistUnwrapper,d.nowOnStreams,E.aggLoader,f.queue,S.newscast,p.history,L.paneNavigation,_.continuousListening,g.initialize,m.stateCorrection,R.playerPlatformInteractions,c.sponsorship,(0,T.metrics)(I.track),(0,T.metrics)(D.track),v.userLoader,O.stations,h.storyPage,P.dropdowns,N.localStories,b.notifyMobileNative,C.globalAlerts,U.googletag,w.onPageCallouts,j.musicStreams,A.spikingStories,k.donations))},893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outsideDOM=void 0;var r=u(n(6)),a=(u(n(93)),i(n(1))),o=i(n(20));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var s=!1;t.outsideDOM=function(e){var t=e.getState;return function(e){return function(n){var i=t(),u=e(n),l=t();s||n.type!==a.AUDIO_MODULE_MOUNTED||((0,r.default)("html").addClass("audio-modules-mounted"),s=!0);var d=(0,r.default)("html"),c=(0,r.default)(".player-wrap-inner");return d.toggleClass("has-page-engaged-player",l.player.isEngaged),!1===i.player.isExpanded&&!0===l.player.isExpanded&&l.player.env.breakpoint===o.SMALL?d.addClass("has-page-expanded-player"):!1===i.player.isExpanded&&!1===l.player.isExpanded&&d.removeClass("has-page-expanded-player"),(1===i.sponsorship.numSlotsAvailable&&2===l.sponsorship.numSlotsAvailable||n.type===a.SOUNDSCAPES_LOADED)&&c.toggleClass("is-sponsorship-mode",!0),i.sponsorship.isPlayingSponsorship&&!l.sponsorship.isPlayingSponsorship&&c.toggleClass("is-sponsorship-mode",!1),u}}}},894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(24)),a=d(n(1)),o=d(n(215)),i=l(n(7)),u=l(n(64)),s=d(n(51));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(l){if(l.type===a.COUNTRY_REQUESTED&&(0,i.default)(n(),"player.env.country")===o.PENDING){var d=(new Date).getTime();(0,u.default)(2e4,s.LEGACY_WEB_HOST+"/location/country?"+d).then((function(e){return e.json()})).then((function(e){return t(r.countryDetected(e.country))})).catch((function(){return t(r.countryDetected(o.UNKNOWN))}))}return e(l)}}}},895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playlistUnwrapper=void 0;var r=d(n(10)),a=l(n(32)),o=l(n(1)),i=n(168),u=d(n(64)),s=d(n(26));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var c={},f=function(e){return function(t){var n=t.audioUrl,o=t.uid;o&&n&&(0,i.isPlaylistUrl)(n)&&s.default.isHttps(n)&&(c[o]?e(a.containerUnwrapped(o,c[o])):(0,u.default)(2e4,"/player/playlist-decoder?filename="+encodeURIComponent(n)).then((function(e){return e.ok?Promise.resolve(e.json()):Promise.reject(new Error("Playlist decoder endpoint returned an HTTP error response"))})).then((function(t){if(!t)throw new Error("Playlist decoder endpoint returned empty response, which should not happen");s.default.isHttps(t)?(c[o]=t,e(a.containerUnwrapped(o,c[o]))):r.default.warning("Unwrapped insecure stream",t)})).catch((function(o){r.default.error(o,{audioUrl:n}),e(a.metadataInvalidated(t,{reason:"Audio temporarily unavailable"}))})))}},p=t.playlistUnwrapper=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){var a=e(r);if(r.type===o.METADATA_LOADED&&f(t)(r.payload),r.type===o.STATE_LOADED){var i=n().metadata;for(var u in i){var s=i[u];s&&f(t)(s)}}return a}}};t.default=p},896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nowOnStreams=void 0;var r=d(n(7)),a=d(n(10)),o=l(n(1)),i=l(n(32)),u=l(n(16)),s=d(n(64));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var c={},f=void 0,p=t.nowOnStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){f=t;var a=e(r);if(r.type===o.NOW_ON_STREAMS_REGISTRATION_REQUESTED){var i=r.payload.uid;if(!i||c[i])return a;var u=r.payload,s=E.bind(u);c[i]={stream:u,interval:setInterval(s,S(u))},s()}if(r.type===o.NOW_ON_STREAMS_UNREGISTRATION_REQUESTED){var l=n().nowOnStreams,d=r.payload.uid;!l.hasOwnProperty(d)&&c.hasOwnProperty(d)&&(clearInterval(c[d].interval),delete c[d])}return a}}};function E(){var e,t;switch(this.subtype){case u.STREAM_STATION:e=this.uid,t="/proxy/stationasset/v3/streams/{{streamGuid}}/programs/now".replace("{{streamGuid}}",e),(0,s.default)(2e4,t).then((function(e){return e.json()})).then((function(t){var n=(0,r.default)(t,"items[0].attributes.name");if(!n)throw new Error("Now playing information from proxy to the Stations API was empty or malformed");!function(e,t){f(i.nowPlayingLoaded(e,t))}(e,n)})).catch((function(t){return a.default.info(t.message,{uid:e})}))}}function S(e){return 6e4}t.default=p},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=void 0;var r=T(n(86)),a=T(n(93)),o=T(n(129)),i=y(n(1)),u=y(n(16)),s=y(n(101)),l=y(n(24)),d=y(n(146)),c=y(n(147)),f=y(n(170)),p=n(87),E=n(102),S=T(n(43)),_=n(21),g=n(140),m=T(n(197));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var v=[i.AUDIO_COMPLETE,i.SKIP,i.SPONSORSHIP_INTERRUPTED],O=[i.AUDIO_ERROR,i.METADATA_INVALIDATED,i.AUDIO_EXPIRED];var A=t.queue=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){var y,T,A,h,I=n(),D=e(i),P=n(),N=(0,_.getCurrentPane)(P);if(T=i.type,A=i.payload,h=P.player.currentUid,(0,a.default)(v,T)||(A&&h===A.uid||!h)&&(0,a.default)(O,T)){var b=P.sponsorship.preemptedUid,R=I.sponsorship.isPostrollSponsorship,L=I.sponsorship.isPlayingSponsorship;if(b){var M=P.metadata[b],C=I.sponsorship.preemptedSegmentResumePosition||0,U=void 0;return U=R?c.postrollEnded:c.prerollEnded,t(U(M)),t(l.audioRequested(M,{},C)),D}if(N===s.NEWSCAST&&!L){if(!(0,_.shouldEnableContinuousListening)(P))return D;t(d.paneChangeRequested(s.ON_DEMAND))}if((0,r.default)((0,_.getUserQueue)(P)))if((0,a.default)(O,i.type))t(l.initialStateReverted());else if((0,r.default)((0,_.getContinuousQueue)(P)))(0,g.isWithinLimitedContinuityPeriod)((0,_.getContinuousTriggerTimestamp)(P),m.default.getTimestamp())||!(0,_.shouldEnableContinuousListening)(P)||(y=P,S.default.isMobileNativeApp((0,E.getRenderPlatform)(y))||(0,p.isSmallBreakpoint)(y))||!function(e){return!(!e||(0,r.default)(e)||!e.uid)&&(!(!e.subtype||!e.subtype.includes("newscast"))||(!e.audioUrl||!e.audioUrl.includes("podcast")&&!e.audioUrl.includes("podtrac"))&&(!e.song&&!e.artist&&e.type!==u.SPONSORSHIP))}(i.payload)?(0,a.default)(O,i.type)&&t(l.initialStateReverted()):t(f.listeningServiceAudioRecommendationsRequested(!0));else{var w=(0,o.default)((0,_.getContinuousQueue)(P));t(l.playPauseRequested(P.metadata[w],{playedFrom:"from autoplay queue"}))}else{var j=(0,o.default)((0,_.getUserQueue)(P));t(l.playPauseRequested(P.metadata[j],{playedFrom:"from queue"}))}}return D}}};t.default=A},898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.history=void 0;var r=u(n(24)),a=u(n(1)),o=u(n(217)),i=n(21);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var s=t.history=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(u){n();var s=e(u),l=n();if(u.type===a.PREVIOUS_AUDIO_PLAY_REQUESTED){var d=l.metadata,c=(0,i.getPlayerHistory)(l)[(0,i.getCurrentPlayerHistoryHeadPosition)(l)];c&&(t(r.playPauseRequested(d[c],{playedFrom:"from history"})),t(o.incrementAudioHistoryHead()))}return s}}};t.default=s},899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggLoader=void 0;var r,a=n(10),o=(r=a)&&r.__esModule?r:{default:r},i=l(n(900)),u=l(n(1)),s=n(198);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d={};t.aggLoader=function(e){var t=e.dispatch;return function(e){return function(n){if(n.type===u.AGG_REQUESTED){var r=n.payload;d[r]?t(i.aggLoaded(r,d[r])):(0,s.getMetadataForAgg)(r).then((function(e){d[r]=e,t(i.aggLoaded(r,d[r]))})).catch((function(e){return o.default.info(e,{aggId:r})}))}return e(n)}}}},900:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggRequested=function(e){return{type:r.AGG_REQUESTED,payload:e}},t.aggLoaded=function(e,t){return{type:r.AGG_LOADED,payload:{aggId:e,segments:t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscast=void 0;var r,a=n(10),o=(r=a)&&r.__esModule?r:{default:r},i=d(n(32)),u=d(n(1)),s=n(74),l=n(21);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var c=t.newscast=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){if(r.type===u.NEWSCAST_REQUESTED){var a=r.payload.orgId;(0,s.getNewscastForOrg)(a).then((function(e){t(i.metadataLoaded(e))})).catch((function(e){return o.default.info(e,{orgId:a})}))}var d=e(r),c=n();r.type===u.STATE_LOADED&&[c.player.currentUid].concat((0,l.getConstructedQueue)(c)).map((function(e){if(e&&(0,s.isNewscastUid)(e)){var n=(0,s.getOrgIdFromNewscastUid)(e);(0,s.getNewscastForOrg)(n).then((function(e){t(i.metadataLoaded(e))})).catch((function(e){return o.default.info(e,{orgId:n})}))}}));return d}}};t.default=c},902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.continuousListening=void 0;var r=g(n(129)),a=g(n(903)),o=_(n(1)),i=_(n(35)),u=_(n(24)),s=_(n(32)),l=_(n(170)),d=_(n(132)),c=n(198),f=(n(87),n(102),n(21)),p=_(n(99)),E=n(74),S=(g(n(197)),n(140),g(n(43)),g(n(10)));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(u)}("next")}))}}var y,T,v,O=(y=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.getMetadata)(d.INTRO_AUDIO_UID);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),S.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(){return y.apply(this,arguments)}),A=(T=m(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,E.getNewscastForOrg)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),t===i.NPR&&S.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return T.apply(this,arguments)}),h=(v=m(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.getChannelRecommendationsUrl)("cleplayer"),e.prev=1,e.next=4,(0,c.getMetadataFromRemote)(t);case 4:if(!(n=e.sent)||!n.items){e.next=7;break}return e.abrupt("return",n.items.map(c.mapItemToMetadata));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),S.default.error(e.t0);case 12:return S.default.info("No audio recommendations returned for "+t),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,void 0,[[1,9]])}))),function(){return v.apply(this,arguments)});var I=t.continuousListening=function(e){var t=e.dispatch,n=e.getState;return function(e){return d=m(regeneratorRuntime.mark((function d(c){var E,S,_,g,m,y,T,v,I,D,P,N,b,R,L,M,C,U,w,j;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(n(),E=e(c),S=n(),c.type!==o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_REQUESTED){d.next=28;break}if(_=S.user,g=S.player,m=c.payload.shouldPlayIntroAudio,y=(0,f.getPlayerHistory)(S),T=[],g.abTestRemoveNewscast){d.next=19;break}return d.next=11,A(i.NPR);case 11:if((v=d.sent)&&((0,a.default)(y,2).includes(v.uid)||(t(s.metadataLoaded(v)),T.push(v.uid))),!(I=_.org.id)||i.NPR===I){d.next=19;break}return d.next=17,A(I);case 17:(D=d.sent)&&((0,a.default)(y,2).includes(D.uid)||(t(s.metadataLoaded(D)),T.push(D.uid)));case 19:return d.next=21,h();case 21:P=d.sent,t(s.metadatasLoaded(P)),N=P.map((function(e){return e.uid})),b=(0,f.getUserQueue)(S),R=N.filter((function(e){return!y.includes(e)&&!b.includes(e)})).slice(0,10),T=T.concat(R),t(l.listeningServiceAudioRecommendationsSucceeded(T,m));case 28:if(c.type!==o.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED){d.next=36;break}return L=S.metadata,M=c.payload,C=M.audioMetadataList,U=M.shouldPlayIntroAudio,t(l.addRecommendedAudioToContinuousQueue(C,p.PLAYER)),d.next=34,O();case 34:(w=d.sent)&&U?(t(s.metadataLoaded(w)),t(u.playPauseRequested(w,{playedFrom:"from autoplay queue"}))):(j=(0,r.default)(C),t(u.playPauseRequested(L[j],{playedFrom:"from autoplay queue"})));case 36:return d.abrupt("return",E);case 37:case"end":return d.stop()}}),d,void 0)}))),function(e){return d.apply(this,arguments)};var d}};t.default=I},904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=p(n(129)),o=f(n(1)),i=f(n(32)),u=f(n(326)),s=n(87),l=n(905),d=n(198),c=p(n(10));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(a,o){try{var i=t[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(u)}("next")}))}}var S,_,g=(S=E(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.getMetadata)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),c.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return S.apply(this,arguments)}),m=(_=E(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.getMetadataForAgg)(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),c.default.error(e.t0);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,void 0,[[0,6]])}))),function(e){return _.apply(this,arguments)}),y=t.initialize=function(e){var t=e.dispatch,n=e.getState;return function(e){return d=E(regeneratorRuntime.mark((function d(c){var f,p,E,S,_,y,T,v,O,A,h,I,D,P,N,b,R;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(c.type!==o.INITIALIZE_FEATURED_AUDIO_REQUESTED){d.next=15;break}return f=c.payload,p=f.featuredAudioProgramUid,E=f.featuredAudioText,S=f.featuredAudioImage,d.next=4,m(p);case 4:return _=d.sent,y=(0,a.default)(_),T=y.uid,v=new Date(y.date).toLocaleString("en-US",{timeZone:"America/New_York"}),(O=new Date).setHours(O.getHours()-12),O=O.toLocaleString("en-US",{timeZone:"America/New_York"}),d.next=13,g(T);case 13:(A=d.sent)&&v>O&&(h=[A],t(i.metadatasLoaded(h)),t(u.initializeFeaturedAudioSucceded(p,T,E,S)));case 15:return c.type===o.SESSION_LOADED&&(I=n(),(0,l.isWithinUpFirstPeriod)()&&(0,s.isMobileDevice)(I)&&(D=(0,l.getHardcodedProgramInfoUpFirst)(),P=r(D,3),N=P[0],b=P[1],R=P[2],t(u.initializeFeaturedAudioRequested(N,b,R)))),d.abrupt("return",e(c));case 18:case"end":return d.stop()}}),d,void 0)}))),function(e){return d.apply(this,arguments)};var d}};t.default=y},905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(new Date).setHours(6,15,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),a=(new Date).setHours(11,0,0,0).toLocaleString("en-US",{timeZone:"America/New_York"}),o=["510318","Today's Top Headlines In","https://media.npr.org/assets/img/2019/11/06/up-first-tile-npr-new_sq-42960829020267d0cf351b10ca4b3bb824b96ab6.jpg?s=100"];t.isWithinUpFirstPeriod=function(){var e=(new Date).getTime().toLocaleString("en-US",{timeZone:"America/New_York"}),t=0!==new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})).getDay();return e>=r&&e<=a&&t},t.getHardcodedProgramInfoUpFirst=function(){return o}},906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateCorrection=void 0;var r=c(n(7)),a=c(n(161)),o=d(n(1)),i=d(n(217)),u=d(n(32)),s=d(n(132)),l=n(21);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=t.stateCorrection=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(d){n();var c=e(d),f=n();if(d.type===o.INITIAL_STATE_CORRECTION){var p=f.metadata,E=function(e){var t=e.user,n=e.player,a=e.sponsorship,o=e.aggs,i=e.metadata,u=[],d=function(e){return e&&u.push(e)},c=(0,r.default)(t,"org.id");if(c)for(var f in i){var p=i[f];p.orgId===c&&d(p.uid)}for(var E in d(n.currentUid),d(a.preemptedUid),o)o.hasOwnProperty(E)&&o[E].map(d);return(0,l.getConstructedQueue)(e).map(d),(0,l.getPlayerHistory)(e).map(d),u.push(s.STREAM_24_HOUR_PROGRAM_UID),u}(f),S=a.default.apply(void 0,[Object.keys(p)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(E)));t(u.metadatasUnloaded(S));var _=function(e){var t=e.metadata;return(0,l.getPlayerHistory)(e).filter((function(e){return!Object.keys(t).includes(e)}))}(f);t(i.historyItemsUnloaded(_))}return c}}};t.default=f},907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.persistentState=t.STORAGE_KEY=void 0;var r=l(n(10)),a=s(n(1)),o=s(n(908)),i=(s(n(72)),l(n(43))),u=l(n(197));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var d=void 0;d=n(264).default;var c=t.STORAGE_KEY="PLAYER_STATE",f=!1,p=void 0;var E=t.persistentState=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(s){f||(f=!0,(p=d.isSupported())&&function(e){try{var t=d.get(c),n=JSON.parse(t);n&&e(o.stateLoaded(n,n.time.now,u.default.getTimestamp()))}catch(e){r.default.info(e.message)}try{var a=i.default.getSessionInfo(),s=a.source,l=a.medium,f=a.content,p=a.campaign,E=a.term,S=a.renderPlatform,_=a.userId,g=a.orgId,m=a.preventAutoLocalization;e(o.sessionLoaded(s,l,f,p,E,S,_,g,m))}catch(e){r.default.info(e.message)}}(t),t(o.stateDetectionCompleted()));var l=e(s);if(p){var E=void 0;switch(s.type){case a.TIMER:break;default:E=JSON.stringify(n()),d.set(c,E)}}return l}}};t.default=E},908:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stateLoaded=function(e,t,n){return{type:r.STATE_LOADED,payload:{state:e,stateTime:t,currentTime:n}}},t.stateDetectionCompleted=function(){return{type:r.STATE_DETECTION_COMPLETED}},t.sessionLoaded=function(e,t,n,a,o,i,u,s,l){return{type:r.SESSION_LOADED,payload:{source:e,medium:t,content:n,campaign:a,term:o,renderPlatform:i,userId:u,orgId:s,preventAutoLocalization:l}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},909:function(e,t,n){"use strict";function r(e){this.name="NotSupportedError",this.message=e||"Operation not supported",this.stack=(new Error).stack}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.default=r},910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.metrics=function(e){return function(t){var n=t.getState;return function(t){return function(r){var a=n(),o=t(r),i=n();return e(r.type,r.payload,r.meta,a,i),o}}}};t.default=r},911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userLoader=void 0;var r=f(n(7)),a=c(n(1)),o=c(n(35)),i=c(n(72)),u=f(n(126)),s=f(n(201)),l=f(n(10)),d=f(n(6));f(n(414));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p=s.default.isUserLoggedIn,E=s.default.doesUserHavePreHTTPSLogin,S=s.default.refreshThenGetUserFromIdentity,_=s.default.getUserFromIdentity,g=s.default.performAdditionalLogoutProcesses,m=s.default.dispatchOauthRefreshSuccess,y=s.default.dispatchOauthRefreshFailure,T=s.default.isValidUserStation,v=s.default.setStationsForUser,O=function(e){u.default.getForcedLocalizationStationId().then((function(t){return e(i.stationChangeRequested(t))})).catch((function(){e(i.defaultOrgResolved())}))};function A(e,t,n){var a=s.default.getAccessTokenFromCookieCredentials();a?e(i.accessTokenReceived(a,n)):p(t)||E()?e(i.userViewLoadRequested()):(e(i.userLogoutRequested()),function(e){var t=(0,r.default)(e,"org.id");return Boolean(T(t))}(t)||O(e)),function(e){(0,d.default)(document).on("npr:userViewLoadRequested",(function(){e(i.userViewLoadRequested())}))}(e)}t.userLoader=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(u){var d=e(u);if(u.type===a.STATE_DETECTION_COMPLETED){var c=n(),f=(0,r.default)(c,"user"),h=(0,r.default)(c,"time.now");A(t,f,h)}if(u.type===a.USER_VIEW_LOAD_FAILED&&t(i.userLogoutRequested()),u.type===a.USER_VIEW_LOAD_REQUESTED){var I=n(),D=(0,r.default)(I,"user"),P=(0,r.default)(D,"oauth.token"),N=(0,r.default)(D,"org.id"),b=(0,r.default)(I,"time.now");if(p(D)||E()){(p(D)?_(P,m(i)(t)(b),y(i)(t)):S(m(i)(t)(b),y(i)(t))).then((function(e){var n=(0,r.default)(e,"attributes.organizations[0].id");n&&(n=parseInt(n,10)),t(i.userViewLoadCompleted(e)),T(n)?t(i.stationChangeCompleted(n)):T(N)?t(i.stationChangeRequested(N)):O(t)})).catch((function(){t(i.userViewLoadFailed()),O(t)}))}}if(u.type===a.ACCESS_TOKEN_RECEIVED&&t(i.userViewLoadRequested()),u.type===a.USER_LOGOUT_REQUESTED&&g().then((function(){t(i.userLogoutCompleted())})).catch((function(){t(i.userLogoutCompleted())})),u.type===a.NEWSLETTER_EXTERNAL_ACQUISITION_REQUESTED){var R=u.payload,L=R.email,M=R.url,C=R.newsletterId,U=R.formData,w=R.orgId,j="";if(U&&(w==o.WBEZ||w==o.WBEZ_STATION)){var k=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(U));j=k[3][1]}fetch(M,{method:"POST",body:U}).then((function(){return t(i.newsletterExternalAcquisitionCompleted(L,C,j))})).catch((function(){return t(i.newsletterExternalAcquisitionFailed(L,C,j))}))}if(u.type===a.NEWSLETTER_ACQUISITION_REQUESTED){var G=u.payload,H=G.email,x=G.newsletterId,B=n(),F=(0,r.default)(B,"user"),W=(0,r.default)(F,"oauth.token"),V=(0,r.default)(F,"org.id"),Y=(0,r.default)(B,"time.now"),Q=(0,r.default)(F,"view.data.attributes.email");p(F)?s.default.setSubscriptionForUser(W,x,m(i)(t)(Y),y(i)(t)).then((function(){return t(i.newsletterAcquisitionCompleted(Q,x))})).catch((function(){return t(i.newsletterAcquisitionFailed(Q,x))})):s.default.webSubscribeUser(H,null,x,V).then((function(){return t(i.newsletterAcquisitionCompleted(H,x))})).catch((function(){return t(i.newsletterAcquisitionFailed(H,x))}))}if(u.type===a.NEWSLETTER_ACQUISITION_COMPLETED||u.type===a.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED){var z=n(),q=(0,r.default)(z,"user");p(q)&&t(i.userViewLoadRequested())}if(u.type===a.STATION_CHANGE_REQUESTED){var K=(0,r.default)(n(),"user.oauth.token"),X=u.payload.id;p(n().user)?v(K,[X],m(i)(t)(n().time.now),y(i)(t)).then((function(){t(i.userViewLoadRequested())})).catch((function(e){l.default.info(e,{token:K,orgId:X}),t(i.stationChangeCompleted(X))})):t(i.stationChangeCompleted(X))}if(u.type===a.SESSION_LOADED){var Z=u.payload.userId,J=u.payload.orgId,$=(0,r.default)(n(),"user.org.id");Z&&!J&&$&&s.default.webSubscribeUser(null,Z,null,$).catch((function(e){return l.default.error(e)}))}return d}}}},914:function(e,t,n){},915:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stations=t.getCurrentProgramId=t.loadStationData=t.transformStationData=void 0,t.loadLocalStations=B,t.loadNonLocalStation=F,t.init=W,t.isRequestingStationStream=V;var r=P(n(6)),a=P(n(7)),o=P(n(161)),i=P(n(86)),u=P(n(537)),s=D(n(32)),l=D(n(24)),d=D(n(546)),c=D(n(72)),f=P(n(543)),p=P(n(425)),E=D(n(1)),S=D(n(28)),_=D(n(35)),g=P(n(415)),m=D(n(16)),y=D(n(132)),T=D(n(127)),v=D(n(174)),O=P(n(126)),A=n(102),h=P(n(10)),I=P(n(43));function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}var N=O.default.getNonLocalStationData,b=O.default.getLocalStationData,R=O.default.getProgramScheduleHTML,L=O.default.getStationSearchResults,M=O.default.getStation,C=O.default.mapStationDataList,U=!1,w=!1,j=!1,k=[E.ECOSYSTEM_DETECTED,E.GET_LOCAL_STATIONS_SUCCEEDED],G=!1,H=t.transformStationData=function(e){return Object.assign({},e,{streams:e.streams.map((function(e){return e.uid}))})},x=t.loadStationData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.streams.map((function(n){n&&!t.includes(n.uid)&&e(s.metadataLoaded(n))}));var r=H(n);e(u.default.stationDataLoaded(r))}};function B(e){b().then((function(t){return t.stationData.map((function(t){return x(e)(t)})),e(u.default.getLocalStationsSucceeded(t)),t})).catch((function(t){e(u.default.getLocalStationsFailed()),h.default.info(t)}))}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var o=(0,a.default)(n,"org."+t);if(o&&o.lastUpdated&&"string"==typeof o.lastUpdated&&Date.now()-Date.parse(o.lastUpdated)<4*g.default.ONE_HOUR)return Promise.resolve(o)}var i=(0,a.default)(n,"player.currentUid");return N(t).then((function(t){return x(e,[i])(t),t})).catch((function(e){h.default.info(e,{orgId:t})}))}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(s.metadataLoaded(y.STREAM_24_HOUR_PROGRAM_METADATA));var n=I.default.getSessionInfo(),r=I.default.isMobileNativeApp(n.renderPlatform);e(r?u.default.getLocalStationsSkipped():u.default.getLocalStationsRequested());var o=(0,a.default)(t,"user.org.id");o&&M(o).then((function(t){x(e,C(t))})).catch((function(e){return h.default.info(e,{orgId:o})}));var i=O.default.getStreamStationId();i&&(i===_.NPR?e(l.addStreamToStageRequested(y.STREAM_24_HOUR_PROGRAM_METADATA)):F(e,i).then((function(t){var n=t.streams.find((function(e){return e.primary}));n&&e(l.addStreamToStageRequested(n))})).catch((function(e){h.default.info(e,i)})))}function V(e,t){return e===E.AUDIO_REQUESTED&&t&&t.type===m.STREAM&&t.subtype===m.STREAM_STATION}var Y=t.getCurrentProgramId=function(){var e=(0,r.default)("body").hasClass("program"),t="undefined"!=typeof NPR?(0,a.default)(NPR,"serverVars.program"):null;return e?t:null},Q=t.stations=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){U||r.type!==E.STATE_DETECTION_COMPLETED||(W(t,n()),U=!0),V(r.type,r.payload)&&r.payload.orgId!==_.NPR&&F(t,r.payload.orgId,n()),r.type===E.GET_LOCAL_STATIONS_REQUESTED&&B(t);var s=e(r);if(r.type===E.ECOSYSTEM_DETECTED&&(k=(0,o.default)(k,E.ECOSYSTEM_DETECTED)),r.type===E.GET_LOCAL_STATIONS_SUCCEEDED){var l=(0,a.default)(n(),"localStations.stations");k=(0,o.default)(k,E.GET_LOCAL_STATIONS_SUCCEEDED),w&&(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&(l.map((function(e){return t(p.default.hpLocalStoriesRequested(e))})),w=!1)}if(r.type===E.STATION_CHANGE_COMPLETED){var g=(0,a.default)(r.payload,"id");g&&g!==_.NPR&&(F(t,g,n()),(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&j&&(t(p.default.hpLocalStoriesRequested(g)),j=!1))}if(r.type===E.STATE_LOADED){var m=(0,a.default)(n(),"user.org.id");m&&F(t,m,n(),!0)}if(r.type===E.PROGRAM_SCHEDULE_REQUESTED||r.type===E.STATION_DATA_LOADED){var y=(0,a.default)(n(),"user.org.id");if(y){var O=Y();O&&R(y,O).then((function(e){var n=JSON.parse(JSON.stringify(e));t(d.programScheduleLoaded({orgId:y,programId:O,programSchedule:n.schedules,programTitle:n.title}))})).catch((function(e){}))}}if(r.type===E.STATION_SEARCH_REQUESTED){var I=r.payload.term,D=(0,a.default)(n(),"player.currentUid");L(I).then((function(e){e.map(x(t,[D]));var n=e.map((function(e){return e.id}));t(f.default.stationSearchResultsLoaded(I,n))})).catch((function(e){t(f.default.stationSearchFailed()),h.default.info(e,{term:I})}))}if(r.type===E.STATION_NETWORK_LOOKUP_REQUESTED){var P=n(),N=r.payload,b=N.stationId,M=N.subtype,C=(0,a.default)(P,"org."+b);if(C){var H=(0,a.default)(C,"otherStationsInNetwork")||[];if(H.length){var Q=[];H.forEach((function(e){Q.push(F(t,e,P))})),Promise.all(Q).then((function(e){t(u.default.stationNetworkResultsLoaded(b,[C].concat(e),M))})).catch((function(e){t(u.default.stationNetworkLookupFailed(M)),h.default.info(e,{stationId:b})}))}else t(u.default.stationNetworkResultsLoaded(b,[],M))}else t(u.default.stationNetworkLookupFailed(M))}if(r.type===E.PAGE_DETECTED&&(0,a.default)(NPR,"ServerConstants.shouldShowHPLocalContent",!1)&&r.payload.type===T.HOME_PAGE_NEWS){var z=(0,a.default)(n(),"user.org.id");if(z&&z!==_.NPR)t(p.default.hpLocalStoriesRequested(z));else if(j=!0,(0,a.default)(n(),"localStations.requestStatus")===S.RESOLVED)(0,a.default)(n(),"localStations.stations",[]).map((function(e){return t(p.default.hpLocalStoriesRequested(e))})),w=!1;else w=!0}if((0,i.default)(k)&&!G){G=!0;var q=n(),K=(0,a.default)(q,"user.org.id"),X=(0,a.default)(q,"localStations.stations"),Z=parseInt((0,a.default)(q,"localStations.localizationInfo.pulseCityConf"),10),J=(0,a.default)(q,"site.ecosystem"),$=X.filter((function(e){return"Show everywhere"===(0,a.default)(q,"org."+e+".localizationEligibility")}));if(J===v.NEWS){var ee=0;!K&&1===$.length&&Z>=80&&(ee=$[0]),!K&&2===$.length&&$.includes(_.WAMU)&&$.includes(_.WETA)&&(ee=_.WAMU),!K&&1===$.length&&$.includes(_.WAMU)&&(ee=_.WAMU),!K&&1===$.length&&$.includes(_.WAMU_OC)&&(ee=_.WAMU_OC),!K&&1===$.length&&$.includes(_.WBEZ)&&(ee=_.WBEZ),ee&&!(0,A.getShouldPreventAutoLocalization)(q)&&t(c.stationAutolocalized(ee))}k=[E.ECOSYSTEM_DETECTED],G=!1}return s}}};t.default=Q},916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStories=void 0;var r,a=s(n(917)),o=n(918),i=(r=o)&&r.__esModule?r:{default:r},u=s(n(1));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l=t.spikingStories=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){var r=e(n);return n.type===u.PAGE_DETECTED&&t(a.spikingStoriesRequested()),n.type===u.SPIKING_STORIES_REQUESTED&&i.default.getSpikingStories().then((function(e){t(a.spikingStoriesSucceeded(e))})).catch((function(){t(a.spikingStoriesFailed())})),n.type===u.SPIKING_STORIES_SUCCEEDED&&(NPR.serverVars&&NPR.serverVars.storyId&&n.payload.includes(NPR.serverVars.storyId)?t(a.spikingStoryDetected()):t(a.spikingStoryNotDetected())),r}}};t.default=l},917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikingStoriesRequested=function(){return{type:r.SPIKING_STORIES_REQUESTED}},t.spikingStoriesSucceeded=function(e){return{type:r.SPIKING_STORIES_SUCCEEDED,payload:e}},t.spikingStoriesFailed=function(){return{type:r.SPIKING_STORIES_FAILED}},t.spikingStoryDetected=function(){return{type:r.SPIKING_STORY_DETECTED}},t.spikingStoryNotDetected=function(){return{type:r.SPIKING_STORY_NOT_DETECTED}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(51)),o=n(64),i=(r=o)&&r.__esModule?r:{default:r};var u=a.WEB_HOST+"/proxy/spiking-stories";t.default={getSpikingStories:function(){return(0,i.default)(1e4,u,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storyPage=t.filterReadStories=void 0;var r=u(n(7)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=u(n(323)),i=u(n(920));u(n(921)),u(n(330));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.filterReadStories=function(e,t){var n=[],r=function(e){return t.indexOf(e.storyId)<0};return e.forEach((function(e){var t=e;t.recommendations=e.recommendations.filter(r),t.recommendations.length>0&&n.push(t)})),n},l=t.storyPage=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(u){var l=e(u);if(u.type===a.END_OF_STORY_RECOMMENDATION_REQUESTED){var d=u.payload.storyId,c=n(),f=(0,r.default)(c,"storyHistory"),p=(0,r.default)(f,"readStoryIds")||[];i.default.getEndOfStoryRecommendations(d,[d]).then((function(e){var n=s(e,p);t(o.default.endOfStoryRecommendationCompleted(n))})).catch((function(){t(o.default.endOfStoryRecommendationFailed())}))}return l}}};t.default=l},920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(51)),o=n(64),i=(r=o)&&r.__esModule?r:{default:r};var u=a.LEGACY_WEB_HOST+"/proxy/recommendations/endofstory";t.default={getEndOfStoryRecommendations:function(e,t){var n=u+"?storyId="+e+"&previouslyReadStoryIds="+JSON.stringify(t);return(0,i.default)(1e4,n,{method:"GET"}).then((function(e){return Promise.resolve(e.json())})).catch((function(e){return Promise.reject(e)}))}}},921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(95),o=(r=a)&&r.__esModule?r:{default:r};t.default={addMetricToCenterStageCallout:function(){var e=document.getElementsByClassName("callout--newsletter");if(e.length>0)var t=document.getElementsByName("newsletterId")[0].value,n=new Waypoint({element:e[0],handler:function(e){"down"===e&&(n.disable(),o.default.trackEvent({category:"newsletter",action:"view subscribe box",label:t,noninteraction:!0}))},offset:"bottom-in-view"})}}},922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(7)),a=u(n(162)),o=u(n(50)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(28));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){try{return void 0!==e?e.join(","):e}catch(e){return}}var l=function(){this.storyId=null,this.storyTitle=null,this.topicIds=null,this.primaryTopic=null,this.theme=null,this.programId=null,this.aggIds=null,this.tagIds=null,this.byline=null,this.contentPartnerOrg=null,this.publisherOrgId=null,this.pubDate=null,this.pageTypeId=null,this.distributedContentPartner=null,this.homePageMetrics=null,this.isLocalStationStory=null,this.localizedStation=null,this.favoriteStation=null,this.localizedStationId=null,this.userData=null,this.isRegistered=null,this.isLoggedIn=null};l.prototype.loadNprServerVarData=function(){if(void 0!==window.NPR.serverVars){var e=window.NPR.serverVars;this.storyId=e.storyId,this.storyTitle=e.title,this.topicIds=s(e.topicIds),this.primaryTopic=e.primaryTopic,this.theme=e.theme,this.programId=e.programId,this.aggIds=s(e.aggIds),this.tagIds=s(e.tagIds),this.byline=s(function(e){if(void 0!==e)return e.map((function(e){var t=e.indexOf(",");return e.substring(0,-1!==t?t:e.length)}))}(e.byline)),this.contentPartnerOrg=e.contentPartnerOrg,this.publisherOrgId=e.publisherOrgId,this.pubDate=e.pubDate,this.pageTypeId=e.pageTypeId,this.homePageMetrics=e.homePageMetrics,this.isLocalStationStory=e.isLocalStationStory}},l.prototype.loadUserData=function(){this.isLoggedIn=!0===(new a.default).getIsLoggedIn()?"true":null,this.isRegistered=this.isLoggedIn},l.prototype.createLocalStationInformationSetter=function(e,t){return function(){var n=(0,o.default)().getState(),a=(0,r.default)(n,"user.org.status"),u=(0,r.default)(n,"localStations.requestStatus"),s=t,l=(0,r.default)(n,"user.org.id"),d=(0,r.default)(n,"org"),c=(0,r.default)(d,""+l),f=(0,r.default)(n,"user.org.isAutoLocalized");if(a===i.FAILED)s.localizedStation="notlocalized",s.favoriteStation="no favorite set",s.localizedStationId="notlocalized",e(s);else if(a===i.RESOLVED&&c){var p=(0,r.default)(c,"callLetters");s.localizedStation=p,s.favoriteStation=f?"no favorite set - "+p:p,s.localizedStationId=l,e(s)}else if(a===i.RESOLVED&&!c){if((0,r.default)(n,"localStations.localizationInfo")){var E=(0,r.default)(n,"localStations.localizationInfo.pulseCityConf"),S=(0,r.default)(n,"localStations.localizationInfo.pulsePostalConf");s.localizationConfidenceInterval=E+","+S}if(u===i.RESOLVED){var _=(0,r.default)(n,"localStations.stations");if(_&&Array.isArray(_)&&_.length){var g=_.join(","),m=_.map((function(e){return(0,r.default)(d,""+e)})).map((function(e){return(0,r.default)(e,"callLetters")})).join(",");s.localizedStation="notlocalized",s.favoriteStation="no favorite set - "+m,s.localizedStationId="no favorite set - "+g,e(s)}else s.localizedStation="notlocalized",s.favoriteStation="no favorite set",s.localizedStationId="notlocalized",e(s)}else u===i.FAILED&&(s.localizedStation="notlocalized",s.favoriteStation="no favorite set",s.localizedStationId="no favorite set",e(s))}}},l.prototype.loadPageviewData=function(){var e=this;return this.loadNprServerVarData(),this.loadUserData(),new Promise((function(t){var n=void 0;new Promise((function(t){n=(0,o.default)().subscribe(e.createLocalStationInformationSetter(t,e))})).then((function(){n(),t(e)}))}))},t.default=l},923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(162),o=(r=a)&&r.__esModule?r:{default:r};var i={init:function(){!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://www.google-analytics.com/analytics.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",NPR.ServerConstants.googleAnalyticsAccount,"auto",{allowLinker:!0}),ga("require","linkid")},setCustomDimensions:function(e){ga("set",e)},eventDefault:function(e,t,n,r,a){ga("set","page",window.location.pathname),ga("send","event",e,t,n,r,{nonInteraction:!!a})},eventSocial:function(e,t,n,r){ga("send","social",e,t,n,{page:r})},trackPageview:function(e){ga("set","location",window.location.href),ga("set","&uid",(new o.default).getUserId()),ga("send","pageview",e)},eventWithCustomMetric:function(e,t,n,r,a,o){var i=o;void 0!==a&&(i.nonInteraction=!!a),ga("set","page",window.location.pathname),ga("send","event",e,t,n,r,i)},requireEcommerce:function(){ga("require","ecommerce")},ecommerceAddTransaction:function(e){ga("ecommerce:addTransaction",e)},ecommerceAddItem:function(e){ga("ecommerce:addItem",e)},ecommerceSend:function(){ga("ecommerce:send")}};t.default=i},924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(426),o=(r=a)&&r.__esModule?r:{default:r};var i={dimensions:{},formatDimensions:function(e){var t={};return Object.keys(e).filter((function(t){return e[t]})).forEach((function(n){var r=""+parseInt(n.replace("dimension",""),10);t[r]=e[n]})),t},init:function(){},setCustomDimensions:function(e){i.dimensions=i.formatDimensions(e)},eventDefault:function(e,t,n,r){o.default.sendBridgeObject(o.default.Names.gaEvent,{category:e,action:t,label:n,value:r,dimensions:i.dimensions})},eventSocial:function(e,t,n,r){},trackPageview:function(){var e="N/A";if(void 0!==window.NPR.serverVars){var t=window.NPR.serverVars;t.storyId&&t.title&&(e=t.storyId+" / "+t.title)}o.default.sendBridgeObject(o.default.Names.gaScreen,{screenName:e,dimensions:i.dimensions})},eventWithCustomMetric:function(e,t,n,r,a,u){var s=i.formatDimensions(u);o.default.sendBridgeObject(o.default.Names.gaEvent,{category:e,action:t,label:n,value:r,dimensions:s})},requireEcommerce:function(){},ecommerceAddTransaction:function(e){},ecommerceAddItem:function(e){},ecommerceSend:function(){}};t.default=i},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.onAudioStart=M,t.onAudioTogglePlay=C,t.onScrubEnd=w,t.onAddOneToQueue=j,t.onAutoplayToggleOn=k,t.onAutoplayToggleOff=G,t.onRecommendationsLoaded=H,t.onLinkClicked=x,t.onClearHistoryRequested=B,t.onAllActions=F,t.track=function(e,t,n,f,g){switch(F(e,f,g),e){case u.PLAY_PAUSE_REQUESTED:case u.SOUNDSCAPES_LOADED:y=Object.assign({},y,{type:e,payload:t,meta:n,ecosystem:g.site.ecosystem,org:g.org});break;case u.TOGGLE_PLAY:C(g,t,n);break;case u.AUDIO_PLAYED:M(g,t,n);break;case u.AUDIO_COMPLETE:!function(e,t){T="";var n=null,r={},a={};switch(t.type){case s.SPONSORSHIP:(0,E.isSoundscapes)(t.subtype)?((n=i.getSponsorMetrics("complete audio",i.getLabel(t))).value=Math.round(t.duration),a=i.getSponsorshipAudioCustomDimensions(t),r=b()):n=i.getSponsorMetrics("complete audio");break;case s.SEGMENT:a=i.getCustomDimensions(t.type,t,e.site.ecosystem,Object.assign({},y.originalMeta,{trackSponsorshipPlayedFrom:!0})),r=Object.assign({},R(),{metric3:1}),(n=i.getCommonMetrics("audio actions","complete audio",i.getLabel(t))).value=Math.round(t.duration);break;default:o.default.warning('Should not receive audio complete actions for audio type "'+t.type+'"')}L(n,r,a)}(g,t);break;case u.REWIND:U(f,g,"rewind");break;case u.FAST_FORWARD:U(f,g,"fast forward");break;case u.SKIP:!function(e){var t=i.getAudioMetadata(e);if((0,S.getConstructedQueue)(e)&&(0,S.getConstructedQueue)(e).length>0||(0,E.isSoundscapes)(t.subtype)){var n={},r={};(0,E.isSoundscapes)(t.subtype)?((n=i.getSponsorMetrics("skip audio",i.getLabel(t))).value=i.getPercentage(e.player.position,t.duration),r=i.getSponsorshipAudioCustomDimensions(t)):((n=i.getCommonMetrics("audio actions","skip audio",i.getLabel(t))).value=Math.round(e.player.position),r=i.getCustomDimensions(t.type,t,e.site.ecosystem,{})),c.default.eventWithCustomMetric(n,r)}}(g);break;case u.SET_AUDIO_PLAYER_VOLUME:!function(e,t){var n=i.getLabel(i.getAudioMetadata(e)),r=i.getCommonMetrics("audio actions","adjust volume",n);r.value=Math.round(100*t.player.volume);var a=i.getAudioMetadata(t),o=i.getCustomDimensions(a.type,a,t.site.ecosystem,{});c.default.eventWithCustomMetric(r,o)}(f,g);break;case u.PREVIOUS_AUDIO_PLAY_REQUESTED:!function(e,t){var n=i.getAudioMetadata(e),r={},a={};(0,E.isSoundscapes)(n.subtype)?((r=i.getSponsorMetrics("previous audio",i.getLabel(n))).value=i.getPercentage(t.player.position,n.duration),a=i.getSponsorshipAudioCustomDimensions(n)):((r=i.getCommonMetrics("audio actions","previous audio",i.getLabel(n))).value=Math.round(t.player.position),a=i.getCustomDimensions(n.type,n,t.site.ecosystem,{}));c.default.eventWithCustomMetric(r,a)}(f,g);break;case u.SCRUB_END:w(f,g,t);break;case u.ADD_ONE_TO_QUEUE:j(g,t);break;case u.REMOVE_ONE_FROM_QUEUE:!function(e,t){var n=i.getAudioMetadata(e,t),r=(0,S.getContinuousQueue)(e).includes(t)?"remove from autoplay queue":"remove from queue",a=i.getCommonMetrics("audio actions",r,i.getLabel(n));c.default.eventDefault(a)}(f,t);break;case u.ADD_MANY_TO_TOP_OF_QUEUE:!function(e,t){var n=null;n=t&&t.origin===d.SPONSORSHIP?i.getSponsorMetrics(t.playedFrom,t.channel):i.getCommonMetrics("audio actions","add to queue","add all items to queue");c.default.eventDefault(n)}(0,n);break;case u.ADD_MANY_TO_QUEUE:m=i.getCommonMetrics("audio actions","add to queue","add all items to queue"),c.default.eventDefault(m);break;case u.NEWSCAST_PANE_SELECTED_WITH_PLAY:!function(){var e=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(l.NEWSCAST));c.default.eventDefault(e)}();break;case u.ON_DEMAND_PANE_SELECTED_WITH_PLAY:!function(){var e=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(l.ON_DEMAND));c.default.eventDefault(e)}();break;case u.STREAMING_PANE_SELECTED_WITH_PLAY:!function(){var e=i.getCommonMetrics("player interactions","click pane",i.createPaneLabel(l.STREAMING));c.default.eventDefault(e)}();break;case u.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP:!function(e){var t=(0,_.getNewscastUidForOrg)(e),n=t&&t===(0,_.getNewscastUidForOrg)(p.NPR)?"national newscast pane":"local newscast pane",r=i.getCommonMetrics("player interactions","click pane",n);c.default.eventDefault(r)}(t);break;case u.LINK_CLICKED:x(n);break;case u.CLEAR_HISTORY_REQUESTED:B();break;case u.TIMER:!function(e,t){if(!e.player.isAudioPlaying)return;var n=t/1e3,u=i.getAudioMetadata(e);if(e.sponsorship.isPlayingSponsorship)(0,E.isSoundscapes)(u.subtype)&&(I+=n),i.shouldSendSoundscapesHeartbeat(e,P)&&(!function(e,t){o.default.info("Metrics: Soundscapes heartbeat '"+e+" Secs' at playhead '"+t.player.position+"'");var n=i.getLabel(i.getAudioMetadata(t)),a=i.getSponsorMetrics(e+" Secs",n),u=i.getSponsorshipAudioCustomDimensions(i.getAudioMetadata(t)),s=b();c.default.eventWithCustomMetric(a,r({},s,u))}(P,e),P=i.getNextSoundscapesHeartbeat(P));else{if(v+=n,(O+=n)>h&&function(e){var t=(0,a.default)(y,"payload.type"),n=t===s.STREAM?"streams":t,r={category:"audio pings",action:i.getPingNameFromTime(e),label:n},o=i.getCustomDimensions((0,a.default)(y,"payload.type"),y.payload,y.ecosystem,Object.assign({},y.originalMeta,{trackSponsorshipPlayedFrom:!0})),u=R();c.default.eventWithCustomMetric(r,Object.assign({},u,o)),h=i.getNextAudioPingTime(h)}(h),u&&u.type===s.SEGMENT)i.getPercentage(e.player.position,u.duration)>=D&&function(e,t){i.getLabel(i.getAudioMetadata(t)),i.getSegmentAudioCustomDimensions(y.payload,y.ecosystem,Object.assign({},y.originalMeta,{trackSponsorshipPlayedFrom:!0})),R();D=i.getNextPercentComplete(D)}(D,e)}}(g,t.sinceLastTick);break;case u.TOGGLE_EXPANDED:!function(e){var t=e.player.isExpanded?"expand player":"collapse player",n="";switch((0,S.getCurrentPane)(e)){case l.NEWSCAST:n="newscast pane";break;case l.ON_DEMAND:n="playlist pane";break;case l.STREAMING:n="listen live pane";break;default:n="#"}var r=i.getCommonMetrics("player interactions",t,n);c.default.eventDefault(r)}(g);break;case u.ENABLE_CONTINUOUS_LISTENING:k(g);break;case u.DISABLE_CONTINUOUS_LISTENING:G(g);break;case u.LISTENING_SERVICE_AUDIO_RECOMMENDATIONS_SUCCEEDED:H(g)}var m};var a=m(n(7)),o=m(n(10)),i=g(n(935)),u=g(n(1)),s=g(n(16)),l=g(n(101)),d=g(n(99)),c=m(n(936)),f=g(n(427)),p=g(n(35)),E=n(100),S=n(21),_=n(74);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y={},T="",v=0,O=0,A=void 0,h=i.getNextAudioPingTime(0),I=0,D=i.getNextPercentComplete(0),P=i.getNextSoundscapesHeartbeat(0);function N(){v=0,O=0,h=i.getNextAudioPingTime(0),D=i.getNextPercentComplete(0)}function b(){var e=Math.round(I);return I=0,{metric7:e=e>300?300:e}}function R(){var e=Math.round(v);e>301&&(o.default.error(new Error("activeTimeMetric exceeds 301 seconds: "+JSON.stringify({val:e,activeTimeSinceLastReport:v,activeTimeTotal:O,audioPingTime:h})),{val:e,activeTimeSinceLastReport:v,activeTimeTotal:O,audioPingTime:h}),e=300);var t=(0,a.default)(y,"payload.type")===s.STREAM?{metric4:e}:{metric5:e};return v=0,t}function L(e,t,n){Object.is(e,null)||(Object.keys(t).length>0||Object.keys(n).length>0?c.default.eventWithCustomMetric(e,Object.assign({},t,n)):c.default.eventDefault(e))}function M(e,t,n){if(t.uid!==T&&void 0!==t.type){T=t.uid;var r=null,a={},u={},l=n;switch(A=t.type,I=0,P=i.getNextSoundscapesHeartbeat(0),A){case s.SPONSORSHIP:var d=null;(0,E.isSoundscapes)(t.subtype)&&(a={metric6:1},u=i.getSponsorshipAudioCustomDimensions(t),d=i.getLabel(t),P=i.getNextSoundscapesHeartbeat(0)),r=i.getSponsorMetrics("initiate audio",d);break;case s.SEGMENT:N(),y.payload&&t.uid===y.payload.uid&&(l=y.meta,y.originalMeta=y.meta),a={metric1:1},u=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,Object.assign({},l,{trackSponsorshipPlayedFrom:!0}));break;case s.STREAM:N(),y.payload&&t.uid===y.payload.uid&&(l=y.meta,y.originalMeta=y.meta),a={metric2:1},u=i.getStreamAudioCustomDimensions(t,l);break;default:o.default.warning('Unknown audio type "'+t.type+'"')}if(A===s.STREAM||A===s.SEGMENT){var p=f.default.processFirstAudioListen();Object.keys(p).length>0&&c.default.setCustomDimensions(p)}L(r=r||i.getCommonMetrics("audio actions","initiate audio",i.getLabel(t)),a,u)}}function C(e,t,n){var r=null,a={},o=t.type===s.SPONSORSHIP,u=t.type===s.SEGMENT,d=t.type===s.STREAM,c={};if(e.player.isPlaying)if(T=t.uid,o?(0,E.isSoundscapes)(t.subtype)?((r=i.getSponsorMetrics("resume audio",i.getLabel(t))).value=i.getPercentage(e.player.position,t.duration),c=i.getSponsorshipAudioCustomDimensions(t)):r=i.getSponsorMetrics("resume audio"):r=i.getCommonMetrics("audio actions","resume audio",i.getLabel(t)),u){if(0===e.player.position)return void M(e,t,n);y.originalMeta=y.originalMeta?y.originalMeta:n,r.value=i.getPercentage(e.player.position,t.duration),c=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,{})}else d&&(y.originalMeta=y.originalMeta?y.originalMeta:n,c=i.getStreamAudioCustomDimensions(t,{}));else if(o)(0,E.isSoundscapes)(t.subtype)?((r=i.getSponsorMetrics("pause audio",i.getLabel(t))).value=i.getPercentage(e.player.position,y.payload.duration),a=b(),c=i.getSponsorshipAudioCustomDimensions(t)):r=i.getSponsorMetrics("pause audio");else{if(r=i.getCommonMetrics("audio actions","pause audio",i.getLabel(t)),u){if(i.getPlayedFrom(i.getAudioMetadata(e),n)===l.IGNORE_METRIC)return;r.value=i.getPercentage(e.player.position,t.duration),c=i.getSegmentAudioCustomDimensions(t,e.site.ecosystem,{})}else d&&(c=i.getStreamAudioCustomDimensions(t,{}));a=R()}L(r,a,c)}function U(e,t,n){var r=i.getLabel(i.getAudioMetadata(e)),a=i.getCommonMetrics("audio actions",n+" audio",r);a.value=Math.round(e.player.position);var o=i.getAudioMetadata(t),u=i.getCustomDimensions(o.type,o,t.site.ecosystem,{});c.default.eventWithCustomMetric(a,u)}function w(e,t,n){if(n&&n.duration&&n.duration>0){var r=i.getPercentage(t.player.position,n.duration);D=i.getNextPercentComplete(r)}t.sponsorship.isPlayingSponsorship&&(P=i.getNextSoundscapesHeartbeatFromPosition(t.player.position));var a={};if(e.player.isScrubbing&&!t.player.isScrubbing){var o=i.getAudioMetadata(t),u=o.duration,l=t.player.position,d=i.getLabel(o,t.org),f=i.getCommonMetrics("audio actions","scrub audio",d);o.type===s.SEGMENT?(a=i.getSegmentAudioCustomDimensions(o,t.site.ecosystem,{}),f.value=i.getPercentage(l,u)):o.type===s.SPONSORSHIP?a=(0,E.isSoundscapes)(o.subtype)?i.getSponsorshipAudioCustomDimensions(o):a:o.type===s.STREAM&&(a=i.getStreamAudioCustomDimensions(o,{})),c.default.eventWithCustomMetric(f,a)}}function j(e,t){var n=i.getAudioMetadata(e,t),r=i.getCommonMetrics("audio actions","add to queue",i.getLabel(n));c.default.eventDefault(r)}function k(e){var t=i.getAudioMetadata(e),n=t?i.getLabel(t):"player on",r=i.getCommonMetrics("audio actions","autoplay toggle on",n);c.default.eventDefault(r)}function G(e){var t=i.getAudioMetadata(e),n=t?i.getLabel(t):"player off",r=i.getCommonMetrics("audio actions","autoplay toggle off",n);c.default.eventDefault(r)}function H(e){var t=i.getAudioMetadata(e),n=i.getCommonMetrics("audio actions","autoplay experience triggered",i.getLabel(t));c.default.eventDefault(n)}function x(e){var t=i.getCommonMetrics("player interactions",e.action,e.label);c.default.eventDefault(t)}function B(){var e=i.getCommonMetrics("player interactions","clear history","history pane");c.default.eventDefault(e)}function F(e,t,n){if(e===u.STATE_LOADED||t.player.isPlaying!==n.player.isPlaying||t.player.isExpanded!==n.player.isExpanded||(0,S.getCurrentPane)(t)!==(0,S.getCurrentPane)(n)){var r=n.player.isPlaying?"active":"not active",a=i.getMetricsPlayerState(n),o=(0,S.shouldEnableContinuousListening)(n)?"autoplay on":"autoplay off";c.default.setCustomDimensions({dimension26:r+" - "+a+" - "+o})}}},935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStreamLabel=f,t.getSegmentLabel=p,t.getPercentage=function(e,t){return void 0===e?0:Math.floor(100/t*e)},t.getNextAudioPingTime=function(e){var t=void 0;t=e<30?e+15:30===e?e+30:e<300?e+60:e+300;return t},t.getNextPercentComplete=function(e){if(e>=0&&e<25)return 25;if(e>=25&&e<50)return 50;if(e>=50&&e<75)return 75},t.shouldSendSoundscapesHeartbeat=function(e,t){var n=g(e);return(0,o.isSoundscapes)(n.subtype)&&e.player.position>=t&&0!==t},t.getNextSoundscapesHeartbeat=function(e){return e+15},t.getNextSoundscapesHeartbeatFromPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 15*Math.ceil(e/15)},t.getPingNameFromTime=function(e){var t=void 0;t=e<60?Math.floor(e)+" sec ping":Math.floor(e/60)+" min ping";return t},t.getCommonMetrics=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{category:e,action:t,label:n}},t.getSponsorMetrics=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{category:"player sponsorship",action:e,label:t}},t.getPlayedFrom=E,t.getSponsorshipAudioCustomDimensions=function(e){return{dimension30:e.uid,dimension34:String(Math.round(e.duration))}},t.getSegmentAudioCustomDimensions=S,t.getStreamAudioCustomDimensions=_,t.getCustomDimensions=function(e,t,n,a){var o={};e===r.SEGMENT?o=S(t,n,a):e===r.STREAM&&(o=_(t,a));return o},t.createPaneLabel=function(e){var t=void 0;switch(e){case i.NEWSCAST:t=e.replace(/_/g," ").toLowerCase();break;case i.ON_DEMAND:t="playlist";break;case i.STREAMING:t="listen live"}return t+" pane"},t.getAudioMetadata=g,t.getLabel=m,t.getMetricsPlayerState=function(e){var t="";t=!e.player.isExpanded||!e.player.userEverInvokedPlay&&(!(0,l.getConstructedQueue)(e)||(0,l.getConstructedQueue)(e).length<1)&&e.player.env.breakpoint===u.LARGE?"collapsed":"expanded";return t};var r=d(n(16)),a=n(196),o=n(100),i=d(n(101)),u=d(n(20)),s=(d(n(174)),d(n(85))),l=n(21);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){var t=e,n="",r="",a=e.match(/^(.*)\sNewscast\s:\s([0-9:]{4,5}\s[AP]M)$/);return a&&(r=(n=s.convertTimeStringTo24Hours(a[2])).substr(0,n.indexOf(":")),t="NPR"===a[1]?"newscast-npr-"+r:"newscast-"+a[1]+"-"+r),t}function f(e){return""+(e.subtype===r.STREAM_STATION?"station-":"npr-")+(e.orgId&&1!==e.orgId?e.orgId+"-":"")+e.title}function p(e){switch(e.subtype){case r.SEGMENT_NEWSCAST:return c(e.title);case r.SEGMENT_MUSIC_BUTTON:return"music-"+e.artist.toLowerCase()+"-"+e.song.toLowerCase();default:return(0,a.getStoryIdFromUid)(e.uid)}}function E(e,t){var n=void 0;return e.channel&&t.trackSponsorshipPlayedFrom?n="from sponsored selection - "+e.channel:t&&t.playedFrom&&(n=t.playedFrom),n}function S(e,t,n){var o={},i=e.uid,u=void 0,s=void 0,l=E(e,n);switch(e.subtype){case r.SEGMENT_NEWSCAST:u=c(e.title);break;default:u=(0,a.getStoryIdFromUid)(i),s=(0,a.getMediaIdFromUid)(i)}return o.dimension28=u,o.dimension29=s,o.dimension30=e.title,o.dimension31=e.program,e.affiliation?o.dimension32=e.affiliation:e.orgId&&(o.dimension32=String(e.orgId)),o.dimension33=t?t.toLowerCase():"news",o.dimension34=String(Math.round(e.duration)),l&&(o.dimension35=l),o}function _(e,t){var n={},r=E(e,t);return n.dimension36=m(e),r&&(n.dimension35=r),n}function g(e,t){var n=t||e.player.currentUid;return e.metadata[n]}function m(e){var t="";switch(e.type){case r.SEGMENT:t=p(e);break;case r.STREAM:t=f(e);break;case r.SPONSORSHIP:t=e.uid}return t}},936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(335)),a=i(n(121)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16));function i(e){return e&&e.__esModule?e:{default:e}}var u={};function s(e){return void 0===e?"NULL":e}function l(e){return"string"==typeof e?e.toLowerCase():e}u.setCustomDimensions=function(e){e=(0,a.default)(e,(function(e){return l(e)}));var t=(0,a.default)(e,(function(e){return s(e)}));r.default.setCustomDimensions(t)},u.eventDefault=function(e){e.label=e.label===o.SEGMENT?"ondemand":e.label,r.default.eventDefault(e.category,e.action,e.label,e.value)},u.eventWithCustomMetric=function(e,t){t=(0,a.default)(t,(function(e){return l(e)}));var n=(0,a.default)(t,(function(e){return s(e)}));e.label=e.label===o.SEGMENT?"ondemand":e.label,r.default.eventWithCustomMetric(e.category,e.action,e.label,e.value,void 0,n)},t.default=u},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t,n,a,u){switch(e){case i.NEWSLETTER_ACQUISITION_COMPLETED:!function(e,t){var n=t.globalAlerts.variant===s.STICKYBAR?s.STICKYBAR:"",a=(0,r.default)(e,"newsletterId");o.default.trackEvent(o.default.defaultEventWithLabel("newsletter",("subscribe "+n).trim(),a))}(t,a);break;case i.NEWSLETTER_ACQUISITION_FAILED:!function(e,t){var n=t.globalAlerts.variant===s.STICKYBAR?s.STICKYBAR:"",a=(0,r.default)(e,"newsletterId");o.default.trackEvent(o.default.defaultEventWithLabel("newsletter",("subscribe error "+n).trim(),a))}(t,a);break;case i.NEWSLETTER_EXTERNAL_ACQUISITION_COMPLETED:!function(e){var t=(0,r.default)(e,"newsletterId"),n=(0,r.default)(e,"campaign"),a=l.default.getSessionInfo();"wbez"!==t.toLowerCase()||l.default.isMobileNativeApp(a.renderPlatform)||(window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"wbez-subscribe-success"}));"wbez"===t.toLowerCase()&&n.toLowerCase().includes("right rail")?o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe","wbez right rail")):o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe","wbez"))}(t);break;case i.NEWSLETTER_EXTERNAL_ACQUISITION_FAILED:!function(e){var t=(0,r.default)(e,"newsletterId"),n=(0,r.default)(e,"campaign");"wbez"===t.toLowerCase()&&n.toLowerCase().includes("right rail")?o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe error","wbez right rail")):o.default.trackEvent(o.default.defaultEventWithLabel("newsletter","subscribe error","wbez"))}(t);break;case i.SOUNDSCAPES_BANNER_CLICKED:!function(e){var t=(0,r.default)(e,"uid");o.default.trackEvent(o.default.defaultEventWithLabel("player sponsorship","click banner",t))}(t);break;case i.STATION_SEARCH_RESULTS_LOADED:!function(e,t){var n=(0,r.default)(e,"term"),a=(0,r.default)(e,"results").map((function(e){return t.org[e]?t.org[e].callLetters:void 0})).filter((function(e){return e}));n&&5===n.length&&o.default.trackEvent(o.default.defaultEventWithLabel("donation portal","zip selection",JSON.stringify(a)))}(t,u);break;case i.HIDE_GLOBAL_ALERTS:!function(e,t,n){if(n.globalAlerts.variant===s.MODAL){var r=p(t);r.includes("donation")&&o.default.trackEvent({category:r.includes("donation")?r+" "+s.MODAL:s.MODAL,action:e||"close box",label:r.includes("donation")?E(t):r})}}(t,u,a);break;case i.SHOW_GLOBAL_MODAL:!function(e,t){var n=p(t);n.includes("donation")&&o.default.trackEvent({category:n.includes("donation")?n+" "+s.MODAL:s.MODAL,action:"view box",label:n.includes("donation")?E(t):n,noninteraction:!0})}(0,u);break;case i.SHOW_GLOBAL_STICKYBAR:break;case i.HP_HIDE_STATION_CARD_MESSAGE:!function(e,t){var n=E(t);t.cardMessage.isHidden&&o.default.trackEvent(o.default.defaultEventWithLabel("card message","hide message",n))}(0,u)}};var r=f(n(7)),a=n(21),o=f(n(95)),i=c(n(1)),u=c(n(28)),s=c(n(73)),l=f(n(43)),d=(n(130),n(171));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=(0,d.getModalInfo)(),n=(0,d.getModalEmbedInfo)(),r=(0,a.getVariantIDToShowOnThisPage)(e);return r in t||r in n?r.toLowerCase().replace(/\d+|\//g,"").trim():"none"}function E(e){var t=null;if((0,r.default)(e.user,"org.status")!==u.PENDING){var n=(0,r.default)(e.user,"org.id");if((t=e.org[n])&&t.callLetters)return t.callLetters;var a=(0,r.default)(e,"localStations.stations");if(a&&a.length>0){var o=[];return a.forEach((function(t){e.org[t]&&e.org[t].callLetters&&o.push(e.org[t].callLetters)})),"Not localized - "+o.join(", ")}return"Not localized - no nearby stations"}return"Not localized"}},938:function(e,t,n){},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropdowns=void 0;var r,a=n(6),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(208));var u=!1;t.dropdowns=function(e){e.getState;var t=e.dispatch;return function(e){return function(n){var r=e(n);return!1===u&&(u=!0,function(e){(0,o.default)(document).on("npr:dropdownOpened",(function(){e(i.closeStationSubnavs())}))}(t)),r}}}},940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStories=void 0;var r=l(n(425)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=l(n(126)),i=l(n(941)),u=l(n(331)),s=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var d=o.default.getHPLocalStoriesForStation,c=t.localStories=function(e){var t=e.dispatch;return function(e){return function(n){var o=e(n);if(n.type===a.HP_LOCAL_STORIES_REQUESTED){var l=n.payload;l&&u.default.find((function(e){return e===l}))?d(l).then((function(e){t(r.default.hpLocalStoriesSucceeded(l,e)),i.default.setCustomDimensions({dimension42:e.length.toString()})})).catch((function(e){s.default.error(e),t(r.default.hpLocalStoriesFailed(l))})):l?(s.default.info("This org Id "+l+" is not eligible for local stories"),t(r.default.hpLocalStoriesFailed(l))):(s.default.error("Invalid org Id "+l+" passed to hpLocalStoriesRequested."),t(r.default.hpLocalStoriesFailed(l)))}return o}}};t.default=c},941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(121),o=(r=a)&&r.__esModule?r:{default:r};t.default={setCustomDimensions:function(e){var t=(0,o.default)(e,(function(e){return"string"==typeof(t=e)?t.toLowerCase():t;var t}));t=(0,o.default)(t,(function(e){return void 0===(t=e)?"NULL":t;var t})),"undefined"!=typeof ga&&ga("set",t)}}},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyMobileNative=void 0;var r=i(n(7)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=i(n(426));function i(e){return e&&e.__esModule?e:{default:e}}t.notifyMobileNative=function(){return function(e){return function(t){switch(t.type){case a.METADATAS_LOADED:if(!t.payload||!Array.isArray(t.payload))break;o.default.sendBridgeObject(o.default.Names.pageLoaded,t.payload.map((function(e){return e.uid})));break;case a.MOBILE_NATIVE_PLAY_PAUSE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.audioButtonPressed,(0,r.default)(t,"payload"));break;case a.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED:o.default.sendBridgeObject(o.default.Names.playlistButtonPressed,(0,r.default)(t,"payload"))}return e(t)}}}},943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerPlatformInteractions=void 0;l(n(7));var r=s(n(24)),a=s(n(1)),o=s(n(97)),i=n(102),u=l(n(43));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}t.playerPlatformInteractions=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(s){var l=n(),d=u.default.isMobileNativeApp((0,i.getRenderPlatform)(l)),c=s.payload,f=s.meta;switch(s.type){case a.PLAY_PAUSE_BUTTON_PRESSED:t(d?r.mobileNativePlayPausePressed(c.uid):r.playPauseRequested(c,f));break;case a.QUEUE_BUTTON_PRESSED:t(d?o.mobileNativeQueueButtonPressed(c):o.addOneToQueue(c,f))}return e(s)}}}},944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paneNavigation=void 0;var r=y(n(129)),a=y(n(86)),o=y(n(10)),i=m(n(1)),u=m(n(24)),s=m(n(32)),l=m(n(101)),d=m(n(16)),c=m(n(128)),f=n(74),p=m(n(132)),E=m(n(35)),S=m(n(20)),_=n(21),g=m(n(146));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var T=function(e,t,n,r,a){t===l.NEWSCAST?e.type===d.STREAM?n(g.paneChangeWithExpand(l.STREAMING)):n(g.paneChangeWithExpand(l.ON_DEMAND)):e.subtype!==d.SEGMENT_NEWSCAST&&(a!==S.SMALL||r?function(e,t,n){t.type===d.STREAM&&n!==l.STREAMING&&e(g.paneChangeWithExpand(l.STREAMING)),t.type!==d.STREAM&&n!==l.ON_DEMAND&&e(g.paneChangeWithExpand(l.ON_DEMAND))}(n,e,t):function(e,t,n){t.type===d.STREAM&&n!==l.STREAMING&&e(g.paneChangeDirect(l.STREAMING)),t.type!==d.STREAM&&n!==l.ON_DEMAND&&e(g.paneChangeDirect(l.ON_DEMAND))}(n,e,t))},v=function(e,t,n,r,a,o){if(e&&c.getMetadataTypeForUid(a,e)===d.STREAM)return t;var i=n.org.id;if(i&&i!==E.NPR){var u=r[i];if(u&&u.streams)return u.streams.map((function(e){return a[e]})).find((function(e){return e.primary}))}return 0===o.stations.length?p.STREAM_24_HOUR_PROGRAM_METADATA:void 0},O=function(e,t,n,r){return e&&c.getMetadataTypeForUid(r,e)===d.SEGMENT?t:n?r[n]:void 0},A=function(e,t,n,r){return!0===e.isPlaying&&t&&!(0,a.default)(n)&&c.getMetadataTypeForUid(r,t)===d.STREAM},h=function(e,t,n){return!0===e.isPlaying&&t&&c.getMetadataTypeForUid(n,t)===d.SEGMENT},I=t.paneNavigation=function(e){var t=e.dispatch,n=e.getState;return function(e){return d=regeneratorRuntime.mark((function d(c){var p,m,y,I,D,P,N,b,R,L,M,C,U,w,j,k,G,H,x,B,F,W;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return p=n(),m=e(c),y=n(),I=y.player,D=y.metadata,P=y.user,N=y.org,b=y.localStations,R=(0,_.getConstructedQueue)(y),L=(0,r.default)(R),M=I.currentUid,C=D[M],U=(0,_.getCurrentPane)(y),c.type===i.ON_DEMAND_PANE_SELECTED_WITH_PLAY&&(w=void 0,A(I,M,L,D)?(t(u.togglePlay(C,{playedFrom:"from pane playlist"})),w=O(M,C,L,D)):!1===I.isPlaying&&(w=O(M,C,L,D)),(0,a.default)(w)?t(g.paneChangeWithExpand(l.ON_DEMAND)):t(u.playPauseRequested(w,{playedFrom:"from pane playlist"}))),c.type===i.STREAMING_PANE_SELECTED_WITH_PLAY&&(j=void 0,h(I,M,D)?(j=v(M,C,P,N,D,b),(0,a.default)(j)||t(u.togglePlay(C,{playedFrom:l.IGNORE_METRIC}))):!1===I.isPlaying&&(j=v(M,C,P,N,D,b)),(0,a.default)(j)?t(g.paneChangeWithExpand(l.STREAMING)):t(u.playPauseRequested(j,{playedFrom:"from pane listen live"}))),c.type===i.NEWSCAST_PANE_SELECTED_WITH_PLAY&&(k=(0,f.getNewscastUidForOrg)(E.NPR),(G=D[k])?(!1===I.isPlaying&&t(u.playPauseRequested(G,{playedFrom:"from pane newscast"})),t(g.paneChangeWithExpand(l.NEWSCAST))):(0,f.getNewscastForOrg)(E.NPR).then((function(e){t(s.metadataLoaded(e)),!1===I.isPlaying&&t(u.playPauseRequested(e,{playedFrom:"from pane newscast"})),t(g.paneChangeWithExpand(l.NEWSCAST))})).catch((function(e){o.default.info(e,{orgId:E.NPR}),t(g.paneChangeWithExpand(l.NEWSCAST))}))),c.type===i.NEWSCAST_PANE_SELECTED_WITH_PLAY_SMALL_BP&&(H=c.payload,(0,f.isValidStationOrg)(P.org.id)||U===l.STREAMING?(x=D[(0,f.getNewscastUidForOrg)(H)],B=parseInt(H,10)===E.NPR?"from pane national newscast":"from pane local newscast",x?t(u.playPauseRequested(x,{playedFrom:B})):(0,f.getNewscastForOrg)(H).then((function(e){t(s.metadataLoaded(e)),t(u.playPauseRequested(e,{playedFrom:B}))})).catch((function(e){return o.default.info(e,{orgId:H})}))):t(g.paneChangeWithExpand(l.STREAMING))),c.type===i.TOGGLE_PLAY&&(F=c.payload,p.player.isPlaying||T(F,U,t,I.env.isExpanded,I.env.breakpoint)),c.type===i.NEW_PLAY_REQUESTED&&(W=c.payload,T(W,U,t,I.env.isExpanded,I.env.breakpoint),I.env.breakpoint===S.SMALL&&t(g.collapsePane())),d.abrupt("return",m);case 16:case"end":return d.stop()}}),d,void 0)})),c=function(){var e=d.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(u)}("next")}))},function(e){return c.apply(this,arguments)};var d,c}};t.default=I},945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalAlerts=void 0;T(n(6)),T(n(7));var r=y(n(1)),a=y(n(73)),o=y(n(28)),i=n(167),u=n(21),s=n(102),l=n(332),d=T(n(43)),c=n(87),f=n(171),p=n(130),E=T(n(126)),S=n(266),_=T(n(548)),g=n(104),m=n(20);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var v=!1,O=function(e){var t=(0,u.getLastPaymentDate)(e);return!!t&&g.currentDay<(0,_.default)(t).add(30,"days").toISOString()},A=t.globalAlerts=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(_){var y=n(),T=e(_),A=n();if(_.type===r.PAGE_DETECTED&&(v=!1),_.type!==r.GET_LOCAL_STATIONS_SUCCEEDED&&_.type!==r.GET_LOCAL_STATIONS_FAILED&&_.type!==r.GET_LOCAL_STATIONS_SKIPPED&&_.type!==r.SPIKING_STORIES_FAILED&&_.type!==r.SPIKING_STORY_NOT_DETECTED&&_.type!==r.SPIKING_STORY_DETECTED||v||!0!==A.spikingStories.areSpikingStoriesDetermined||A.localStations.requestStatus===o.NOT_STARTED||A.localStations.requestStatus===o.PENDING||(!function(e,t,n){var r=(0,l.getIsGlobalAlertLastSeenToday)(n),o=(0,g.isBlockListed)(n.site.currentHref),c=new URLSearchParams(window.location.search),_=1===parseInt(c.get("hideAlerts"),10),y=d.default.isMobileNativeApp((0,s.getRenderPlatform)(n)),T=!1;if(!(r||o||_||y)){var v=(0,p.getStickybarMaxSees)(),A=(0,p.getStickyBarPlusInfo)();for(var h in A){var I=(0,u.getNumTimesStickybarTriggered)(n,h),D=(0,p.isOnStickybarPage)(n,A[h]);if((0,g.isWithinThisGlobalAlertPeriod)(A[h])&&I<v&&D){e((0,i.globalAlertVariationDetermined)(a.STICKYBAR,h)),T=!0;break}}if(!T){var P=(0,p.getStickybarNewsletterInfo)(),N=t.user.view.data.attributes.subscriptions;for(var b in P){var R=(0,u.getNumTimesStickybarTriggered)(n,b),L=(0,p.isOnStickybarPage)(n,P[b]),M=(0,g.isWithinThisGlobalAlertPeriod)(P[b]),C=P[b].newsletterInfo===(0,p.getStickybarUsePageNewsletter)(),U=!1;!document.getElementById("newsletter-acquisition-callout-data")&&C&&(U=!0);var w=-1!==N.indexOf(P[b].newsletterInfo.newsletterID);if(M&&!w&&R<v&&L&&!U){e((0,i.globalAlertVariationDetermined)(a.STICKYBAR,b)),T=!0;break}}}if(!T&&(0,S.isEligibleForEmbeddedDonation)(n)&&!(0,S.isBlockListedForDonation)()){var j=(0,p.getStickybarEmbeddedDonationInfo)();for(var k in j){var G=(0,u.getNumTimesStickybarTriggered)(n,k),H=(0,p.isOnStickybarPage)(n,j[k]);if((0,g.isWithinThisGlobalAlertPeriod)(j[k])&&G<v&&!O(n)&&H){e((0,i.globalAlertVariationDetermined)(a.STICKYBAR,k)),e((0,i.showGlobalStickybar)()),T=!0;break}}}if(!T&&!(0,S.isBlockListedForDonation)()){var x=(0,p.getStickybarDonationInfo)();for(var B in x){var F=(0,u.getNumTimesStickybarTriggered)(n,B),W=(0,p.isOnStickybarPage)(n,x[B]);if((0,g.isWithinThisGlobalAlertPeriod)(x[B])&&F<v&&!O(n)&&(!E.default.getStreamStationId()||n.player.env.breakpoint!==m.SMALL)&&W){e((0,i.globalAlertVariationDetermined)(a.STICKYBAR,B)),T=!0;break}}}if(!T){var V=(0,p.getStickybarGenericInfo)();for(var Y in V){var Q=(0,u.getNumTimesStickybarTriggered)(n,Y),z=(0,p.isOnStickybarPage)(n,V[Y]);if((0,g.isWithinThisGlobalAlertPeriod)(V[Y])&&Q<v&&z){e((0,i.globalAlertVariationDetermined)(a.STICKYBAR,Y)),T=!0;break}}}if(!T&&(0,S.isEligibleForEmbeddedDonation)(n)&&!(0,S.isBlockListedForDonation)()){var q=(0,f.getModalEmbedInfo)(n),K=(0,f.getModalMaxSees)();for(var X in q){var Z=(0,u.getNumTimesModalTriggered)(n,X),J=(0,g.isWithinThisGlobalAlertPeriod)(q[X]);if(Z<K&&!O(n)&&(!E.default.getStreamStationId()||n.player.env.breakpoint!==m.SMALL)&&J){e((0,i.globalAlertVariationDetermined)(a.MODAL,X)),e((0,i.showGlobalModal)()),T=!0;break}}}if(!T&&!(0,S.isBlockListedForDonation)()){var $=(0,f.getModalInfo)(n),ee=(0,f.getModalMaxSees)();for(var te in $){var ne=(0,u.getNumTimesModalTriggered)(n,te),re=(0,g.isWithinThisGlobalAlertPeriod)($[te]);if(ne<ee&&!O(n)&&re){e((0,i.globalAlertVariationDetermined)(a.MODAL,te)),T=!0;break}}}}T||e((0,i.globalAlertVariationDetermined)(a.NONE,a.NONE))}(t,y,A),v=!0),_.type===r.CHECK_GLOBAL_ALERTS){var h=!1,I=1500,D=_.payload;(0,c.isMobileDevice)(A)&&(I=1e3);var P=document.body.offsetHeight-window.innerHeight,N=(0,p.getStickyBarPlusInfo)();for(var b in N)if((0,p.isOnStickybarPage)(A,N[b])&&P<1500){I=(0,c.isMobileDevice)(A)?.4*P:.6*P;break}D>=I&&(h=!0);var R=(0,u.getAlertVariant)(A),L=(0,u.getGlobalAlertAlreadyVisibleThisPage)(A);if(h&&R===a.NONE&&!L){var M=(0,u.getVariantIDToShowOnThisPage)(A),C=(0,u.getVariantTypeToShowOnThisPage)(A);if(C===a.MODAL)t((0,i.showGlobalModal)());else if(C===a.STICKYBAR){var U=(0,p.getStickybarNewsletterInfo)(),w=(0,p.getStickybarDonationInfo)(),j=(0,p.getStickybarGenericInfo)();(M in N||M in U||M in w||M in j)&&t((0,i.showGlobalStickybar)())}}}return T}}};t.default=A},946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googletag=void 0;var r=i(n(1)),a=i(n(176)),o=i(n(28));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=!1,s=t.googletag=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){t();var i=e(n),s=t();return n.type===r.PAGE_DETECTED&&(u=!1,s.localStations.requestStatus!==o.PENDING&&(u=!0,a.sendPageView())),n.type!==r.GET_LOCAL_STATIONS_SUCCEEDED&&n.type!==r.GET_LOCAL_STATIONS_FAILED&&n.type!==r.GET_LOCAL_STATIONS_SKIPPED||u||s.localStations.requestStatus===o.PENDING||(u=!0,a.sendPageView()),i}}};t.default=s},947:function(e,t,n){"use strict";function r(e){return"string"==typeof e?e.replace(",",""):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getAuthors:function(){return void 0!==NPR.serverVars.byline&&null!==NPR.serverVars.byline&&NPR.serverVars.byline.constructor===Array?NPR.serverVars.byline.map(r).join(","):""},getSections:function(){var e=[];return void 0!==NPR.serverVars.topics&&null!==NPR.serverVars.topics&&(e=e.concat(NPR.serverVars.topics)),void 0!==NPR.serverVars.programId&&null!==NPR.serverVars.programId&&e.push(NPR.serverVars.programId),void 0!==NPR.serverVars.blog&&null!==NPR.serverVars.blog&&(e=e.concat(NPR.serverVars.blog)),void 0!==NPR.serverVars.exposedCollections&&null!==NPR.serverVars.exposedCollections&&(e=e.concat(NPR.serverVars.exposedCollections)),e?e.map(r).join(","):""}}},948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(7)),a=u(n(162)),o=u(n(50)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(28));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){try{return void 0!==e?e.join(","):e}catch(e){return}}var l=function(){this.storyId=null,this.storyTitle=null,this.topicIds=null,this.primaryTopic=null,this.theme=null,this.programId=null,this.aggIds=null,this.tagIds=null,this.byline=null,this.contentPartnerOrg=null,this.publisherOrgId=null,this.pubDate=null,this.pageTypeId=null,this.distributedContentPartner=null,this.homePageMetrics=null,this.isLocalStationStory=null,this.localizedStation=null,this.favoriteStation=null,this.localizedStationId=null,this.userData=null,this.isRegistered=null,this.isLoggedIn=null};l.prototype.gtmLoadNprServerVarData=function(){if(void 0!==window.NPR.serverVars){var e=window.NPR.serverVars;this.storyId=e.storyId,this.storyTitle=e.title,this.topicIds=s(e.topicIds),this.primaryTopic=e.primaryTopic,this.theme=e.theme,this.programId=e.programId,this.aggIds=s(e.aggIds),this.tagIds=s(e.tagIds),this.byline=s(function(e){if(void 0!==e)return e.map((function(e){var t=e.indexOf(",");return e.substring(0,-1!==t?t:e.length)}))}(e.byline)),this.contentPartnerOrg=e.gtmContentPartnerOrg,this.publisherOrgId=e.publisherOrgId,this.pubDate=e.pubDate,this.pageTypeId=e.pageTypeId,this.homePageMetrics=e.homePageMetrics}},l.prototype.loadUserData=function(){this.isLoggedIn=!0===(new a.default).getIsLoggedIn()?"true":null,this.isRegistered=this.isLoggedIn},l.prototype.createLocalStationInformationSetter=function(e,t){return function(){var n=(0,o.default)().getState(),a=(0,r.default)(n,"user.org.status"),u=t,s=(0,r.default)(n,"user.org.id"),l=(0,r.default)(n,"org"),d=(0,r.default)(l,""+s);if(a===i.FAILED)u.localizedStationId="notlocalized",e(u);else if(a===i.RESOLVED)if(d){var c=(0,r.default)(d,"callLetters");u.localizedStationId=s.toString()+" | "+c,e(u)}else u.localizedStationId="notlocalized",e(u)}},l.prototype.loadPageviewData=function(){var e=this;return this.gtmLoadNprServerVarData(),this.loadUserData(),new Promise((function(t){var n=void 0;new Promise((function(t){n=(0,o.default)().subscribe(e.createLocalStationInformationSetter(t,e))})).then((function(){n(),t(e)}))}))},t.default=l},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(6)),a=u(n(121)),o=(u(n(264)),u(n(26)),u(n(428))),i=n(85);u(n(162));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return"string"==typeof e?e.toLowerCase():e}function l(){var e=new Date;return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)}t.default={buildPageviewCustomDimensions:function(e){var t={dimension1:void 0,dimension2:void 0,dimension3:void 0,dimension4:void 0,dimension5:void 0,dimension6:void 0,dimension7:void 0,dimension8:void 0,dimension9:void 0,dimension10:void 0,dimension11:void 0,dimension12:void 0,dimension16:void 0,dimension17:void 0,dimension18:void 0,dimension20:void 0,dimension21:void 0,dimension22:void 0,dimension23:void 0,dimension24:void 0,dimension25:void 0,dimension26:void 0,dimension27:void 0,dimension28:void 0,dimension29:void 0,dimension30:void 0,dimension31:void 0,dimension32:void 0,dimension33:void 0,dimension34:void 0,dimension35:void 0,dimension36:void 0,dimension37:void 0,dimension38:void 0},n={dimension1:void 0,dimension2:void 0,dimension3:void 0,dimension4:void 0},u=(l(),"undefined"!==e.pageTypeId?e.pageTypeId:""),d=parseInt(u,10);return t.dimension1=e.aggIds,t.dimension2=(!!document.querySelector(".is-DACS-only")).toString(),t.dimension3=e.pageTypeId,t.dimension4=e.localizedStationId,t.dimension5=e.topicIds,t.dimension11=e.programId,t.dimension17="ontouchstart"in document.documentElement?"Touch":"Traditional",t.dimension18=90===window.orientation||-90===window.orientation?"landscape":"portrait",t.dimension21="page_view",n.dimension3=s((0,i.getTimezone)()),(0,r.default)(".has-expanded-engaged-player").length>0?t.dimension16="active":t.dimension16="not active - collapsed",[o.default.WEB_FEATURES,o.default.PODCAST_EPISODE].includes(d)&&(t.dimension6=e.storyId,t.dimension7=e.byline,t.dimension8=e.pubDate,t.dimension9=e.storyTitle,t.dimension10=e.contentPartnerOrg),e.homePageMetrics&&(t.dimension20=e.homePageMetrics),[t=(0,a.default)(t,(function(e){return s(e)})),n]},getFormattedCurrDate:l}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=c(n(6)),o=c(n(327)),i=(c(n(7)),c(n(50)),c(n(10))),u=c(n(23)),s=c(n(922)),l=c(n(335)),d=c(n(427));(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n(329)),c(n(26));function c(e){return e&&e.__esModule?e:{default:e}}var f={EVENT_TYPE_DEFAULT:"defaultEvent",EVENT_TYPE_SOCIAL:"socialEvent",EVENT_TYPE_CUSTOM:"customEvent",Scopes:{Visitor:1,Session:2,Page:3},AUDIO_ACTIONS:["play audio","play full episode","play station stream"]},p=u.default.create();function E(e,t){return{type:f.EVENT_TYPE_SOCIAL,network:e,action:t}}function S(e,t){return{category:e,action:t}}function _(e){var t=(0,a.default)(e),n=t.data("metrics");if("object"!==(void 0===n?"undefined":r(n))&&(n={}),!n.category){var o=t.data("metrics-category");if(o)n.category=o;else{var i=t.parents("[data-metrics-category]");i.length>0&&(n.category=i.data("metrics-category"))}}if(!n.action){var u=t.data("metrics-action");if(u)n.action=u.toLowerCase();else{var s=t.parents("[data-metrics-action]");s.length>0&&(n.action=s.data("metrics-action").toLowerCase())}}if(!n.label){var l=t.data("metrics-label");l?n.label=l:(n.label=t.attr("href"),n.label||(n.label=t.attr("src")))}return n}function g(e){if(void 0!==e.action&&(n=e.action,-1!==f.AUDIO_ACTIONS.indexOf(n.toLowerCase()))){var t=d.default.processFirstAudioListen();a.default.isEmptyObject(t)||l.default.setCustomDimensions(t)}var n,r=e.type||f.EVENT_TYPE_DEFAULT;r===f.EVENT_TYPE_SOCIAL?void 0!==e.network&&void 0!==e.action&&l.default.eventSocial(e.network,e.action,e.target,e.pagePath):r===f.EVENT_TYPE_DEFAULT?void 0!==e.category&&void 0!==e.action&&l.default.eventDefault(e.category,e.action,e.label,e.value,e.noninteraction):r===f.EVENT_TYPE_CUSTOM?void 0!==e.category&&void 0!==e.action&&"undefined"!==e.customDimensions&&l.default.eventWithCustomMetric(e.category,e.action,e.label,e.value,e.noninteraction,e.customDimensions):i.default.warning("Unexpected event type received: "+r)}p.name="metrics",f.REGISTER=E("NPR Site","Register"),f.NEWSLETTER_UPSELL=E("NPR Site","Subscribe to Newsletter (Upsell)"),f.REGISTER_CONFIRMATION=E("NPR Site","Register (Confirmation)"),f.PROGRAM_DRAWER=S("Drawer Open","Program"),f.LISTEN_DRAWER=S("Drawer Open","Listen"),p.init=function(){l.default.injectAnalytics()};var m=void 0,y=[];function T(){var e=window.location.pathname;document.location.href.indexOf("refresh=true")>0?g({category:e,action:"refresh"}):l.default.trackPageview(e)}function v(){g(_(this))}function O(){var e=_(this);e.action="Play Video",g(e)}function A(){var e=_(this);e.action="Pause Video",g(e)}function h(){var e=Math.round(this.currentTime),t=void 0;e%60==0&&(this.metrics_index||0)<e/60&&(this.metrics_index=e/60,(t=_(this)).action="Heartbeat",t.value=e,g(t)),!this.metrics_complete&&Math.round(this.currentTime/this.duration*100)>=95&&(this.metrics_complete=!0,(t=_(this)).action="Video Completed",g(t))}function I(e){var t="portrait";90!==window.orientation&&-90!==window.orientation||(t="landscape"),g(S("Orientation Check",t))}p.onReady=function(){(new s.default).loadPageviewData().then((function(e){var t=d.default.buildPageviewCustomDimensions(e);l.default.setCustomDimensions(t),T()})).catch((function(e){T(),i.default.error("Error loading page view data: "+e)})),(0,a.default)(document).on("mousedown.metrics","[data-metrics]:not(video), [data-metrics-all] a, [data-metrics-all] button, [data-metrics-all] input",v),(0,a.default)("video").on({"play.metrics":O,"pause.metrics":A,"timeupdate.metrics":h});try{if((0,a.default)("body").hasClass("liveBlog")){var e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.getElementsByClassName("item")));e.length>0&&e.forEach((function(e,t){var n=e.id.substring(2),r=new o.default({element:e,handler:function(e){"down"===e&&(r.destroy(),g({category:"liveblog actions",action:"view story "+(t+1),label:n,noninteraction:!0}))},offset:function(){return o.default.viewportHeight()/1.5}});y.push(r)}))}}catch(e){}(0,a.default)("body").on("orientationchange",I)},p.onUnload=function(){(0,a.default)(document).off("mousedown.metrics","[data-metrics]:not(video), [data-metrics-all] a, [data-metrics-all] button, [data-metrics-all] input",v);var e=(0,a.default)("video");e.off("play.metrics",O),e.off("pause.metrics",A),e.off("timeupdate.metrics",h),m&&m.enabled&&(m.destroy(),m=null),y.length&&(y.forEach((function(e){e.destroy()})),y=[]),!1,(0,a.default)("body").off("orientationchange",I)},p.register(),t.default={trackEvent:g,defaultEvent:S,defaultEventWithLabel:function(e,t,n){return{category:e,action:t,label:n}},defaultEventWithLabelAndValue:function(e,t,n,r){return{category:e,action:t,label:n,value:r}}}},952:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.musicStreams=void 0;d(n(127));var r,a=d(n(1)),o=n(126),i=(r=o)&&r.__esModule?r:{default:r},u=d(n(953)),s=d(n(954)),l=d(n(549));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=t.musicStreams=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){n();var o=e(r);n();if(r.type===a.MUSIC_STREAMS_REQUESTED){var d=function(e){var t=Object.values(u.FEATURED_STREAMS);return e.filter((function(e){for(var n=!1,r=0;r<t.length;r++)t[r].guid===e.guid&&(n=!0);return n}))},f=!0,p=[],E=[],S=[],_=[],g=[],m=[],y=[],T=[],v=[],O=s.genreRock,A=s.genreJazz,h=s.genreClassical,I=s.genreMixed,D=s.genreRb,P=s.genreHiphop,N=s.genreFolk,b=s.genreLocal;i.default.getMusicHomepageStreams().then((function(e){(function(e){for(var t in e){switch(t){case O:E=f?d(e[t]):e[t];break;case A:T=f?d(e[t]):e[t];break;case h:_=f?d(e[t]):e[t];break;case I:v=f?d(e[t]):e[t];break;case D:g=f?d(e[t]):e[t];break;case P:m=f?d(e[t]):e[t];break;case N:S=f?d(e[t]):e[t];break;case b:p=e[t]}y=[].concat(c(g),c(m))}})(e=function(e){var t=Object.values(u.FEATURED_STREAMS);for(var n in e)if(e.hasOwnProperty(n))for(var r=0;r<e[n].length;r++){var a=e[n][r];if(1==a.stations.length)a.orgId=a.stations[0].orgId,a.primaryStream=a.stations[0].primaryStream;else if(0==a.stations.length)e[n].splice(r,1);else{for(var o=!1,i=0;i<t.length;i++)if(t[i].guid===a.guid){o=!0,a.orgId=t[i].orgId;var s=!0,l=!1,d=void 0;try{for(var c,f=a.stations[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value;p.orgId===t[i].orgId&&(a.primaryStream=p.primaryStream)}}catch(e){l=!0,d=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw d}}}0==o&&e[n].splice(r,1)}delete a.stations}return e}(e)),t(l.musicStreamsRequestReceived({localStreams:p,rockStreams:E,folkStreams:S,classicalStreams:_,rbStreams:g,hiphopStreams:m,rbHiphopStreams:y,jazzStreams:T,mixedStreams:v}))})).catch((function(){t(l.musicStreamsRequestFailed())}))}return o}}};t.default=f},953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FEATURED_STREAMS={"WBGO Jazz 88.3FM":{guid:"4fcf714b0fed46aabb40d8dccfd2b653",orgId:"314"},"KMHD Jazz Radio":{guid:"4fcf715c0943492283acb61db1ffcdda",orgId:"1117"},"KUVO Jazz":{guid:"c416bd92f2cf458e827142694653b24d",orgId:"254"},"WRTI Jazz":{guid:"4fcf71670e8640288e97d8a2e62b66b1",orgId:"597"},"Eric in the Evening Jazz (WGBH)":{guid:"1272855b373b4c5481bb610c7e8a2b20",orgId:"395"},"Jazz24 (KNKX)":{guid:"4fcf713c182b4b6095b9b13837299888",orgId:"148"},"Folk Alley":{guid:"4fcf71461d0a4443ac288b01dc637734",orgId:"471"},"Folk Alley Fresh Cuts":{guid:"13f58d45350018840a8b762a3d26f26d",orgId:"471"},"Radio Heartland":{guid:"4fcf71411eb5469cbddfec74ea1afed9",orgId:"936"},"WMOT-FM 89.5":{guid:"4fcf716520a84fa994d5a8bf21dfb6d7",orgId:"508"},WNCW:{guid:"4845e6714d3f4410ae366954eb90d31a",orgId:"525"},"The Current":{guid:"4fcf714225f048d5999ee032db4ccba4",orgId:"936"},KEXP:{guid:"4fcf713d22c7435c85380a8d1fe87750",orgId:"79"},WXPN:{guid:"4fcf715317fe44b794b610e14c4fb34e",orgId:"715"},KUTX:{guid:"4fcf713f157a400ea510541bfd337134",orgId:"1280"},WFUV:{guid:"13efb13be6f0117418e906a2db1d5eb9",orgId:"393"},"Indie 102.3":{guid:"4fcf715620ac4d409ce441250528367c",orgId:"1515"},WQXR:{guid:"4fcf7151007341b7b570e4b15b3078c9",orgId:"1130"},WETA:{guid:"808eb32aba46479dad9f0a953c4a7084",orgId:"372"},"Houston Public Media Classical":{guid:"4fcf713110c243cb85bdd689887d3a2b",orgId:"220"},"CPR Classical":{guid:"4fcf7156166a453991682ff335006aed",orgId:"41"},"WDAV 89.9 Classical Public Radio":{guid:"4fcf714b18ab453dace011707e537fd3",orgId:"357"},KCRW:{guid:"ae77f58ad68b47e8aac25d9466f7f158",orgId:"55"},"New Sounds":{guid:"4fcf7150247746b988de842a0dfe0c72",orgId:"554"},KXLL:{guid:"4fcf715c22cc4aad93993390da7eb305",orgId:"1000"},KUNM:{guid:"4fcf716007484eaf83f64a4342d2d9c3",orgId:"227"},KZYX:{guid:"1c614cd30b6a4fd083b72e18247ba189",orgId:"291"},"88Nine Milwaukee":{guid:"c7d1024c2bd4445a9c031a7e1d904f5a",orgId:"921"},"The Drop":{guid:"d7900b89790d4e02aafda8745e2bca01",orgId:"254"},Vocalo:{guid:"2c295a62b7b54b5b9be902d6e8824ed1",orgId:"308"},"WMNF Soul School":{guid:"522918008c434a0eb87e50d48bd6fb39",orgId:"507"},"Classical MPR":{guid:"4fcf714123f54bc69e2913e58703bd8b",orgId:"818"},"NewGrass Valley":{guid:"4fcf714c0ce04224a0caced12ecfe7c7",orgId:"402"},"KCRW Eclectic24 All Music":{guid:"99cffd6263b24ab7aa9e9404c07171d6",orgId:"55"},"Purple Current":{guid:"8e86978fdb9d4c74a79472bf2e21f7b3",orgId:"111"}}},954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.genreRock="10001",t.genreJazz="10002",t.genreClassical="10003",t.genreHiphop="10005",t.genreMixed="853031894",t.genreRb="139998808",t.genreFolk="139999257",t.genreLocal="local"},955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.donations=t.getLocalStationDataByParam=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=s(n(126)),o=n(36),i=s(n(322)),u=s(n(26));function s(e){return e&&e.__esModule?e:{default:e}}t.getLocalStationDataByParam=(l=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.default.getForcedLocalizationStationId();case 3:return t=e.sent,e.next=6,a.default.getNonLocalStationData(t);case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,void 0,[[0,10]])})),d=function(){var e=l.apply(this,arguments);return new Promise((function(t,n){return function r(a,o){try{var i=e[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(u)}("next")}))},function(){return d.apply(this,arguments)});var l,d,c=t.donations=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var s=n(),l=e(a),d=n();if(!s.donations.showStationPickerModal&&d.donations.showStationPickerModal)document.body.style.top="-"+window.scrollY+"px",document.body.classList.add("has-find-station-modal");else if(s.donations.showStationPickerModal&&!d.donations.showStationPickerModal){var c=document.body.style.top;document.body.classList.remove("has-find-station-modal"),document.body.style.top="",window.scrollTo(0,-1*parseInt(c||"0"))}if(a.type===r.SESSION_LOADED){var f=u.default.getQueryParams();"amount"in f&&(t(i.default.handleSetSource({source:f.source||o.DONATION_EMBED})),t(i.default.handleSetOtherAmount(+f.amount,"true"===f.subscription)))}return a.type===r.SET_SOURCE&&s.donations.source.includes(o.DONATION_EMBED)&&d.donations.source.includes(o.DONATION_EMBED)&&t(i.default.handleResetOtherAmount()),l}}};t.default=c},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueButtonPressed=function(e,t){return{type:r.QUEUE_BUTTON_PRESSED,payload:e,meta:t}},t.addManyToQueue=function(e,t){return{type:r.ADD_MANY_TO_QUEUE,payload:e,meta:t}},t.removeOneFromQueue=function(e){return{type:r.REMOVE_ONE_FROM_QUEUE,payload:e}},t.addManyToTopOfQueue=function(e,t){return{type:r.ADD_MANY_TO_TOP_OF_QUEUE,payload:e,meta:t}},t.preemptedUidQueued=function(e){return{type:r.PREEMPTED_UID_QUEUED,payload:e}},t.addOneToQueue=function(e,t){return{type:r.ADD_ONE_TO_QUEUE,payload:e,meta:t}},t.mobileNativeDidAddToPlaylist=function(e){return{type:r.MOBILE_NATIVE_DID_ADD_TO_PLAYLIST,payload:e}},t.mobileNativeQueueButtonPressed=function(e){return{type:r.MOBILE_NATIVE_QUEUE_BUTTON_PRESSED,payload:e}},t.mobileNativeDidRemoveFromPlaylist=function(e){return{type:r.MOBILE_NATIVE_DID_REMOVE_FROM_PLAYLIST,payload:e}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1))},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.STANDARD="standard",t.MAINSTAGE="mainstage",t.CENTERSTAGE="centerstage",t.BACKSTAGE="backstage",t.MLE_BANNER="mlebanner",t.PLAYER_PRIMARY="player",t.PLAYER_LEAVEBEHIND="leavebehind",t.PLAYER_POSTROLL="playerpostroll",t.PLAYER_MOBILE_PRIMARY="playermobileprimary",t.SPICE_RACK="spicerack",t.SECONDARY="secondary"},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAGE="page",t.PLAYER="player",t.SPONSORSHIP="sponsorship"}}]);