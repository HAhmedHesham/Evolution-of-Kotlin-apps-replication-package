(window.webpackJsonp=window.webpackJsonp||[]).push([[4,7],{125:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundHandlers=function(e,t){return(0,n.default)(e,t),(0,r.default)(e,t)};var n=o(a(71)),r=o(a(211));function o(e){return e&&e.__esModule?e:{default:e}}},164:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a(3)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this._getMetricsObject(),t=this.props.onClick,a=this.props,r=a.isDisabled,i=a.className,s=this._getAccessibilityAttributes();return o.default.createElement("button",n({className:i,onClick:t,disabled:r,"data-metrics":e},s),this.props.children||this.props.label)}}]),t}(s(a(318)).default);t.default=l,l.defaultProps={className:"",onClick:function(){},isDisabled:!1,label:"",children:"",tabIndex:""},l.propTypes={className:i.default.string,onClick:i.default.func,isDisabled:i.default.bool,label:i.default.string,tabIndex:i.default.string,children:i.default.oneOfType([i.default.element,i.default.arrayOf(i.default.element),i.default.string,i.default.node])}},165:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(3)),r=(u(a(4)),a(14)),o=u(a(7)),i=u(a(26)),s=u(a(322)),l=u(a(84));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=(0,o.default)(e.org,"donateUrl"),a=(0,o.default)(e.org,"callLetters"),r={category:e.metricsCategory,action:"click donate",label:e.org?a:"not localized"};t?(t=i.default.addUrlParameter(t,"utm_campaign",r.action),t=i.default.addUrlParameter(t,"utm_medium","referral"),t=i.default.addUrlParameter(t,"utm_term",r.category.replace(/ /g,"-"))):t="/donations/support";return n.default.createElement(l.default,{className:e.overrideClasses||"donation-links__button",href:t,metrics:r,onClickHandler:function(){e.handleSetSource({source:e.metricsCategory}),e.onClick()}},e.addLogo&&e.org&&e.org.logoUrl&&n.default.createElement("img",{src:e.org.logoUrl,alt:"Logo for "+e.org.name,className:"donation-links__logo"}),e.addLogo&&e.org&&!e.org.logoUrl&&n.default.createElement("span",{className:"donation-links__button--org-name"},e.org.name),e.overrideClasses?e.overrideText||"donate now":n.default.createElement("span",{className:"navigation__donate"},e.overrideText||"donate now"))}c.defaultProps={org:null,overrideClasses:"",overrideText:"",addLogo:!1,onClick:function(){}},t.default=(0,r.connect)(null,(function(e){return{handleSetSource:function(t){return e(s.default.handleSetSource(t))}}}))(c)},166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(3));r(a(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return n.default.createElement("div",null)}},2:function(e,t,a){"use strict";a.p=NPR.serverVars.webpackPublicPath,a(218),a(472),a(219),a(473),a(475),a(481),a(95),a(457),a(482),a(484),a(176),a(485),a(221),a(207),a(486),a(59),a(489),a(522),a(527),a(145),a(530),a(535)},200:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentPlayButtonIconClass=function(e,t){if(e)return"icn-loading";if(t)return"icn-pause";return"icn-play"},t.getPlayButtonAriaLabel=function(e,t){if(e)return"Loading";if(t)return"Pause";return"Play"},t.getStreamPlayButtonIconClass=function(e,t){if(e)return"icn-loading";if(t)return"icn-stop";return"icn-play"}},202:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newscastRequested=function(e){return{type:n.NEWSCAST_REQUESTED,payload:{orgId:e}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1))},203:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=c(r),i=(c(a(4)),a(14)),s=c(a(524)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(72)),u=a(125);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,u.getBoundHandlers)(a,["onSubscriptionRequested","onExternalSubscriptionRequested"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onSubscriptionRequested",value:function(e,t){this.props.dispatch(l.newsletterAcquisitionRequested(e,t))}},{key:"onExternalSubscriptionRequested",value:function(e,t,a,n,r){this.props.dispatch(l.newsletterExternalAcquisitionRequested(e,t,a,n,r))}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.newsletter,n=e.renderingForMobileNative,r=e.isStickybar;return a?o.default.createElement(s.default,{newsletter:a,user:t,renderingForMobileNative:n,handlers:this.handlers,isStickybar:r}):null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{renderingForMobileNative:e.site.renderingForMobileNative}}))(d)},204:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(3)),r=(s(a(4)),s(a(165))),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(73)),i=a(210);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return n.default.createElement("section",{className:"callout callout--donation"},n.default.createElement("div",{className:"callout__inner"},e.station&&e.station.logoUrl?n.default.createElement("div",{className:"callout__branding"},n.default.createElement("img",{className:"callout__branding-logo",src:e.station.logoUrl,alt:"Donation logo"})):"",n.default.createElement("div",{className:"callout__main"},n.default.createElement("div",null,n.default.createElement("p",{className:"callout__header",id:"callout__header"},e.donation.donationInfo.title)),n.default.createElement("div",null,n.default.createElement("p",{className:"callout__description "+(e.metricsCategory===o.END_OF_STORY?"variant-endofstory-donation":""),id:"callout__description"},e.donation.donationInfo.description)),n.default.createElement("div",{className:"callout__links"},n.default.createElement(r.default,{org:e.station,overrideText:"Donate Now",metricsCategory:"donation "+e.metricsCategory,onClick:e.onClick,addLogo:!1,overrideClasses:"callout__link callout__link--donate"})))))};l.defaultProps={onClick:function(){},donation:(0,i.getEndOfStoryCtaInfo)().default},t.default=l},205:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(3)),r=(c(a(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(73))),o=c(a(84)),i=a(308),s=a(36),l=c(a(325)),u=c(a(7));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=l.default.stations.find((function(t){return t.id===(e.station&&e.station.id)}));t=(0,u.default)(t,"allowDonationEmbeddedCalloutRecurring");var a=s.DONATION_EMBED+" "+e.metricsCategory+(t?" subscription":"");return n.default.createElement("section",{className:"callout callout--donation callout--donation-embedded"},n.default.createElement("div",{className:"callout__inner"},n.default.createElement("div",{className:"callout__main"},n.default.createElement("div",{className:"callout__header-wrap"},n.default.createElement("h3",{className:"callout__header",id:"callout__header"},e.metricsCategory===r.STICKYBAR&&"Support independent journalism today.",e.metricsCategory===r.END_OF_STORY&&"Power the future of public radio. Donate today!",e.metricsCategory===r.MODAL&&"Fund public radio's future")),n.default.createElement("div",{className:"callout__description-wrap"},e.metricsCategory===r.END_OF_STORY&&(t?n.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"You rely on NPR and ",e.station&&n.default.createElement("span",{className:"callout__station-info"},e.station.name," in ",e.station.marketCity,", ",e.station.marketState)," to stay informed and we depend on you to make our work possible. Give a monthly or one-time gift to your local NPR station."):n.default.createElement("p",{className:"callout__description variant-endofstory-donation",id:"callout__description"},"Celebrate 50 years of NPR by donating ",e.station?"to your local station":"today",". You'll be funding reliable programming and fact-based reporting from journalists in your community, across the country and around the world.")),e.metricsCategory===r.STICKYBAR&&n.default.createElement("p",{className:"callout__description",id:"callout__description"},"You rely on NPR ",e.station&&n.default.createElement("span",null,"and ",n.default.createElement("span",{className:"callout__station-info"},e.station.name," in ",e.station.marketCity,", ",e.station.marketState))," to stay informed and we depend on you to make our work possible. ",e.station?n.default.createElement("span",null,"Give to your local NPR station today."):n.default.createElement("span",null,"Give today.")),e.metricsCategory===r.MODAL&&(t?n.default.createElement("p",{className:"callout__description",id:"callout__description"},"You rely on NPR and ",e.station&&n.default.createElement("span",{className:"callout__station-info"},e.station.name," in ",e.station.marketCity,", ",e.station.marketState)," to stay informed and we depend on you to make our work possible. Give a monthly or one-time gift to your local NPR station."):n.default.createElement("p",{className:"callout__description",id:"callout__description"},"We're celebrating fifty years of ",e.station?"public radio":"NPR",". Support the next fifty years by donating ",e.station&&"to your local NPR station"," today!"))),n.default.createElement("div",{className:"callout__links"},e.metricsCategory===r.END_OF_STORY?n.default.createElement("span",null,"Select an amount"):n.default.createElement("p",null,"Select an amount"),n.default.createElement("ul",{className:"callout__donation-amounts"},(t?i.DEFAULT_SUBSCRIPTION_AMOUNTS:i.DEFAULT_EMBED_AMOUNTS).map((function(e){return n.default.createElement("li",{key:e,className:"callout__donation-amount"},n.default.createElement(o.default,{href:"/donations/support?amount="+e+"&subscription="+t+"&source="+a,metrics:{category:a,action:"amount selected",label:"$"+e}},"$",e))})),n.default.createElement("li",{className:"callout__donation-amount callout__donation-amount--other"},n.default.createElement(o.default,{href:"/donations/support?amount=&subscription="+t+"&source="+a,metrics:{category:a,action:"amount selected",label:"different amount"}},"Give a different amount")))),e.metricsCategory!==r.END_OF_STORY&&n.default.createElement("button",{type:"button",className:"callout__dismiss",onClick:e.onClick},"Maybe later"))))}d.defaultProps={onClick:function(){}},t.default=d},207:function(e,t,a){"use strict";(function(e){var n,r,o=i(a(6));i(a(10));function i(e){return e&&e.__esModule?e:{default:e}}n=[a(23)],void 0===(r=function(e){var t=e.create();function a(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("story-id"))&&f((0,o.default)(this).data("story-id"));return!1}function n(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-facebook"))&&p((0,o.default)(this).data("share-facebook").storyId);return!1}function r(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-twitter"))&&c((0,o.default)(this).data("share-twitter").storyId);return!1}function i(e){(e.preventDefault(),void 0!==(0,o.default)(this).data("share-flipboard"))&&d((0,o.default)(this).data("share-flipboard").storyId);return!1}function s(){(0,o.default)(".share-tools__email-link").on("click",a),(0,o.default)("button[data-share-facebook]").on("click",n),(0,o.default)("button[data-share-twitter]").on("click",r),(0,o.default)("button[data-share-flipboard]").on("click",i)}function l(){(0,o.default)(".share-tools__email-link").off("click",a),(0,o.default)("button[data-share-facebook]").off("click",n),(0,o.default)("button[data-share-twitter]").off("click",r),(0,o.default)("button[data-share-flipboard]").off("click",i)}function u(e,t,a){var n="";NPR.Event&&(n=NPR.Event.getQuerystring("station"));var r=n||(0,o.default)("#modelFullUrl"+e).attr("value"),i=-1!==r.indexOf("?")?"&":"?";return r+i+"utm_campaign=storyshare&utm_source="+t+"&utm_medium="+a}function c(e){var t=u(e,"twitter.com","social"),a=(0,o.default)("#shortTitle"+e).attr("value");a||(a=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"twitterAuthentication","height=400,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(a))}function d(e){var t=u(e,"flipboard.com","referral"),a=(0,o.default)("#shortTitle"+e).attr("value");a||(a=(0,o.default)("#title"+e).attr("value")),function(e){var t=window.open(e,"flipboardAuthentication","height=600,width=800,location=yes,rel=noopener");t&&window.focus&&t.focus()}("https://share.flipboard.com/bookmarklet/popout?v=2&title="+encodeURIComponent(a)+"&url="+encodeURIComponent(t))}function p(e){var t=u(e,"facebook.com","social");!function(e){var t=window.open(e,"sharer","toolbar=0,status=0,width=580,height=400,rel=noopener");window.focus&&t.focus()}("https://www.facebook.com/dialog/feed?link="+encodeURIComponent(t)+"&display=popup&app_id="+NPR.serverVars.facebookAppId+"&redirect_uri="+NPR.ServerConstants.webHost+encodeURIComponent("/templates/socialmedia/close.html"))}function f(e){var t="/emailafriend?storyId="+e,a=window.open(t,"sharer","toolbar=0,scrollbars=1,status=0,width=580,height=800");window.focus&&a.focus()}return t.name="social/share",t.onReady=s,t.onUnload=l,t.register(),{initSocialShare:s,deinitSocialShare:l,shareOnFacebook:p,shareOnTwitter:c,shareOnFlipboard:d,shareViaEmail:f}}.apply(t,n))||(e.exports=r)}).call(this,a(63)(e))},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={STATION_FINDER:"/stations/"}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=s(r),i=(s(a(4)),a(200));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=function(){a.props.isCardMessageHidden||a.props.audio.isCurrentAudio||"HOME_PAGE_NEWS"!==a.props.currentPage||a.props.handlers.onHPHideStationCardMessage(),a.props.handlers.onPlayPauseRequested(a.props.audio,{playedFrom:a.props.metricsPlayedFrom||""})},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this.props.handlers.onMetadataLoaded;"function"==typeof e&&(e(this.props.audio),this.props.handlers.onNowOnStreamsRegistrationRequested(this.props.audio)),this.props.handlers.onAudioModuleMounted()}},{key:"componentWillUnmount",value:function(){this.props.handlers.onNowOnStreamsUnregistrationRequested(this.props.audio)}},{key:"render",value:function(){var e=["audio-module-listen",this.props.audio.isPlaying?"is-playing":""],t=["audio-module-listen-icon",(0,i.getStreamPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)],a=this.props.listenCta?this.props.listenCta:this.props.forceStreamName?null:"Listen",n=this.props.nowPlayingLabel?this.props.nowPlayingLabel:"Now Playing";return o.default.createElement("div",{className:"audio-module-controls"},o.default.createElement("button",{className:e.join(" "),onClick:this.onClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),a&&o.default.createElement("b",{className:"audio-module-listen-text"},o.default.createElement("b",{className:"audio-module-cta audio-module-cta--generic"},a),o.default.createElement("b",{className:"audio-module-cta audio-module-cta--display-title"},this.props.audio.title)))),this.props.forceStreamName&&o.default.createElement("div",{className:"audio-module-metadata"},o.default.createElement("h5",{className:"audio-module-metadata-label"},n),o.default.createElement("b",{className:"audio-module-metadata-text"},this.props.audio.title)))}}]),t}(r.Component);t.default=l},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=_(r),i=(_(a(4)),a(14)),s=_(a(7)),l=b(a(24)),u=b(a(97)),c=b(a(99)),d=_(a(313)),p=_(a(508)),f=_(a(314)),h=_(a(166)),m=a(102),y=a(94),v=a(125),g=a(87);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,v.getBoundHandlers)(a,["onPlayPausePressed","onQueue","onAudioModuleMounted","onCountryRequested"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onPlayPausePressed",value:function(e){this.props.dispatch(l.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onQueue",value:function(e){this.props.dispatch(u.queueButtonPressed(e,c.PAGE))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(l.audioModuleMounted())}},{key:"onCountryRequested",value:function(){this.props.dispatch(l.countryRequested())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];if(!e)return o.default.createElement(h.default,null);if(!1===e.available)return o.default.createElement(f.default,{message:e.unavailableText});var t=o.default.createElement(p.default,{handlers:this.handlers,audio:e,renderPlatform:this.props.renderPlatform,isSmallBreakpoint:this.props.isSmallBreakpoint});if(e.geofencedRegions&&e.geofencedRegions.length){var a=o.default.createElement(f.default,{message:"Audio unavailable in your region"});return o.default.createElement(d.default,{geofencedRegions:e.geofencedRegions,country:this.props.player.env.country,inside:t,outside:a,onCountryRequested:this.handlers.onCountryRequested})}return t}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{metadata:(0,y.getDerivedMetadata)(e),renderPlatform:(0,m.getRenderPlatform)(e),player:e.player,isSmallBreakpoint:(0,g.isSmallBreakpoint)(e)}}))(w),w.defaultProps={renderPlatform:""}},313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=s(r),i=(s(a(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(215)));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onCountryRequested;e.country===i.PENDING&&"function"==typeof t&&this.props.onCountryRequested()}},{key:"render",value:function(){var e=this.props,t=e.geofencedRegions,a=e.country,n=e.inside,r=e.outside;return a===i.PENDING?o.default.createElement("div",{style:{display:"none"}}):-1!==t.indexOf(a)?o.default.createElement("div",null,n):o.default.createElement("div",null,r)}}]),t}(r.Component);t.default=c},314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(3));r(a(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.message;return n.default.createElement("div",{className:"audio-module-controls audio-unavailable"},n.default.createElement("b",{className:"audio-module-listen icn-play is-inactive"}),n.default.createElement("b",{className:"audio-availability-message"},t))}},315:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecosystemDetected=function(e){return{type:n.ECOSYSTEM_DETECTED,payload:e}},t.pageDetected=function(e,t){return{type:n.PAGE_DETECTED,payload:{type:e,href:t}}},t.mobileNativeDetected=function(){return{type:n.MOBILE_NATIVE_DETECTED}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1))},316:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=u(r),i=(u(a(4)),u(a(7))),s=u(a(26)),l=u(a(84));u(a(455));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=(0,i.default)(this.props.org,"name"),t=(0,i.default)(this.props.org,"orgUrl"),a=(0,i.default)(this.props.org,"callLetters");if(!t||""===t)return o.default.createElement("b",{className:this.props.overrideClasses},this.props.children||e);var n={category:this.props.metricsCategory,action:"click station website",label:a},r=s.default.addUrlParameter(t,"utm_campaign",n.action);return r=s.default.addUrlParameter(r,"utm_term",n.category.replace(/ /g,"-")),o.default.createElement(l.default,{className:this.props.overrideClasses,href:r,metrics:n,onClickHandler:this.props.onClick,tabIndex:this.props.tabIndex},this.props.children||e)}}]),t}(r.Component);t.default=c,c.defaultProps={tabIndex:""}},317:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(3)),r=(o(a(4)),o(a(84)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.podcast;if(t){var a,o="callout callout--podcast callout--podcast-"+t.name,i=(t.name.toLowerCase().startsWith("the")?"Subscribe to":"Subscribe to the")+" "+((a=t.name)&&a.indexOf(" Podcast")>=0&&(a=a.replace(" Podcast","")),a+" Podcast"),s=t.itunesUrl,l=t.googlePodcastsUrl,u=t.rssUrl,c=t.nprOneUniversalUrl,d=t.amazonAlexaUrl,p=t.spotifyUrl,f=t.name?t.name.toLowerCase():"";return n.default.createElement("section",{className:o},n.default.createElement("div",{className:"callout__inner"},t.brandingUrl?n.default.createElement("div",{className:"callout__branding"},n.default.createElement("img",{className:"callout__branding-logo",src:t.brandingUrl,alt:"Podcast logo"})):"",n.default.createElement("div",{className:"callout__main"},n.default.createElement("h2",{className:"callout__header"},i),n.default.createElement("ul",{className:"callout__links"},c&&n.default.createElement("li",null,n.default.createElement(r.default,{href:c,className:"callout__link podcast-tools__item--NPR-one",metrics:{category:"podcast subscribe box",action:"click npr one universal",label:f}},"NPR One")),s&&n.default.createElement("li",null,n.default.createElement(r.default,{href:s,className:"callout__link podcast-tools__item--apple-podcasts",metrics:{category:"podcast subscribe box",action:"click itunes",label:f}},"Apple Podcasts")),p&&n.default.createElement("li",null,n.default.createElement(r.default,{href:p,className:"callout__link podcast-tools__item--spotify",metrics:{category:"podcast subscribe box",action:"click spotify",label:f}},"Spotify")),l&&n.default.createElement("li",null,n.default.createElement(r.default,{href:l,className:"callout__link podcast-tools__item--google-podcasts",metrics:{category:"podcast subscribe box",action:"click google podcasts",label:f}},"Google Podcasts")),d&&n.default.createElement("li",null,n.default.createElement(r.default,{href:d,className:"callout__link podcast-tools__item--amazon-alexa",metrics:{category:"podcast subscribe box",action:"click amazon alexa",label:f}},"Amazon Alexa")),u&&n.default.createElement("li",null,n.default.createElement(r.default,{href:u,className:"callout__link podcast-tools__item--rss",metrics:{category:"podcast subscribe box",action:"click rss",label:f}},"RSS"))))))}}},455:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=l(r),i=(l(a(4)),l(a(7))),s=l(a(316));l(a(471));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=(0,i.default)(this.props.org,"name"),t=((0,i.default)(this.props.org,"callLetters"),(0,i.default)(this.props.org,"logoUrl")),a=(0,i.default)(this.props.org,"smallLogoUrl"),n=t||a,r=n&&""!==n;if(this.props.isYourStation&&!r)return null;var l=r?o.default.createElement("img",{src:n,alt:"Station Logo"}):o.default.createElement("b",null,e);return o.default.createElement(s.default,{metricsCategory:this.props.metricsCategory,org:this.props.org,overrideClasses:this.props.overrideClasses||"station__logo",tabIndex:this.props.tabIndex},l)}}]),t}(r.Component);t.default=u,u.defaultProps={tabIndex:""}},456:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=l(r),i=(l(a(4)),l(a(310))),s=l(a(84));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return o.default.createElement(s.default,{className:this.props.overrideClasses||"station__link station__link--change",href:i.default.STATION_FINDER,metrics:{category:this.props.metricsCategory,action:"click find station",label:"#"},onClickHandler:this.props.onClick},this.props.overrideText||"Set station")}}]),t}(r.Component);t.default=u},457:function(e,t,a){"use strict";(function(e){var n,r,o,i=a(10),s=(o=i)&&o.__esModule?o:{default:o};n=[a(6),a(23)],void 0===(r=function(e,t){var a=t.create();a.name="images/lazy-load";var n=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;function r(){var t,a;e("source.lazyOnLoad, img.lazyOnLoad").each((function(){try{var t=e(this),a=t.data("original"),r=(i=[],e.each([".imagewrap",".bucketwrap"],(function(e,a){var n=t.closest(a);if(n.length>0)return i=n.get(0),!1})),e(i));a=o(a,"s",function(e){var t=e*(n?2:1);if(t<100)return 100;if(t>3e3)return 3e3;return 100*Math.ceil(t/100)}(r.length>0?r.width():t.width())),a=o(a,"c",85),e(this).attr("data-original",a)}catch(e){s.default.error(e)}var i})),t=function(){e(this).hide(),"source"===this.nodeName.toLowerCase()?e(this).attr("srcset",e(this).attr("data-original")):e(this).attr("src",e(this).attr("data-original")),e(this).show()},a=e("div[id^='slideshow__gallery--']"),e(a).each((function(){var a,n,r,o,i,s=e(this);n=(a=s).find(".slideshow__button--forward, .slideshow__button--back, .slideshow__button--fullscreen"),r=function(){e(a).trigger("interaction"),i()},o=function(e){e.preventDefault(),r()},i=function(){n.off("click",o),a.off("click",o),a.off("tap touchstart",r)},n.click(o),a.on("click",o),a.on("tap touchstart",r);var l=s.find("li:nth-child(n+4) img, li:nth-child(n+4) source");s.bind("interaction",(function(){e(l).each((function(){t.apply(this)}))})),e(l).each((function(){e(this).removeClass("lazyOnLoad")}))})),e("source.lazyOnLoad, img.lazyOnLoad").each((function(){try{e(this).attr("src")?e(this).attr("src",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad"):e(this).attr("srcset")&&e(this).attr("srcset",e(this).attr("data-original")).removeAttr("data-original").removeClass("lazyOnLoad")}catch(e){s.default.error(e)}}))}function o(e,t,a){var n=document.createElement("a");n.href=e;var r=n.pathname;if(a){for(var o=r.substring(0,r.lastIndexOf(".")),i=r.substring(r.lastIndexOf(".")),s=o.split("-"),l=null,u=1;u<s.length;u++){var c=s[u];if(0===c.indexOf(t)&&c.length>1&&c.length<6){var d=c.substring(1);isNaN(d)||(l=c)}}r=l?r.replace("-"+l,"-"+t+a):o+"-"+t+a+i}var p=r.replace(/^\/*/g,"");return"//"+n.hostname+"/"+p}return a.onReady=function(){r(),e(document).on("infiniteScrollComplete",r)},a.onUnload=function(){e(document).off("infiniteScrollComplete",r),e("div[id^='slideshow__gallery--']","div[id^='slideshow__gallery--'] *").off()},a.register(),{lazyLoad:r,lazyLoadHiddenImages:function(){e('img[src*="-s100"]').addClass("lazyOnLoad"),r()},addParameterInImageUrl:o}}.apply(t,n))||(e.exports=r)}).call(this,a(63)(e))},458:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=s(r),i=(s(a(4)),s(a(71)));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(a,["onClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onClick",value:function(){this.props.onLinkClick(this.props.metrics),this.props.callback()}},{key:"render",value:function(){return o.default.createElement("a",{className:this.props.linkClass,href:this.props.href,onClick:this.onClick},this.props.children)}}]),t}(r.Component);t.default=l,l.defaultProps={onLinkClick:function(){},callback:function(){}}},459:function(e,t,a){"use strict";var n=a(6);!function(e){e.fn.hoverIntent=function(t,a){var r,o,i,s,l={sensitivity:7,interval:100,timeout:0};l=e.extend(l,a?{over:t,out:a}:t);var u=function(e){r=e.pageX,o=e.pageY},c=function(t){var a=n.extend({},t),c=this;c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t)),"mouseenter"==t.type?(i=a.pageX,s=a.pageY,e(c).bind("mousemove",u),1!=c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function t(a,n){if(n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.abs(i-r)+Math.abs(s-o)<l.sensitivity)return e(n).unbind("mousemove",u),n.hoverIntent_s=1,l.over.apply(n,[a]);i=r,s=o,n.hoverIntent_t=setTimeout((function(){t(a,n)}),l.interval)}(a,c)}),l.interval))):(e(c).unbind("mousemove",u),1==c.hoverIntent_s&&(c.hoverIntent_t=setTimeout((function(){!function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,l.out.apply(t,[e])}(a,c)}),l.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(n),e.exports=n.fn.hoverIntent},460:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=s(a(3)),o=(s(a(4)),s(a(84))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(51));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=window.location.pathname,a=i.PROXY_API_HOST+"/account/login";e.noReturnUrl||(a=a+"?returnUrl="+encodeURIComponent(window.location.href));var s={};return e.tabIndex&&(s.tabIndex=e.tabIndex),r.default.createElement(o.default,n({className:e.overrideClasses,href:a,metrics:{category:e.metricsCategory,action:"click sign in/register",label:t},onClickHandler:e.onClick},s),e.overrideText||"Sign in or register")}},462:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HOME_PAGE=1002,t.ETHICS_SERIES=688409791,t.MEMMOS_BLOG=603375090,t.MUSIC_HOMEPAGE=1039,t.CONCERTS_TOPIC=1109,t.MUSIC_VIDEO_TOPIC=1110,t.TINY_DESK=92071316,t.ALL_SONGS=164710643,t.MUSIC_LIVE_EVENT=314884013},463:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=p(a(3)),o=(p(a(4)),p(a(311))),i=p(a(165)),s=p(a(310)),l=p(a(460)),u=p(a(464)),c=a(85),d=a(36);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,a,n;f(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.shouldHideForSpecialDays=function(e){var t=e.toLowerCase();if("wamu"!==t&&"wrau"!==t)return!1;var a=new Date,n=a.getMonth(),r=a.getDate();return 2021===a.getFullYear()&&8===n&&6===r},h(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.props.source,t=0!==this.props.stories.length?" has-local-stories":"",a=(0,c.isWeekend)();return r.default.createElement("div",{className:"localization-container "+t},e===d.STATION_DRAWER&&r.default.createElement("div",{className:"localization localization--localized"},this.props.logoUrl&&r.default.createElement("img",{className:"localization__logo",src:this.props.logoUrl,alt:this.props.name+" logo"}),this.props.logoUrl&&r.default.createElement("div",{className:"localization__station-name"},this.props.name),!this.props.logoUrl&&r.default.createElement("span",{className:"localization__station-call-letters"},this.props.orgCall),r.default.createElement("ul",{className:"localization__options"},this.props.audio&&this.props.audio.primary&&r.default.createElement("li",{className:""},r.default.createElement("div",{className:"bucketwrap resaudio"},r.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&r.default.createElement("li",null,r.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate"})),r.default.createElement("li",null,r.default.createElement("a",{href:s.default.STATION_FINDER,className:"localization__change-station"},"Change"))),!this.props.isLoggedIn&&r.default.createElement("p",{className:"localization__sign-in"},r.default.createElement(l.default,{metricsCategory:"registration-login",noReturnUrl:!0,overrideClasses:""})," ","to see your station everywhere you enjoy NPR.")),e!==d.STATION_DRAWER&&r.default.createElement("div",{className:"localization localization--localized"},r.default.createElement("span",{className:"localization__card-navigation"},r.default.createElement("span",{className:"localization__card-header--wrap"},r.default.createElement("div",{className:"localization__card-header"},0===this.props.stories.length?r.default.createElement("h2",null,"LOCAL RADIO "):r.default.createElement("h2",null,"LOCAL NEWS "),this.props.name&&r.default.createElement("span",null,r.default.createElement("p",null,"from "),r.default.createElement("p",{className:"localization__card-header--station-letters"},this.props.name)))),r.default.createElement("ul",{className:"localization__options"},this.props.logoUrl&&r.default.createElement("img",{className:"localization__logo",src:this.props.logoUrl,alt:this.props.name+" logo"}),this.props.audio&&this.props.audio.primary&&r.default.createElement("li",null,r.default.createElement("div",{className:"bucketwrap resaudio"},r.default.createElement(o.default,{handlers:this.props.handlers,audio:this.props.audio,currentPage:this.props.currentPage,isCardMessageHidden:this.props.isCardMessageHidden,listenCta:"Listen Live",metricsPlayedFrom:e}))),this.props.donateUrl&&r.default.createElement("li",null,r.default.createElement(i.default,{org:{callLetters:this.props.orgCall,donateUrl:this.props.donateUrl},overrideText:"donate",metricsCategory:e,overrideClasses:"localization__action localization__action--donate-local-box"})))),0!==this.props.stories.length&&!a&&!this.shouldHideForSpecialDays(this.props.orgCall)&&r.default.createElement("div",{className:"local-stories-wrap"},r.default.createElement(u.default,{stories:this.props.stories}))))}}]),t}(r.default.PureComponent);m.defaultProps={currentPage:"",logoUrl:"",donateUrl:"",listenCta:"Listen",stories:[],isCardMessageHidden:!1},t.default=m},464:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(3)),o=(s(a(4)),s(a(84))),i=a(36);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("local-story__image"),t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setAttribute("loading","lazy")}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}}},{key:"render",value:function(){var e=this.props.stories.map((function(e,t){var a="/local/"+e.href,n={category:i.HOMEPAGE_STATION_CARD,action:"click story "+(t+1),label:a};return r.default.createElement("li",{key:e.id,className:"local-story"},r.default.createElement(o.default,{metrics:n,href:a},e.imageUrl&&r.default.createElement("div",{className:"image-container"},r.default.createElement("img",{className:"local-story__image",src:e.imageUrl,alt:e.imageTitle})),e.title))}));return r.default.createElement("div",{className:"local-stories"},r.default.createElement("ul",null,e))}}]),t}(r.default.PureComponent);c.defaultProps={stories:[]},t.default=c},465:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=f(r),i=(f(a(4)),a(14)),s=p(a(24)),l=p(a(32)),u=f(a(506)),c=a(94),d=a(125);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,d.getBoundHandlers)(a,["onAudioPlayingStatusDirect","onAudioBufferingStarted","onAudioBufferingFinished","onAudioComplete","onAudioDurationChange","onAudioError","onAudioLoaded"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onAudioPlayingStatusDirect",value:function(e,t){this.props.dispatch(s.audioPlayingStatusDirect(e,t))}},{key:"onAudioBufferingStarted",value:function(e){this.props.dispatch(s.audioBufferingStarted(e))}},{key:"onAudioBufferingFinished",value:function(e){this.props.dispatch(s.audioBufferingFinished(e))}},{key:"onAudioComplete",value:function(e){this.props.dispatch(s.audioComplete(e))}},{key:"onAudioDurationChange",value:function(e,t){this.props.dispatch(l.changeDuration(e,t))}},{key:"onAudioLoaded",value:function(e){this.props.dispatch(s.audioPlayed(e))}},{key:"onAudioError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.dispatch(s.audioError(e,t))}},{key:"render",value:function(){var e={};return this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(e=this.props.metadata[this.props.player.currentUid]),e?o.default.createElement(u.default,{player:this.props.player,handlers:this.handlers,audio:e}):null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,c.getDerivedMetadata)(e)}}))(h)},466:function(e,t,a){var n,r,o;r=[a(6)],void 0===(o="function"==typeof(n=function(e,t){e.fn.jPlayer=function(a){var n="jPlayer",r="string"==typeof a,o=Array.prototype.slice.call(arguments,1),i=this;return a=!r&&o.length?e.extend.apply(null,[!0,a].concat(o)):a,r&&"_"===a.charAt(0)||(r?this.each((function(){var r=e(this).data(n),s=r&&e.isFunction(r[a])?r[a].apply(r,o):r;if(s!==r&&s!==t)return i=s,!1})):this.each((function(){var t=e(this).data(n);t?t.option(a||{}):e(this).data(n,new e.jPlayer(a,this))}))),i},e.jPlayer=function(t,a){if(arguments.length){this.element=e(a),this.options=e.extend(!0,{},this.options,t);var n=this;this.element.bind("remove.jPlayer",(function(){n.destroy()})),this._init()}},"function"!=typeof e.fn.stop&&(e.fn.stop=function(){}),e.jPlayer.emulateMethods="load play pause",e.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",e.jPlayer.emulateOptions="muted volume",e.jPlayer.reservedEvent="ready flashreset resize repeat error warning",e.jPlayer.event={},e.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],(function(){e.jPlayer.event[this]="jPlayer_"+this})),e.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],e.jPlayer.pause=function(){e.jPlayer.prototype.destroyRemoved(),e.each(e.jPlayer.prototype.instances,(function(e,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")}))},e.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var a=function(){this.init()};a.prototype={init:function(){this.options={timeFormat:e.jPlayer.timeFormat}},time:function(e){e=e&&"number"==typeof e?e:0;var t=new Date(1e3*e),a=t.getUTCHours(),n=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*a,r=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*n,o=this.options.timeFormat.padHour&&a<10?"0"+a:a,i=this.options.timeFormat.padMin&&n<10?"0"+n:n,s=this.options.timeFormat.padSec&&r<10?"0"+r:r,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?i+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?s+this.options.timeFormat.sepSec:""}};var n=new a;e.jPlayer.convertTime=function(e){return n.time(e)},e.jPlayer.uaBrowser=function(e){var t=e.toLowerCase(),a=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:a[1]||"",version:a[2]||"0"}},e.jPlayer.uaPlatform=function(e){var t=e.toLowerCase(),a=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(t)||[],n=/(ipad|playbook)/.exec(t)||!/(mobile)/.exec(t)&&/(android)/.exec(t)||[];return a[1]&&(a[1]=a[1].replace(/\s/g,"_")),{platform:a[1]||"",tablet:n[1]||""}},e.jPlayer.browser={},e.jPlayer.platform={};var r=e.jPlayer.uaBrowser(navigator.userAgent);r.browser&&(e.jPlayer.browser[r.browser]=!0,e.jPlayer.browser.version=r.version);var o=e.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(e.jPlayer.platform[o.platform]=!0,e.jPlayer.platform.mobile=!o.tablet,e.jPlayer.platform.tablet=!!o.tablet),e.jPlayer.getDocMode=function(){var t;return e.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t},e.jPlayer.browser.documentMode=e.jPlayer.getDocMode(),e.jPlayer.nativeFeatures={init:function(){var e,t,a,n=document,r=n.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},i=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=e={support:{w3c:!!n[o.w3c[0]],moz:!!n[o.moz[0]],webkit:"function"==typeof n[o.webkit[3]],webkitVideo:"function"==typeof r[o.webkitVideo[2]],ms:"function"==typeof r[o.ms[2]]},used:{}},t=0,a=i.length;t<a;t++){var s=i[t];if(e.support[s]){e.spec=s,e.used[s]=!0;break}}if(e.spec){var l=o[e.spec];e.api={fullscreenEnabled:!0,fullscreenElement:function(e){return(e=e||n)[l[1]]},requestFullscreen:function(e){return e[l[2]]()},exitFullscreen:function(e){return(e=e||n)[l[3]]()}},e.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else e.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},e.event={}}},e.jPlayer.nativeFeatures.init(),e.jPlayer.focus=null,e.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var i=function(t){var a,n=e.jPlayer.focus;n&&(e.each(e.jPlayer.keyIgnoreElementNames.split(/\s+/g),(function(e,n){if(t.target.nodeName.toUpperCase()===n.toUpperCase())return a=!0,!1})),a||e.each(n.options.keyBindings,(function(a,r){if(r&&e.isFunction(r.fn)&&("number"==typeof r.key&&t.which===r.key||"string"==typeof r.key&&t.key===r.key))return t.preventDefault(),r.fn(n),!1})))};e.jPlayer.keys=function(t){e(document.documentElement).unbind("keydown.jPlayer"),t&&e(document.documentElement).bind("keydown.jPlayer",i)},e.jPlayer.keys(!0),e.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?e(this).unbind(".jPlayerRepeat").bind(e.jPlayer.event.ended+".jPlayer.jPlayerRepeat",(function(){e(this).jPlayer("play")})):e(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(e){e.status.paused?e.play():e.pause()}},fullScreen:{key:70,fn:function(e){(e.status.video||e.options.audioFullScreen)&&e._setOption("fullScreen",!e.options.fullScreen)}},muted:{key:77,fn:function(e){e._muted(!e.options.muted)}},volumeUp:{key:190,fn:function(e){e.volume(e.options.volume+.1)}},volumeDown:{key:188,fn:function(e){e.volume(e.options.volume-.1)}},loop:{key:76,fn:function(e){e._loop(!e.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var a=this;if(this.element.empty(),this.status=e.extend({},this.status),this.internal=e.extend({},this.internal),this.options.timeFormat=e.extend({},e.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=e.jPlayer.platform.ipad||e.jPlayer.platform.iphone||e.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!e.jPlayer.focus&&(e.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},e.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),e.each(this.options.supplied.toLowerCase().split(","),(function(t,n){var r=n.replace(/^\s+|\s+$/g,"");if(a.format[r]){var o=!1;e.each(a.formats,(function(e,t){if(r===t)return o=!0,!1})),o||a.formats.push(r)}})),e.each(this.options.solution.toLowerCase().split(","),(function(t,n){var r=n.replace(/^\s+|\s+$/g,"");if(a.solution[r]){var o=!1;e.each(a.solutions,(function(e,t){if(r===t)return o=!0,!1})),o||a.solutions.push(r)}})),e.each(this.options.auroraFormats.toLowerCase().split(","),(function(t,n){var r=n.replace(/^\s+|\s+$/g,"");if(a.format[r]){var o=!1;e.each(a.aurora.formats,(function(e,t){if(r===t)return o=!0,!1})),o||a.aurora.formats.push(r)}})),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=e.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=e.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=e.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=e.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=e.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),e.each(e.jPlayer.event,(function(e,n){a.options[e]!==t&&(a.element.bind(n+".jPlayer",a.options[e]),a.options[e]=t)})),this.require.audio=!1,this.require.video=!1,e.each(this.formats,(function(e,t){a.require[a.format[t].media]=!0})),this.require.video?this.options=e.extend(!0,{},this.optionsVideo,this.options):this.options=e.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),e.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){a.status.video&&!a.status.waitForPlay||a.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=e("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",(function(){a._trigger(e.jPlayer.event.click)})),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},e.each(this.formats,(function(t,n){a.html.canPlay[n]=a.html[a.format[n].media].available&&""!==a.htmlElement[a.format[n].media].canPlayType(a.format[n].codec),a.aurora.canPlay[n]=e.inArray(n,a.aurora.formats)>-1,a.flash.canPlay[n]=a.format[n].flashCanPlay&&a.flash.available})),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,e.each(this.solutions,(function(t,n){if(0===t)a[n].desired=!0;else{var r=!1,o=!1;e.each(a.formats,(function(e,t){a[a.solutions[0]].canPlay[t]&&("video"===a.format[t].media?o=!0:r=!0)})),a[n].desired=a.require.audio&&!r||a.require.video&&!o}})),this.html.support={},this.aurora.support={},this.flash.support={},e.each(this.formats,(function(e,t){a.html.support[t]=a.html.canPlay[t]&&a.html.desired,a.aurora.support[t]=a.aurora.canPlay[t]&&a.aurora.desired,a.flash.support[t]=a.flash.canPlay[t]&&a.flash.desired})),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,e.each(this.solutions,(function(t,n){e.each(a.formats,(function(e,t){if(a[n].support[t])return a[n].used=!0,!1}))})),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:e.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SOLUTION,hint:e.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var n,r="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(e.jPlayer.browser.msie&&(Number(e.jPlayer.browser.version)<9||e.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',i=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+r+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];n=document.createElement(o);for(var s=0;s<i.length;s++)n.appendChild(document.createElement(i[s]))}else{var l=function(e,t,a){var n=document.createElement("param");n.setAttribute("name",t),n.setAttribute("value",a),e.appendChild(n)};(n=document.createElement("object")).setAttribute("id",this.internal.flash.id),n.setAttribute("name",this.internal.flash.id),n.setAttribute("data",this.internal.flash.swf),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("tabindex","-1"),l(n,"flashvars",r),l(n,"allowscriptaccess","always"),l(n,"bgcolor",this.options.backgroundColor),l(n,"wmode",this.options.wmode)}this.element.append(n),this.internal.flash.jq=e(n)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=e("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=e("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",(function(){a._trigger(e.jPlayer.event.click)})))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout((function(){a.internal.ready=!0,a.version.flash="n/a",a._trigger(e.jPlayer.event.repeat),a._trigger(e.jPlayer.event.ready)}),100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),e.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),e.each(this.css.jq,(function(e,t){t.length&&t.unbind(".jPlayer")})),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===e.jPlayer.focus&&(e.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var t=this;e.each(this.instances,(function(e,a){t.element!==a&&(a.data("jPlayer")||(a.jPlayer("destroy"),delete t.instances[e]))}))},enable:function(){},disable:function(){},_testCanPlayType:function(e){try{return e.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(e){var t;e="string"==typeof e?e:"audio",t=document.createElement(e);try{return"playbackRate"in t&&(t.playbackRate=.5,.5===t.playbackRate)}catch(e){return!1}},_uaBlocklist:function(t){var a=navigator.userAgent.toLowerCase(),n=!1;return e.each(t,(function(e,t){if(t&&t.test(a))return n=!0,!1})),n},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(t,a){var n=this;t.preload=this.options.preload,t.muted=this.options.muted,t.volume=this.options.volume,this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate),t.addEventListener("progress",(function(){a.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getHtmlStatus(t),n._updateInterface(),n._trigger(e.jPlayer.event.progress))}),!1),t.addEventListener("loadeddata",(function(){a.gate&&(n.androidFix.setMedia=!1,n.androidFix.play&&(n.androidFix.play=!1,n.play(n.androidFix.time)),n.androidFix.pause&&(n.androidFix.pause=!1,n.pause(n.androidFix.time)),n._trigger(e.jPlayer.event.loadeddata))}),!1),t.addEventListener("timeupdate",(function(){a.gate&&(n._getHtmlStatus(t),n._updateInterface(),n._trigger(e.jPlayer.event.timeupdate))}),!1),t.addEventListener("durationchange",(function(){a.gate&&(n._getHtmlStatus(t),n._updateInterface(),n._trigger(e.jPlayer.event.durationchange))}),!1),t.addEventListener("play",(function(){a.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(e.jPlayer.event.play))}),!1),t.addEventListener("playing",(function(){a.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(e.jPlayer.event.playing))}),!1),t.addEventListener("pause",(function(){a.gate&&(n._updateButtons(!1),n._trigger(e.jPlayer.event.pause))}),!1),t.addEventListener("waiting",(function(){a.gate&&(n._seeking(),n._trigger(e.jPlayer.event.waiting))}),!1),t.addEventListener("seeking",(function(){a.gate&&(n._seeking(),n._trigger(e.jPlayer.event.seeking))}),!1),t.addEventListener("seeked",(function(){a.gate&&(n._seeked(),n._trigger(e.jPlayer.event.seeked))}),!1),t.addEventListener("volumechange",(function(){a.gate&&(n.options.volume=t.volume,n.options.muted=t.muted,n._updateMute(),n._updateVolume(),n._trigger(e.jPlayer.event.volumechange))}),!1),t.addEventListener("ratechange",(function(){a.gate&&(n.options.defaultPlaybackRate=t.defaultPlaybackRate,n.options.playbackRate=t.playbackRate,n._updatePlaybackRate(),n._trigger(e.jPlayer.event.ratechange))}),!1),t.addEventListener("suspend",(function(){a.gate&&(n._seeked(),n._trigger(e.jPlayer.event.suspend))}),!1),t.addEventListener("ended",(function(){a.gate&&(e.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(t,!0),n._updateInterface(),n._trigger(e.jPlayer.event.ended))}),!1),t.addEventListener("error",(function(){a.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:e.jPlayer.error.URL,context:n.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))}),!1),e.each(e.jPlayer.htmlEvent,(function(r,o){t.addEventListener(this,(function(){a.gate&&n._trigger(e.jPlayer.event[o])}),!1)}))},_addAuroraEventListeners:function(t,a){var n=this;t.volume=100*this.options.volume,t.on("progress",(function(){a.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getAuroraStatus(t),n._updateInterface(),n._trigger(e.jPlayer.event.progress),t.duration>0&&n._trigger(e.jPlayer.event.timeupdate))}),!1),t.on("ready",(function(){a.gate&&n._trigger(e.jPlayer.event.loadeddata)}),!1),t.on("duration",(function(){a.gate&&(n._getAuroraStatus(t),n._updateInterface(),n._trigger(e.jPlayer.event.durationchange))}),!1),t.on("end",(function(){a.gate&&(n._updateButtons(!1),n._getAuroraStatus(t,!0),n._updateInterface(),n._trigger(e.jPlayer.event.ended))}),!1),t.on("error",(function(){a.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:e.jPlayer.error.URL,context:n.status.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL})))}),!1)},_getHtmlStatus:function(e,t){var a=0,n=0,r=0,o=0;isFinite(e.duration)&&(this.status.duration=e.duration),a=e.currentTime,n=this.status.duration>0?100*a/this.status.duration:0,"object"==typeof e.seekable&&e.seekable.length>0?(r=this.status.duration>0?100*e.seekable.end(e.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*e.currentTime/e.seekable.end(e.seekable.length-1):0):(r=100,o=n),t&&(a=0,o=0,n=0),this.status.seekPercent=r,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=n,this.status.currentTime=a,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=e.readyState,this.status.networkState=e.networkState,this.status.playbackRate=e.playbackRate,this.status.ended=e.ended},_getAuroraStatus:function(e,t){var a=0,n=0,r=0,o=0;this.status.duration=e.duration/1e3,a=e.currentTime/1e3,n=this.status.duration>0?100*a/this.status.duration:0,e.buffered>0?(r=this.status.duration>0?e.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?a/(e.buffered*this.status.duration):0):(r=100,o=n),t&&(a=0,o=0,n=0),this.status.seekPercent=r,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=n,this.status.currentTime=a,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=e.extend({},this.status,e.jPlayer.prototype.status)},_trigger:function(t,a,n){var r=e.Event(t);r.jPlayer={},r.jPlayer.version=e.extend({},this.version),r.jPlayer.options=e.extend(!0,{},this.options),r.jPlayer.status=e.extend(!0,{},this.status),r.jPlayer.html=e.extend(!0,{},this.html),r.jPlayer.aurora=e.extend(!0,{},this.aurora),r.jPlayer.flash=e.extend(!0,{},this.flash),a&&(r.jPlayer.error=e.extend({},a)),n&&(r.jPlayer.warning=e.extend({},n)),this.element.trigger(r)},jPlayerFlashEvent:function(t,a){if(t===e.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,r=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),n>0&&(r?this.pause(n):this.play(n))}this._trigger(e.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=a.version,this.version.needFlash!==this.version.flash&&this._error({type:e.jPlayer.error.VERSION,context:this.version.flash,message:e.jPlayer.errorMsg.VERSION+this.version.flash,hint:e.jPlayer.errorHint.VERSION}),this._trigger(e.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case e.jPlayer.event.progress:case e.jPlayer.event.timeupdate:this._getFlashStatus(a),this._updateInterface(),this._trigger(t);break;case e.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(t);break;case e.jPlayer.event.pause:case e.jPlayer.event.ended:this._updateButtons(!1),this._trigger(t);break;case e.jPlayer.event.click:this._trigger(t);break;case e.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:e.jPlayer.error.URL,context:a.src,message:e.jPlayer.errorMsg.URL,hint:e.jPlayer.errorHint.URL});break;case e.jPlayer.event.seeking:this._seeking(),this._trigger(t);break;case e.jPlayer.event.seeked:this._seeked(),this._trigger(t);break;case e.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(e){this.status.seekPercent=e.seekPercent,this.status.currentPercentRelative=e.currentPercentRelative,this.status.currentPercentAbsolute=e.currentPercentAbsolute,this.status.currentTime=e.currentTime,this.status.duration=e.duration,this.status.remaining=e.duration-e.currentTime,this.status.videoWidth=e.videoWidth,this.status.videoHeight=e.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(e){e===t?e=!this.status.paused:this.status.paused=!e,e?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(e?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));var e="",t=this.status.duration,a=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(a=(t=this.status.media.duration)-this.status.currentTime),e=this.options.remainingDuration?(a>0?"-":"")+this._convertTime(a):this._convertTime(t)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:a.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(e)+'">x</a>',t.firstChild.href},_absoluteMediaUrls:function(t){var a=this;return e.each(t,(function(e,n){n&&a.format[e]&&"data:"!==n.substr(0,5)&&(t[e]=a._qualifyURL(n))})),t},addStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[e])},removeStateClass:function(e){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[e])},setMedia:function(t){var a=this,n=!1,r=this.status.media.poster!==t.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,t=this._absoluteMediaUrls(t),e.each(this.formats,(function(r,o){var i="video"===a.format[o].media;if(e.each(a.solutions,(function(r,s){if(a[s].support[o]&&a._validString(t[o])){var l="html"===s,u="aurora"===s;return i?(l?(a.html.video.gate=!0,a._html_setVideo(t),a.html.active=!0):(a.flash.gate=!0,a._flash_setVideo(t),a.flash.active=!0),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.show(),a.status.video=!0):(l?(a.html.audio.gate=!0,a._html_setAudio(t),a.html.active=!0,e.jPlayer.platform.android&&(a.androidFix.setMedia=!0)):u?(a.aurora.gate=!0,a._aurora_setAudio(t),a.aurora.active=!0):(a.flash.gate=!0,a._flash_setAudio(t),a.flash.active=!0),a.css.jq.videoPlay.length&&a.css.jq.videoPlay.hide(),a.status.video=!1),n=!0,!1}})),n)return!1})),n?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(r?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),"string"==typeof t.title&&(this.css.jq.title.length&&this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=e.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(e.jPlayer.event.setmedia)):this._error({type:e.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:e.jPlayer.errorMsg.NO_SUPPORT,hint:e.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(e.jPlayer.focus=this)},play:function(e){"object"==typeof e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(e):(e="number"==typeof e?e:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(e):this.aurora.active?this._aurora_play(e):this.flash.active&&this._flash_play(e)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(e){e="number"==typeof e?e:NaN,this.status.srcSet?this.html.active?this._html_pause(e):this.aurora.active?this._aurora_pause(e):this.flash.active&&this._flash_pause(e):this._urlNotSetError("pause")},tellOthers:function(t,a){var n=this,r="function"==typeof a,o=Array.prototype.slice.call(arguments);"string"==typeof t&&(r&&o.splice(1,1),e.jPlayer.prototype.destroyRemoved(),e.each(this.instances,(function(){n.element!==this&&(r&&!a.call(this.data("jPlayer"),n)||this.jPlayer.apply(this,o))})))},pauseOthers:function(e){this.tellOthers("pause",(function(){return this.status.srcSet}),e)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(e){e=this._limitValue(e,0,100),this.status.srcSet?this.html.active?this._html_playHead(e):this.aurora.active?this._aurora_playHead(e):this.flash.active&&this._flash_playHead(e):this._urlNotSetError("playHead")},_muted:function(e){this.mutedWorker(e),this.options.globalVolume&&this.tellOthers("mutedWorker",(function(){return this.options.globalVolume}),e)},mutedWorker:function(t){this.options.muted=t,this.html.used&&this._html_setProperty("muted",t),this.aurora.used&&this._aurora_mute(t),this.flash.used&&this._flash_mute(t),this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(e.jPlayer.event.volumechange))},mute:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(e=e===t||!!e,this._muted(e))},unmute:function(e){e=e===t||!!e,this._muted(!e)},_updateMute:function(e){e===t&&(e=this.options.muted),e?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):e?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(e){this.volumeWorker(e),this.options.globalVolume&&this.tellOthers("volumeWorker",(function(){return this.options.globalVolume}),e)},volumeWorker:function(t){t=this._limitValue(t,0,1),this.options.volume=t,this.html.used&&this._html_setProperty("volume",t),this.aurora.used&&this._aurora_volume(t),this.flash.used&&this._flash_volume(t),this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(e.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var a=e(t.currentTarget),n=a.offset(),r=t.pageX-n.left,o=a.width(),i=a.height()-t.pageY+n.top,s=a.height();this.options.verticalVolume?this.volume(i/s):this.volume(r/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(e){e===t&&(e=this.options.volume),e=this.options.muted?0:e,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*e+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var a=this;this.options.cssSelectorAncestor=t,this._removeUiClass(),this.ancestorJq=t?e(t):[],t&&1!==this.ancestorJq.length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),e.each(this.options.cssSelector,(function(e,t){a._cssSelector(e,t)})),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(t,a){var n=this;"string"==typeof a?e.jPlayer.prototype.options.cssSelector[t]?(this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=a,this.css.cs[t]=this.options.cssSelectorAncestor+" "+a,this.css.jq[t]=a?e(this.css.cs[t]):[],this.css.jq[t].length&&this[t]&&this.css.jq[t].bind("click.jPlayer",(function(a){a.preventDefault(),n[t](a),n.options.autoBlur?e(this).blur():e(this).focus()})),a&&1!==this.css.jq[t].length&&this._warning({type:e.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:e.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:e.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:e.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:e.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:e.jPlayer.warning.CSS_SELECTOR_STRING,context:a,message:e.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:e.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(e){this.options.toggleDuration&&(this.options.captureDuration&&e.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var a=e(t.currentTarget),n=a.offset(),r=100*(t.pageX-n.left)/a.width();this.playHead(r)}},playbackRate:function(e){this._setOption("playbackRate",e)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var a,n=e(t.currentTarget),r=n.offset(),o=t.pageX-r.left,i=n.width(),s=n.height()-t.pageY+r.top,l=n.height();a=(this.options.verticalPlaybackRate?s/l:o/i)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(a)}},_updatePlaybackRate:function(){var e=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(e.jPlayer.event.repeat))},option:function(a,n){var r=a;if(0===arguments.length)return e.extend(!0,{},this.options);if("string"==typeof a){var o=a.split(".");if(n===t){for(var i=e.extend(!0,{},this.options),s=0;s<o.length;s++){if(i[o[s]]===t)return this._warning({type:e.jPlayer.warning.OPTION_KEY,context:a,message:e.jPlayer.warningMsg.OPTION_KEY,hint:e.jPlayer.warningHint.OPTION_KEY}),t;i=i[o[s]]}return i}for(var l=r={},u=0;u<o.length;u++)u<o.length-1?(l[o[u]]={},l=l[o[u]]):l[o[u]]=n}return this._setOptions(r),this},_setOptions:function(t){var a=this;return e.each(t,(function(e,t){a._setOption(e,t)})),this},_setOption:function(t,a){var n=this;switch(t){case"volume":this.volume(a);break;case"muted":this._muted(a);break;case"globalVolume":this.options[t]=a;break;case"cssSelectorAncestor":this._cssSelectorAncestor(a);break;case"cssSelector":e.each(a,(function(e,t){n._cssSelector(e,t)}));break;case"playbackRate":this.options[t]=a=this._limitValue(a,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",a),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=a=this._limitValue(a,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",a),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=a=this._limitValue(a,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=a=this._limitValue(a,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[t]!==a){var r=e.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!r||r&&!this.status.waitForPlay)&&(r||(this.options[t]=a),a?this._requestFullscreen():this._exitFullscreen(),r||this._setOption("fullWindow",a))}break;case"fullWindow":this.options[t]!==a&&(this._removeUiClass(),this.options[t]=a,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===a.cssClass||this._removeUiClass(),this.options[t]=e.extend({},this.options[t],a),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==a.cssClass&&this._removeUiClass(),this.options[t]=e.extend({},this.options[t],a),this._refreshSize();break;case"autohide":this.options[t]=e.extend({},this.options[t],a),this._updateAutohide();break;case"loop":this._loop(a);break;case"remainingDuration":this.options[t]=a,this._updateInterface();break;case"toggleDuration":this.options[t]=a;break;case"nativeVideoControls":this.options[t]=e.extend({},this.options[t],a),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=e.extend({},this.options[t],a),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[t]=e.extend({},this.options[t],a),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[t]!==a&&(this.options[t]=a,a?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=e.extend({},this.options[t],a);break;case"keyEnabled":this.options[t]=a,a||this!==e.jPlayer.focus||(e.jPlayer.focus=null);break;case"keyBindings":this.options[t]=e.extend(!0,{},this.options[t],a);break;case"audioFullScreen":case"autoBlur":this.options[t]=a}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(e.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var e=this,t="mousemove.jPlayer.jPlayerAutohide",a=function(t){var a,n,r=!1;void 0!==e.internal.mouse?(a=e.internal.mouse.x-t.pageX,n=e.internal.mouse.y-t.pageY,r=Math.floor(a)>0||Math.floor(n)>0):r=!0,e.internal.mouse={x:t.pageX,y:t.pageY},r&&e.css.jq.gui.fadeIn(e.options.autohide.fadeIn,(function(){clearTimeout(e.internal.autohideId),e.internal.autohideId=setTimeout((function(){e.css.jq.gui.fadeOut(e.options.autohide.fadeOut)}),e.options.autohide.hold)}))};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(t,a),this.css.jq.gui.bind(t,a),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(e){"object"==typeof e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var t=this,a=e.jPlayer.nativeFeatures.fullscreen;a.api.fullscreenEnabled&&a.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){t._fullscreenchange()}),document.addEventListener(a.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=e.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!e.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var t=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],a=e.jPlayer.nativeFeatures.fullscreen;a.used.webkitVideo&&(t=this.htmlElement.video),a.api.fullscreenEnabled&&a.api.requestFullscreen(t)},_exitFullscreen:function(){var t,a=e.jPlayer.nativeFeatures.fullscreen;a.used.webkitVideo&&(t=this.htmlElement.video),a.api.fullscreenEnabled&&a.api.exitFullscreen(t)},_html_initMedia:function(t){var a=e(this.htmlElement.media).empty();e.each(t.track||[],(function(e,t){var n=document.createElement("track");n.setAttribute("kind",t.kind?t.kind:""),n.setAttribute("src",t.src?t.src:""),n.setAttribute("srclang",t.srclang?t.srclang:""),n.setAttribute("label",t.label?t.label:""),t.def&&n.setAttribute("default",t.def),a.append(n)})),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(e.jPlayer.event.timeupdate)},_html_setFormat:function(t){var a=this;e.each(this.formats,(function(e,n){if(a.html.support[n]&&t[n])return a.status.src=t[n],a.status.format[n]=!0,a.status.formatType=n,!1}))},_html_setAudio:function(e){this._html_setFormat(e),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(e)},_html_setVideo:function(e){this._html_setFormat(e),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(e.poster)?e.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(e)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(e){var t=this,a=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=e;else if(isNaN(e))a.play();else{this.internal.cmdsIgnored&&a.play();try{if(a.seekable&&!("object"==typeof a.seekable&&a.seekable.length>0))throw 1;a.currentTime=e,a.play()}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.play(e)}),250))}}this._html_checkWaitForPlay()},_html_pause:function(e){var t=this,a=this.htmlElement.media;if(this.androidFix.play=!1,e>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),a.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=e;else if(!isNaN(e))try{if(a.seekable&&!("object"==typeof a.seekable&&a.seekable.length>0))throw 1;a.currentTime=e}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.pause(e)}),250))}e>0&&this._html_checkWaitForPlay()},_html_playHead:function(e){var t=this,a=this.htmlElement.media;this._html_load();try{if("object"==typeof a.seekable&&a.seekable.length>0)a.currentTime=e*a.seekable.end(a.seekable.length-1)/100;else{if(!(a.duration>0)||isNaN(a.duration))throw"e";a.currentTime=e*a.duration/100}}catch(a){return void(this.internal.htmlDlyCmdId=setTimeout((function(){t.playHead(e)}),250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(e,t){this.html.audio.available&&(this.htmlElement.audio[e]=t),this.html.video.available&&(this.htmlElement.video[e]=t)},_aurora_setAudio:function(t){var a=this;e.each(this.formats,(function(e,n){if(a.aurora.support[n]&&t[n])return a.status.src=t[n],a.status.format[n]=!0,a.status.formatType=n,!1})),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(t){this.status.waitForLoad||isNaN(t)||this.aurora.player.seek(t),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(e.jPlayer.event.play)},_aurora_pause:function(t){isNaN(t)||this.aurora.player.seek(1e3*t),this.aurora.player.pause(),t>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(e.jPlayer.event.pause)},_aurora_playHead:function(e){this.aurora.player.duration>0&&this.aurora.player.seek(e*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(e){this.aurora.player.volume=100*e},_aurora_mute:function(e){e?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=e},_flash_setAudio:function(t){var a=this;try{e.each(this.formats,(function(e,n){if(a.flash.support[n]&&t[n]){switch(n){case"m4a":case"fla":a._getMovie().fl_setAudio_m4a(t[n]);break;case"mp3":a._getMovie().fl_setAudio_mp3(t[n]);break;case"rtmpa":a._getMovie().fl_setAudio_rtmp(t[n])}return a.status.src=t[n],a.status.format[n]=!0,a.status.formatType=n,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_setVideo:function(t){var a=this;try{e.each(this.formats,(function(e,n){if(a.flash.support[n]&&t[n]){switch(n){case"m4v":case"flv":a._getMovie().fl_setVideo_m4v(t[n]);break;case"rtmpv":a._getMovie().fl_setVideo_rtmp(t[n])}return a.status.src=t[n],a.status.format[n]=!0,a.status.formatType=n,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(e){this._flashError(e)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(e){this._flashError(e)}this.status.waitForLoad=!1},_flash_play:function(e){try{this._getMovie().fl_play(e)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(e){try{this._getMovie().fl_pause(e)}catch(e){this._flashError(e)}e>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(e){try{this._getMovie().fl_play_head(e)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(e){try{this._getMovie().fl_volume(e)}catch(e){this._flashError(e)}},_flash_mute:function(e){try{this._getMovie().fl_mute(e)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var e,t=0;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var a=e.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),t=parseInt(a[0],10)+"."+parseInt(a[1],10))}}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(e=navigator.plugins["Shockwave Flash"])&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*t},_checkForFlash:function(e){var t=!1;return this._getFlashPluginVersion()>=e&&(t=!0),t},_validString:function(e){return e&&"string"==typeof e},_limitValue:function(e,t,a){return e<t?t:e>a?a:e},_urlNotSetError:function(t){this._error({type:e.jPlayer.error.URL_NOT_SET,context:t,message:e.jPlayer.errorMsg.URL_NOT_SET,hint:e.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var a;a=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:e.jPlayer.error[a],context:this.internal.flash.swf,message:e.jPlayer.errorMsg[a]+t.message,hint:e.jPlayer.errorHint[a]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(e.jPlayer.event.error,t),this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(a){this._trigger(e.jPlayer.event.warning,t,a),this.options.warningAlerts&&this._alert("Warning!"+(a.message?"\n"+a.message:"")+(a.hint?"\n"+a.hint:"")+"\nContext: "+a.context)},_alert:function(e){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+e;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;e.each(e.jPlayer.emulateMethods.split(/\s+/g),(function(e,a){t.internal.domNode[a]=function(e){t[a](e)}})),e.each(e.jPlayer.event,(function(a,n){var r=!0;e.each(e.jPlayer.reservedEvent.split(/\s+/g),(function(e,t){if(t===a)return r=!1,!1})),r&&t.element.bind(n+".jPlayer.jPlayerHtml",(function(){t._emulateHtmlUpdate();var e=document.createEvent("Event");e.initEvent(a,!1,!0),t.internal.domNode.dispatchEvent(e)}))}))},_emulateHtmlUpdate:function(){var t=this;e.each(e.jPlayer.emulateStatus.split(/\s+/g),(function(e,a){t.internal.domNode[a]=t.status[a]})),e.each(e.jPlayer.emulateOptions.split(/\s+/g),(function(e,a){t.internal.domNode[a]=t.options[a]}))},_destroyHtmlBridge:function(){var t=this;this.element.unbind(".jPlayerHtml");var a=e.jPlayer.emulateMethods+" "+e.jPlayer.emulateStatus+" "+e.jPlayer.emulateOptions;e.each(a.split(/\s+/g),(function(e,a){delete t.internal.domNode[a]}))}},e.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},e.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+e.jPlayer.prototype.version.script+" needs Jplayer.swf version "+e.jPlayer.prototype.version.needFlash+" but found "},e.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},e.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},e.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},e.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})?n.apply(t,r):n)||(e.exports=o)},467:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mountAudioModules=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(e,t),d(e)},t.unmountAudioModules=function(){u.map((function(e){return e.unmountModules()}))};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(32)),r=l(a(507)),o=l(a(509)),i=l(a(512)),s=l(a(513));function l(e){return e&&e.__esModule?e:{default:e}}var u=[r.default,o.default,i.default,s.default];function c(e,t){var a,r=u.map((function(a){return a.retrieveMetadataFromDOM(e,t)})),o=(a=[]).concat.apply(a,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(r));e.dispatch(n.metadatasLoaded(o))}function d(e){u.map((function(t){return t.mountModules(e)}))}},468:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){u=e,window.addEventListener("resize",d),t=window.innerWidth,a=(0,n.default)(c,(function(e){return e.min<=t&&t<=e.max})),void u(i.initialWidthDetected(t,a.name)),void(r.default.hasTouch()&&u(i.touchDetected())),void 0!==document.hidden&&(document.addEventListener("visibilitychange",p),p());var t,a};var n=l(a(131)),r=l(a(124)),o=s(a(20)),i=s(a(24));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var u=void 0,c=[{name:o.SMALL,min:r.default.BREAKPOINT.SMALL.MIN,max:r.default.BREAKPOINT.SMALL.MAX},{name:o.MEDIUM,min:r.default.BREAKPOINT.MEDIUM.MIN,max:r.default.BREAKPOINT.MEDIUM.MAX},{name:o.LARGE,min:r.default.BREAKPOINT.LARGE.MIN,max:1/0}];function d(){var e=window.innerWidth,t=(0,n.default)(c,(function(t){return t.min<=e&&e<=t.max}));u(i.widthDetected(e,t.name))}function p(){u(i.pageVisibilityDetected(!document.hidden))}},469:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectEcosystem=h,t.detectRightRail=m,t.detectPage=y,t.init=function(e){p=e;var t=[h,y,m],a=function(){return t.map((function(e){return e()}))};(0,n.default)(document).on("npr:pageReceived",a),a()};var n=d(a(6)),r=d(a(7)),o=c(a(174)),i=c(a(315)),s=c(a(24)),l=d(a(323)),u=c(a(127));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p=void 0,f=void 0;function h(){var e=(0,n.default)("body").hasClass("music")?o.MUSIC:o.NEWS;e!==f&&(f=e,p(i.ecosystemDetected(f)))}function m(){var e=(0,n.default)("body");e.hasClass("multimedia")||e.hasClass("tmplError")?(p(s.rightRailDetected(!1)),e.addClass("has-no-right-rail")):(p(s.rightRailDetected(!0)),e.removeClass("has-no-right-rail"))}function y(){var e=window.location.href,t=(0,n.default)("body"),a="undefined"!=typeof NPR?(0,r.default)(NPR,"serverVars.storyId",null):null;t.hasClass("id1002")?p(i.pageDetected(u.HOME_PAGE_NEWS,e)):t.hasClass("id1039")?p(i.pageDetected(u.HOME_PAGE_MUSIC,e)):(0,n.default)("ul.podcast-tools").length>0?p(i.pageDetected(u.PODCAST,e)):p(i.pageDetected(u.UNKNOWN,e)),t.hasClass("story-layout")&&a&&p(l.default.storyPageDetected(a))}},470:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){i=e,o=function(){if("undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now)return function(){return window.performance.now()};return Date.now}(),r=o(),setInterval(s,1e3),s()};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(515));var r=void 0,o=void 0,i=void 0;function s(){var e=Date.now(),t=o(),a=t-r;i(n.timerTick(e,a)),r=t}},471:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=d(r),i=(d(a(4)),a(85)),s=a(200),l=d(a(458)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20)),c=d(a(26));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,a,n;p(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.onPlayPauseRequested=function(){n.props.onPlayPauseRequested(n.props.audio,n.props.playedFrom)},n.getAudioInfoComponents=function(){var e=n.props.isNationalNewscast?"NATIONAL NEWSCAST":"LOCAL NEWSCAST";return o.default.createElement("div",null,o.default.createElement("h2",{className:"playable-item__title",key:1},o.default.createElement("span",{className:"playable-item__origin"},e),n.props.audio.title),o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(n.props.audio.duration),key:2},(0,i.secondsAsHMMSS)(n.props.audio.duration)))},f(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=["playable-item__play",(0,s.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)];return o.default.createElement("li",{className:"playable-item-wrap"},o.default.createElement("article",{className:"playable-item playable-item--newscast"},o.default.createElement("div",{className:"playable-item__controls"},o.default.createElement("button",{className:e.join(" "),onClick:this.onPlayPauseRequested},"Play"),o.default.createElement("time",{className:"playable-item__duration",dateTime:(0,i.secondsAsHtmlDuration)(this.props.audio.duration)},(0,i.secondsAsHMMSS)(this.props.audio.duration))),this.props.breakpoint===u.SMALL&&o.default.createElement("a",{className:"playable-item__link",onClick:this.onPlayPauseRequested},this.getAudioInfoComponents()),this.props.breakpoint!==u.SMALL&&this.props.audio.storyUrl&&o.default.createElement(l.default,{linkClass:"playable-item__link",href:this.props.audio.storyUrl,onLinkClick:this.props.onLinkClick,metrics:{action:"click audio title",label:c.default.getUrlPieces(this.props.audio.storyUrl,!1)}},this.getAudioInfoComponents()),this.props.breakpoint!==u.SMALL&&!this.props.audio.storyUrl&&this.getAudioInfoComponents(),this.props.breakpoint!==u.SMALL&&this.props.smallLogoUrl&&o.default.createElement("img",{src:this.props.smallLogoUrl,alt:this.props.logoAlt,className:"player-item-stream__logo"})))}}]),t}(r.Component);t.default=h,h.defaultProps={onLinkClick:function(){},logoAlt:"",smallLogoUrl:""}},472:function(e,t,a){"use strict";var n,r,o=i(a(10));i(a(6));function i(e){return e&&e.__esModule?e:{default:e}}n=[a(6)],void 0===(r=function(e){var t=!1,a=[],n=0;function r(){t?t=!1:((a=a.slice(0,n)).push(e(window).scrollTop()),n=a.length)}function i(){"number"==typeof a[n]&&e(window).scrollTop(a[n])}function s(){0===e("#ad-backstage-wrap").length&&0===e("#ad-mainstage-wrap").length&&0===e("#ad-centerstage-wrap").length&&i()}"scrollRestoration"in history&&(history.scrollRestoration="manual",e(document).on("pjax:send",r),e(document).on("npr:fireScrollOffsetReset",i),e(document).on("pjax:success",s),e(document).on("pjax:popstate",(function(r){"forward"===r.detail.direction?(a[n]=e(window).scrollTop(),n++,t=!0):"back"===r.detail.direction?(a[n]=e(window).scrollTop(),n--,t=!0):o.default.warning("Unrecognized direction received in pjax:popstate handler",r)})))}.apply(t,n))||(e.exports=r)},473:function(e,t,a){"use strict";var n=i(a(10)),r=i(a(474)),o=i(a(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=[];function l(e){1e3===s.length&&s.shift(),s.push(e)}function u(e){return e.toString()}(0,o.default)(n.default).on("npr:log:info",(function(e,t){l(new r.default({level:"INFO",message:t.message,data:t.data}))})),(0,o.default)(n.default).on("npr:log:warning",(function(e,t){l(new r.default({level:"WARNING",message:t.message,data:t.data,exception:t.exception}))})),(0,o.default)(n.default).on("npr:log:error",(function(e,t){l(new r.default({level:"ERROR",exception:t.exception,data:t.data}))})),void 0===window.NPR&&(window.NPR={}),window.NPR.Log={get:function(e){return"string"!=typeof e?s.map(u):s.filter((function(t){return t.level===e})).map(u)}}},474:function(e,t,a){"use strict";function n(e){this.level=e.level,this.message=e.message,this.exception=e.exception,this.data=e.data}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype={toString:function(){var e=this.level+": ";return this.message&&(e+=this.message),this.exception&&(e=e+"\n"+JSON.stringify(this.exception)),this.data&&(e=e+"\n"+JSON.stringify(this.data)),e}},t.default=n},475:function(e,t,a){"use strict";var n=m(a(23)),r=m(a(476)),o=m(a(478)),i=m(a(480)),s=m(a(50)),l=m(a(70)),u=a(14),c=m(a(3)),d=m(a(6)),p=m(a(124)),f=(m(a(95)),m(a(144)),m(a(145))),h=m(a(206));function m(e){return e&&e.__esModule?e:{default:e}}var y=n.default.create();y.name="navigation/global-navigation";var v=(0,h.default)("#main-menu");function g(e,t){var a=document.getElementById(t);if(a){var n=(0,s.default)();l.default.render(c.default.createElement(u.Provider,{store:n},e),a)}}y.onReady=function(){f.default.registerOnChange(b,"intent"),(0,d.default)(document).on("npr:navOverlayOpened",E),(0,d.default)(document).on("npr:navOverlayClosed",k),g(c.default.createElement(r.default,null),"navigation__station-mount"),g(c.default.createElement(i.default,null),"navigation__station-donate-mount"),g(c.default.createElement(o.default,null),"user-account-dropdown-mount"),g(c.default.createElement(o.default,null),"user-account-dropdown-mount-two")};var b=function(e){p.default.isScreenLargerOrEqual(p.default.BREAKPOINT.LARGE)&&("keyboard"===e?_():"mouse"===e&&P())},_=function(){var e=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(e,(function(e){e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded")}));var t=document.querySelectorAll(".npr-header .submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}));var a=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(a,(function(e){e.addEventListener("click",w),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false")}))};function w(e){var t=e.target,a=e.target.parentNode.nextElementSibling;t.classList.toggle("is-expanded"),"false"===t.getAttribute("aria-expanded")?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false");var n=a.classList[2],r=document.querySelectorAll(".menu__item--has-submenu");Array.prototype.forEach.call(r,(function(e){var t=e.querySelectorAll(".submenu")[0],a=t.classList[2],r=t.classList.contains("is-expanded");a!==n&&r&&(e.querySelectorAll(".submenu")[0].classList.toggle("is-expanded"),e.querySelectorAll(".menu__toggle-submenu")[0].classList.toggle("is-expanded"))})),a.classList.toggle("is-expanded")}var P=function(){var e=document.querySelectorAll(".menu__toggle-submenu");Array.prototype.forEach.call(e,(function(e){e.removeEventListener("click",w),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.classList.remove("is-expanded")}));var t=document.querySelectorAll(".submenu.is-expanded");Array.prototype.forEach.call(t,(function(e){e.classList.remove("is-expanded")}))},E=function(){v.activate()},k=function(){v.deactivate()};(0,d.default)("body").hasClass("utility")||y.register()},476:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=h(r),i=(h(a(4)),a(14)),s=h(a(145)),l=h(a(477)),u=f(a(24)),c=f(a(32)),d=f(a(208)),p=a(94);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMouseEnter=function(){a.props.navigation.isStationDropdownExpanded||a.toggleDropDown()},a.handleMouseLeave=function(){a.props.navigation.isStationDropdownExpanded&&a.toggleDropDown()},a.toggleDropDown=function(){a.props.dispatch(d.stationDropdownToggled())},a.onLinkClick=function(e){a.props.dispatch(d.stationDropdownToggled())},a.onSwitchInputIntent=function(e){a.props.dispatch(d.closeStationSubnavs())},a.onNowOnStreamsRegistrationRequested=function(e){a.props.dispatch(c.nowOnStreamsRegistrationRequested(e))},a.onNowOnStreamsUnregistrationRequested=function(e){a.props.dispatch(c.nowOnStreamsUnregistrationRequested(e))},a.onPlayPauseRequested=function(e,t){a.props.dispatch(u.playPauseRequested(e,t)),a.props.dispatch(d.stationDropdownToggled())},a.onAudioModuleMounted=function(){a.props.dispatch(u.audioModuleMounted())},a.onMetadataLoaded=function(e){a.props.dispatch(c.metadataLoaded(e))},a.processIntentChange=function(e){a.onSwitchInputIntent()},a.handlers={onNowOnStreamsRegistrationRequested:a.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:a.onNowOnStreamsUnregistrationRequested,onPlayPauseRequested:a.onPlayPauseRequested,onAudioModuleMounted:a.onAudioModuleMounted,onMetadataLoaded:a.onMetadataLoaded,toggleDropDown:a.toggleDropDown,handleMouseEnter:a.handleMouseEnter,handleMouseLeave:a.handleMouseLeave},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){s.default.registerOnChange(this.processIntentChange,"intent")}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.org,n=e.metadata,r=e.navigation,i=e.site;return o.default.createElement(l.default,{metadata:n,org:a,user:t,navigation:r,site:i,handlers:this.handlers})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,a=e.org;return{navigation:e.navigation,org:a,site:e.site,user:t,localStations:e.localStations,metadata:(0,p.getDerivedMetadata)(e)}}))(m)},477:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(3)),r=(p(a(4)),a(143),p(a(7))),o=(p(a(124)),d(a(127))),i=d(a(28)),s=p(a(201)),l=p(a(166)),u=(p(a(456)),p(a(463))),c=a(36);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.navigation,a=e.metadata,d=e.org,p=e.user,f=e.handlers,h=e.site,m=(0,r.default)(t,"isStationDropdownExpanded"),y=s.default.isUserLoggedIn;if((0,r.default)(p,"org.status")===i.PENDING)return n.default.createElement(l.default,null);var v=(0,r.default)(p,"org.id"),g=d[v],b=void 0;if(g){var _=g.logoUrl?g.logoUrl:g.smallLogoUrl,w=(h.currentPage,o.HOME_PAGE_NEWS,function(e,t,a){var r=e.callLetters,o=""!==t,i="station-text";return r.length>20&&(i+=" has-long-name"),o?n.default.createElement("b",null,n.default.createElement("img",{src:t,alt:"Station Logo"})):n.default.createElement("b",{className:i},r)}(g,_)),P=g.callLetters;b=n.default.createElement("button",{onClick:f.toggleDropDown,"data-metrics-category":"global navigation","data-metrics-action":"toggle station drawer","data-metrics-label":P},w)}var E=v?" is-localized":" is-not-localized";E+=m?" chosen":"";var k,S=y(p),O=d[p.org.id]||{},j=(0,r.default)(O,"streams[0]"),C=j&&a?a[j]:null;return b?n.default.createElement("div",{className:"stations"+E,onMouseEnter:f.handleMouseEnter,onMouseLeave:f.handleMouseLeave},b,n.default.createElement("div",{className:"subnav subnav-stations"},n.default.createElement(u.default,{logoUrl:(k=O,k.logoUrl||k.smallLogoUrl),orgCall:O.callLetters,name:O.name,donateUrl:O.donateUrl,metadata:a,handlers:f,audio:C,isLoggedIn:S,source:c.STATION_DRAWER}))):null}},478:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=d(r),i=(d(a(4)),a(14)),s=d(a(7)),l=d(a(479)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(208)),c=a(125);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,c.getBoundHandlers)(a,["onLinkClick","onUserLoginRequested"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onLinkClick",value:function(){this.props.dispatch(u.closeStationSubnavs())}},{key:"onUserLoginRequested",value:function(){var e=this.props.site,t=(0,s.default)(e,"currentHref")?(0,s.default)(e,"currentHref"):"",a=encodeURIComponent(""+t);window.location.href=(0,s.default)(NPR,"ServerConstants.webHost")+"/account/login?returnUrl="+a}},{key:"render",value:function(){var e=this.props,t=e.navigation,a=e.user,n=e.site;return o.default.createElement(l.default,{navigation:t,user:a,handlers:this.handlers,currentPage:n.currentPage})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{navigation:e.navigation,user:e.user,site:e.site}}))(p)},479:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(3)),r=(i(a(4)),i(a(7))),o=i(a(84));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){e.navigation;var t=e.user,a=e.handlers,i=(e.currentPage,(0,r.default)(t,"view.data.attributes.id")),s=(0,r.default)(t,"oauth.token"),l="/account/profile?uid="+i,u=window.location.pathname;return s?n.default.createElement("div",{className:"user-account is-logged-in"},n.default.createElement(o.default,{className:"user-account__profile",href:l,metrics:{action:"click profile link",label:"account",category:"global navigation"},onClickHandler:a.onLinkClick},"Profile")):n.default.createElement("div",{className:"user-account"},n.default.createElement(o.default,{href:"#",className:"user-account__sign-in",onClickHandler:a.onUserLoginRequested,metrics:{action:"click sign in/register",label:u,category:"global navigation"}},"Sign In"))}},480:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=d(r),i=(d(a(4)),a(14)),s=d(a(7)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(72)),u=d(a(165)),c=a(36);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onDonateLinkClick=function(){var e=a.getOrgId();e&&a.props.dispatch(l.stationChangeRequested(e))},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getOrgId",value:function(){var e=this.props.user;return(0,s.default)(e,"org.id")}},{key:"render",value:function(){var e=this.props.org,t=(0,s.default)(e,""+this.getOrgId());return o.default.createElement(u.default,{metricsCategory:c.GLOBAL_NAVIGATION,onClick:this.onDonateLinkClick,org:t,overrideText:"Donate"})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org}}))(p)},481:function(e,t,a){"use strict";(function(e){var n,r,o,i=a(124),s=(o=i)&&o.__esModule?o:{default:o};n=[a(23),a(6),a(307),a(459)],void 0===(r=function(e,t,a){var n=e.create();function r(e,a){e.children("ul").fadeIn(300),t(a).each((function(e,a){o(t(a).parent("li"))}))}function o(e){e.children("ul").fadeOut()}n.name="globalfooter",n.onReady=function(){var e,n={over:function(){return r(t(this)),!1},timeout:0,out:function(){return o(t(this)),!1},interval:50};a.touch||s.default.isOnPhone()||s.default.isOnTablet()?(e=t(".primary > ul > li.has-subnav > a","#nprfooter")).on("click",(function(a){a.preventDefault();var n=t(this).parent("li"),i=this,s=t.grep(e,(function(e){return e!==i}));n.children("ul").is(":visible")?o(n):r(n,s)})):(e=t(".primary > ul > li.has-subnav","#nprfooter")).hoverIntent(n)},n.onUnload=function(){t(".primary > ul > li","#nprfooter").off("click")},n.register()}.apply(t,n))||(e.exports=r)}).call(this,a(63)(e))},482:function(e,t,a){"use strict";var n=o(a(6)),r=o(a(23));function o(e){return e&&e.__esModule?e:{default:e}}a(483);var i=r.default.create();i.name="fitvids",i.onReady=function(){try{(0,n.default)(".bucketwrap.statichtml").fitVids({customSelector:'iframe[src^="https://www.facebook.com/plugins/video"], iframe[src*="www.funnyordie.com"]'})}catch(e){}},i.register()},483:function(e,t,a){(function(){
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
!function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',n.appendChild(r.childNodes[1])}return t&&e.extend(a,t),this.each((function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];a.customSelector&&t.push(a.customSelector);var n=e(this).find(t.join(","));(n=n.not("object object")).each((function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var a=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var n="fitvid"+Math.floor(999999*Math.random());t.attr("id",n)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}}))}))}}(a(6)||window.Zepto)}).call(window)},484:function(e,t,a){"use strict";n(a(6));function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(23)).default.create();r.name="nielsen",r.onReady=function(){var e=new Image(1,1);e.onerror=e.onload=function(){e.onerror=e.onload=null},e.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803244h&cg=0&cc=1&si=",encodeURIComponent(window.location.href),"&rp=",encodeURIComponent(document.referrer),"&ts=compact&rnd=",(new Date).getTime()].join("")},r.register()},485:function(e,t,a){"use strict";var n,r=a(23);var o=((n=r)&&n.__esModule?n:{default:n}).default.create();function i(){return window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.storyId?window.NPR.serverVars.storyId:""}function s(){switch(i()){case"1002":return"homep0";case"1001":return"newsn0";case"1008":return"artsn0";case"129554188":return"npr_e0";case"376751684":return"podca0";case"":switch(document.location.pathname){case"/programs":case"/programs/":return"progr0";case"/podcasts/organizations/1":case"/podcasts/organizations/s1":case"/podcasts/organizations/1/":case"/podcasts/organizations/s1/":return"podca00";default:return""}default:return"NPR Extra"===(window.NPR&&window.NPR.serverVars&&window.NPR.serverVars.blog?window.NPR.serverVars.blog:"")?"npr_e0":""}}o.name="metrics/doubleclickFloodlight",o.onReady=function(){var e=s();if(e){var t="1002"===i()?"homep0":"secti0",a=(1e13*Math.random()).toString().split(".")[0],n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("style","display:none"),n.setAttribute("src","https://6635101.fls.doubleclick.net/activityi;src=6635101;type="+t+";cat="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+a+"?");var r=document.getElementsByTagName("main");r.length&&r[0].appendChild(n)}},o.register()},486:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(6)),r=f(a(23)),o=f(a(487)),i=f(a(144)),s=f(a(50)),l=f(a(7)),u=f(a(10)),c=p(a(488)),d=p(a(214));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=r.default.create();h.name="jw";var m=[],y=function(){var e=(0,n.default)("ul.playlist").height(),t=(0,n.default)(".playlist-item"),a=null,r=null;t.each((function(o,i){var s=(0,n.default)(this).position().top,l=(0,n.default)(this).height();s>-1&&null==a?(a=this,(0,n.default)(this).addClass("first").siblings().removeClass("first")):s+l>e&&null==r&&(r=(0,n.default)(t[o-1]),(0,n.default)(t[o]).addClass("last").siblings().removeClass("last"))}))},v=function(e,t,r){a.e(87).then(function(p){var f=a(103);void 0===window.jwplayer&&(window.jwplayer=f),window.jwplayer.key=o.default.getKey(NPR.serverVars.aggIds);var h=window.jwplayer(e).setup(t);m.push(h),h.on("play",(function(){return(0,n.default)("#"+e+" .jw-controlbar.jw-reset").css("display","block")})),h.on("beforePlay",(function(){var e,a,n=(0,s.default)().getState(),r=(0,l.default)(n,"sponsorship").videoLastPlayedTimestamp;t.videoPrerollAdUrl&&(e=r,a=h.getCurrentTime(),(Date.now()/1e3-e>=d.SPONSORSHIP_INTERVAL||!e)&&0===a)?(u.default.info("JW: Attempting to play an ad. Last played timestamp: "+r),h.playAd(t.videoPrerollAdUrl)):u.default.info("JW: Not playing sponsorship. Last played at: "+r)})),h.on("adComplete",(function(){u.default.info("JW: Preroll ad complete."),(0,s.default)().dispatch(c.videoPrerollEnded())})),h.on("levelsChanged",(function(e){var t=h.getPlaylistItem(),a=t.title,n=""+h.getDuration(),r=t.resId.toString(),o=e.levels[e.currentQuality].label;ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:"change video quality to "+o,eventLabel:a,dimension47:r,dimension48:a,dimension49:n})})),h.on("fullscreen",(function(){var e=h.getPlaylistItem(),t=e.title,a=""+h.getDuration(),n=e.resId.toString(),r=jwplayer().getFullscreen()?"click fullscreen":"exit fullscreen";ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:r,eventLabel:t,dimension47:n,dimension48:t,dimension49:a})})),h.on("seek",(function(e){var t=h.getPlaylistItem(),a=t.title,n=""+h.getDuration(),r=t.resId.toString(),o=Math.round(e.position),i="Seek "+Math.round(e.offset-e.position)+" seconds";ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:i,eventLabel:a,eventValue:o,dimension47:r,dimension48:a,dimension49:n})})),h.on("volume",(0,i.default)((function(e){var t=h.getPlaylistItem(),a=t.title,n=""+h.getDuration(),r=t.resId.toString();ga("send",{hitType:"event",eventCategory:"JW Player Video",eventAction:"adjust volume",eventLabel:a,eventValue:e.volume,dimension47:r,dimension48:a,dimension49:n})}),500)),r&&E(h,r)}.bind(null,a)).catch(a.oe)},g=window.matchMedia("(min-width: 768px)"),b=function(e,t){g.matches&&(0,n.default)(".playlist-wrapper").fadeIn().css("height",(0,n.default)(t).height());(0,n.default)(e+" ul.playlist");y(),(0,n.default)(e+" ul.playlist").scroll((function(){(0,n.default)("ul.playlist").scrollTop()>4?(0,n.default)(e+" .playlist__gradient--top").fadeIn():(0,n.default)(e+" .playlist__gradient--top").fadeOut(),(0,n.default)("ul.playlist")[0].scrollHeight-(0,n.default)("ul.playlist").height()<=(0,n.default)("ul.playlist").scrollTop()?(0,n.default)(".playlist__gradient--bottom").fadeOut():(0,n.default)(".playlist__gradient--bottom").fadeIn(),y()}))};function _(){(0,n.default)("[data-jwplayer]").each((function(e,t){var a=o.default.loadFromDiv(t).getConfig();if(a){var r=(0,n.default)(t);v(r.attr("id"),a),r.removeAttr("data-jwplayer")}}))}var w=function(e,t,a){var r=(0,n.default)(a.target).closest("a").data("mediaid"),o=e.findIndex((function(e){return r===e.mediaid}));a.preventDefault(),t.playlistItem(o)},P=function(e,t){var a=t.item.mediaid,r=(0,n.default)(e+" .playlist").find("[data-mediaid='"+a+"']").closest("li");r.addClass("active").siblings().removeClass("active");var o=(0,n.default)(e+" ul.playlist").scrollTop()+r.offset().top;if(o-=(0,n.default)(e+" ul.playlist").offset().top,g.matches)(0,n.default)(e+" ul.playlist").animate({scrollTop:o},400);else{var i=(0,n.default)(e+" ul.playlist").scrollLeft()+r.offset().left;i-=(0,n.default)(e+" ul.playlist").offset().left+10,(0,n.default)(e+" ul.playlist").animate({scrollLeft:i},400)}},E=function(e,t){var a={};a.playlist=e.getPlaylist(),(0,n.default)(t+" .playlist-wrapper").on("click",".playlist-item-link",w.bind(void 0,a.playlist,e)),e.on("playlistItem",P.bind(void 0,t))};function k(){var e=this;(0,n.default)("[data-jwplayer-playlist]").each((function(t,a){var r=o.default.loadPlaylistFromDiv(a).getPlaylistConfig();if(r){var i=(0,n.default)(a),s=i.attr("data-player-id"),l="#"+s,u="#"+i.attr("data-playlist-id");v(s,r,u),function e(t,a){(0,n.default)(t).height()?a():setTimeout((function(){e(t,a)}),100)}(l,b.bind(e,u,l)),i.removeAttr("data-jwplayer-playlist"),window.onresize=function(){g.matches?(0,n.default)(".playlist-wrapper").fadeIn().css("height",(0,n.default)("#"+s).height()):(0,n.default)(".playlist-wrapper").css("height","auto")}}}))}(0,n.default)(".playlist").keydown((function(e){13===e.which?document.activeElement.click():40===e.which?(0,n.default)(".playlist-item.active").next().find("a").trigger("click"):38===e.which&&(0,n.default)(".playlist-item.active").prev().find("a").trigger("click")})),h.onReady=function(){k(),_()},h.onUnload=function(){var e=void 0;if(m.length){for(e=0;e<m.length;e+=1)m[e].remove();m=[]}},h.register(),t.default={initPlayers:_}},487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(6),o=(n=r)&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(462));var s={JW_KEY:"Su8xStwAXR9gtor+0mdECJBHFZPPRE5MZo9e4feYE9O8a9Gg",JW_MUSIC_KEY:"GdFmEh97a/VGRu/sVb+wXsioVUZxKEoYiOF7lWfzEcW4Uznb"},l=[i.MUSIC_HOMEPAGE,i.CONCERTS_TOPIC,i.MUSIC_VIDEO_TOPIC,i.TINY_DESK,i.ALL_SONGS,i.MUSIC_LIVE_EVENT],u=function(e){this.skinSource=e.skinSource,this.width=e.width,this.height=e.height,this.image=e.image,this.sources=e.sources,this.videoPrerollAdUrl=e.videoPrerollAdUrl,this.shareUrl=e.shareUrl,this.embedLink=e.embedLink,this.tracks=e.tracks,this.webHost=e.webHost,this.resId=e.resId};u.prototype.getConfig=function(){var e=this._getBaseConfig();return e.playlist=[{image:this.image,sources:this.sources,tracks:this.tracks}],e},u.prototype._getBaseConfig=function(){var e={controls:!0,aspectratio:"16:9",repeat:!1,width:this.width,height:this.height,ga:{}};return e=this._addSkin(e),e=this._addSharing(e),e=this._addSponsorship(e)},u.prototype.getPlaylistConfig=function(){var e=this._getBaseConfig();return e.playlist=this.playlist,this.playlist&&(e.repeat=!0,e=this._addSharingForPlaylist(e)),e},u.prototype._addSkin=function(e){return e.skin={name:"npr",url:this.skinSource},e},u.prototype._addSharing=function(e){if(this.embedLink){var t="news";if("undefined"!=typeof URL&&"undefined"!=typeof window&&"undefined"!==window.location)t=new URL(window.location).searchParams.get("jwMediaType"),NPR.serverVars.aggIds&&NPR.serverVars.aggIds.some((function(e){return l.indexOf(parseInt(e,10))>=0}))&&(t="music");e.sharing={link:this.webHost+"MEDIAID?jwsource=cl",code:'<iframe id="jw_embed" width="600" height="338" src="'+this.embedLink+"&jwMediaType="+t+'" frameborder="0" scrolling="no"></iframe>'}}return e},u.prototype._addSharingForPlaylist=function(e){return this.embedLink&&(e.sharing={link:this.webHost+"MEDIAID?jwsource=cl"}),e},u.prototype._addSponsorship=function(e){return this.videoPrerollAdUrl&&(e.advertising={client:"googima",admessage:"NPR thanks our sponsors. Your video will begin shortly."},e.videoPrerollAdUrl=this.videoPrerollAdUrl),e};t.default={JWModel:u,loadFromDiv:function(e){return new u((0,o.default)(e).data("jwplayer"))},loadPlaylistFromDiv:function(e){var t=(0,o.default)(e).data("jwplayer-playlist"),a=new u(t[0]),n=function(e){var t=[];return e.forEach((function(e){t.push({image:e.image,sources:e.sources,tracks:e.tracks,title:e.title,description:e.description,duration:e.duration,mediaid:e.mediaid,resId:parseInt(e.resId,10)})})),t}(t);return a.playlist=n,a},getKey:function(e){if("undefined"!=typeof URL&&"undefined"!==window&&"undefined"!==window.location){var t=new URL(window.location).searchParams.get("jwMediaType");if(!e&&"music"!==t)return s.JW_KEY;if(e&&e.some((function(e){return l.indexOf(parseInt(e,10))>=0}))||"music"===t)return s.JW_MUSIC_KEY}return s.JW_KEY},Constants:s}},488:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoPrerollEnded=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1));t.videoPrerollEnded=function(){return{type:n.VIDEO_PREROLL_ENDED}}},489:function(e,t,a){"use strict";var n=f(a(3)),r=f(a(70)),o=a(14),i=f(a(6)),s=f(a(23)),l=f(a(50)),u=f(a(490)),c=f(a(465)),d=a(467);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=[p(a(468)),p(a(469)),p(a(470)),p(a(516)),p(a(517)),p(a(519)),p(a(520))],m=s.default.create();m.name="persistent-audio";var y=(0,l.default)();m.init=function(){h.map((function(e){return e.init(y.dispatch)})),(0,i.default)(document).on("newAudioModules",(function(){return(0,d.mountAudioModules)(y)})),(0,i.default)("#globalheader").length&&((0,i.default)("#globalheader").before('<div id="player-react-mount"></div>'),r.default.render(n.default.createElement("div",{className:"player-react-mount-inner"},n.default.createElement(o.Provider,{store:y},n.default.createElement(c.default,null)),n.default.createElement(o.Provider,{store:y},n.default.createElement(u.default,null))),document.getElementById("player-react-mount")))},m.onReady=function(){(0,d.mountAudioModules)(y)},m.onUnload=function(){(0,d.unmountAudioModules)()},m.register()},490:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=I(r),i=(I(a(4)),a(14)),s=a(143),l=I(a(206)),u=x(a(24)),c=x(a(32)),d=x(a(97)),p=x(a(147)),f=x(a(146)),h=x(a(217)),m=x(a(72)),y=x(a(170)),v=x(a(16)),g=x(a(101)),b=x(a(99)),_=I(a(491)),w=I(a(498)),P=I(a(499)),E=I(a(502)),k=I(a(503)),S=x(a(20)),O=x(a(98)),j=I(a(505)),C=a(94),N=a(87),A=a(125),M=a(148),T=a(100),R=a(51),L=a(21);function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var D=o.default.lazy((function(){return Promise.all([a.e(6),a.e(89)]).then(a.t.bind(null,1173,7))})),q=o.default.lazy((function(){return Promise.all([a.e(6),a.e(90)]).then(a.t.bind(null,1174,7))})),F=o.default.lazy((function(){return a.e(96).then(a.t.bind(null,1175,7))})),U=o.default.lazy((function(){return a.e(95).then(a.t.bind(null,1176,7))})),B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,A.getBoundHandlers)(a,["onToggleExpanded","onTogglePlay","onRewind","onFastForward","onScrubBegin","onSeek","onScrubEnd","onPreviousAudioPlayRequested","onSkip","onSponsorshipSlotAvailable","onMobileSponsorshipSlotAvailable","onSoundscapesBannerClick","onMetadataLoaded","onPlayPauseRequested","onAddToQueue","onRemoveFromQueue","onLinkClick","onDonateLinkClick","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","newscastRequested","onAutoplayEnabled","onAutoplayDisabled","onSetAudioPlayerVolume","onPaneSelectedStreaming","onChangeStationSmallBp"]),a.focusTrap=(0,l.default)("#player-react-mount"),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onToggleExpanded",value:function(){this.props.dispatch(u.toggleExpanded())}},{key:"onTogglePlay",value:function(e){this.props.dispatch(u.togglePlay(e,{playedFrom:"from play head"}))}},{key:"onRewind",value:function(e){this.props.dispatch(u.rewind(e))}},{key:"onFastForward",value:function(e){this.props.dispatch(u.fastForward(e))}},{key:"onScrubBegin",value:function(e){this.props.dispatch(u.scrubBegin(e))}},{key:"onSeek",value:function(e,t){this.props.dispatch(u.seek(e,t))}},{key:"onScrubEnd",value:function(e){this.props.dispatch(u.scrubEnd(e))}},{key:"onPreviousAudioPlayRequested",value:function(){this.props.dispatch(h.previousAudioPlayRequested())}},{key:"onSkip",value:function(){this.props.dispatch(u.skip())}},{key:"onSponsorshipSlotAvailable",value:function(){this.props.dispatch(p.sponsorshipSlotAvailable())}},{key:"onMobileSponsorshipSlotAvailable",value:function(){this.props.dispatch(p.setMobileSponsorshipSlotAvailable())}},{key:"onSoundscapesBannerClick",value:function(){this.props.dispatch(p.soundscapesBannerClicked(this.props.player.currentUid))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(c.metadataLoaded(e))}},{key:"onPlayPauseRequested",value:function(e,t){this.props.dispatch(u.playPauseRequested(e,{playedFrom:t}))}},{key:"onAddToQueue",value:function(e){this.props.dispatch(d.queueButtonPressed(e,b.PLAYER))}},{key:"onRemoveFromQueue",value:function(e){this.props.dispatch(d.removeOneFromQueue(e))}},{key:"onLinkClick",value:function(e){this.props.dispatch(f.linkClicked(e))}},{key:"onDonateLinkClick",value:function(e){this.props.dispatch(m.stationChangeRequested(e))}},{key:"onAutoplayEnabled",value:function(){this.props.dispatch(y.enableContinuousListening())}},{key:"onAutoplayDisabled",value:function(){this.props.dispatch(y.disableContinuousListening())}},{key:"onSetAudioPlayerVolume",value:function(e){this.props.dispatch(u.setAudioPlayerVolume(e))}},{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(c.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(c.nowOnStreamsUnregistrationRequested(e))}},{key:"onPaneSelectedStreaming",value:function(){this.props.dispatch(f.streamingPaneSelectedWithPlay())}},{key:"onChangeStationSmallBp",value:function(){this.props.dispatch(f.paneChangeWithExpand(g.STREAMING))}},{key:"getLocalStationCount",value:function(){return this.props.localStations.stations.length}},{key:"getPlayerControls",value:function(e,t){var a=!this.props.queue.length,n=!this.props.history.length||this.props.historyHeadPosition===this.props.history.length;switch(e.type){case v.SEGMENT:return o.default.createElement(r.Suspense,{fallback:o.default.createElement(E.default,{player:this.props.player,handlers:t})},o.default.createElement(D,{handlers:t,player:this.props.player,site:this.props.site,audio:e,isQueueEmpty:a,isHistoryEmpty:n,ecosystem:this.props.site.ecosystem,isMobileDevice:this.props.isMobileDevice}));case v.STREAM:return o.default.createElement(r.Suspense,{fallback:o.default.createElement(E.default,{player:this.props.player,handlers:t})},o.default.createElement(q,{handlers:t,player:this.props.player,site:this.props.site,audio:e,org:this.props.org,currentAudio:e,ecosystem:this.props.site.ecosystem}));case v.SPONSORSHIP:return(0,T.isSoundscapes)(e.subtype)?o.default.createElement(r.Suspense,{fallback:o.default.createElement(E.default,{player:this.props.player,handlers:t})},o.default.createElement(U,{handlers:t,player:this.props.player,audio:e,sponsorship:this.props.sponsorship})):o.default.createElement(r.Suspense,{fallback:o.default.createElement(E.default,{player:this.props.player,handlers:t})},o.default.createElement(F,{handlers:t,player:this.props.player,audio:e}));default:return o.default.createElement("div",null)}}},{key:"newscastRequested",value:function(e){this.props.dispatch(NewscastActions.newscastRequested(e))}},{key:"render",value:function(){var e=new Set,t=!this.props.sponsorship.sponsorshipDiv&&this.props.player.env.breakpoint!==S.SMALL,a=this.props.player.env.breakpoint===S.SMALL&&(this.props.sponsorship.isPlayingSponsorship||this.props.player.isExpanded);this.props.player.isEngaged&&(e.add("has-engaged-player"),this.props.player.isExpanded&&e.add("has-expanded-engaged-player"));var n=this.props.player.isEngaged,r={};this.props.player.currentUid&&this.props.metadata[this.props.player.currentUid]&&(r=this.props.metadata[this.props.player.currentUid]);var i=void 0;if(this.props.sponsorship.loadCustomAdBackground){var l=(0,M.getUidFromAdSlotName)(O.PLAYER_PRIMARY,this.props.sponsorship.sponsorshipDiv);i=this.props.metadata[l]}var u=!!this.props.player.currentUid&&this.getPlayerControls(r,this.handlers),c=new Set;return r.type===v.STREAM&&c.add("has-live-radio"),this.props.sponsorship.isPlayingSponsorship&&c.add("is-playing-sponsorship"),this.props.sponsorship.mobileSponsorshipDiv&&c.add("has-mobile-sponsorship"),this.props.player.isPaneExpanded&&c.add("has-expanded-pane"),this.props.player.isExpanded&&this.props.player.env.breakpoint===S.SMALL?this.focusTrap.activate():this.focusTrap.deactivate(),o.default.createElement("div",{className:"player-wrap-outer "+Array.from(e).join(" ")},o.default.createElement("div",{className:"player-wrap-inner"},o.default.createElement(j.default,{player:this.props.player,handlers:this.handlers},o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionEnterTimeout:250,transitionLeaveTimeout:250},o.default.createElement("section",{id:"npr-player",className:"npr-player "+Array.from(c).join(" "),"aria-label":"NPR audio player"},o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:250,transitionEnterTimeout:250,transitionLeaveTimeout:250},(!n||!this.props.player.currentUid)&&o.default.createElement(_.default,{metadata:this.props.metadata,localOrg:this.props.org[this.props.user.org.id],orgStatus:this.props.user.org.status,site:this.props.site,handlers:this.handlers,queue:this.props.queue,player:this.props.player,localStationCount:this.getLocalStationCount()})),o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionEnterTimeout:250,transitionLeaveTimeout:250},n&&u),o.default.createElement(w.default,null),o.default.createElement(P.default,null),o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},this.props.sponsorship.mobileSponsorshipDiv&&o.default.createElement("div",null,!this.props.sponsorship.isPlayingSponsorship&&o.default.createElement("p",{className:"mobile-sponsorship-message"},"A message from our sponsor"),o.default.createElement(k.default,{show:a,handlers:this.handlers,isMobileSlot:this.props.player.env.breakpoint===S.SMALL,divName:this.props.sponsorship.mobileSponsorshipDiv,leaveBehind:""}))),this.props.sponsorship.sponsorshipDiv&&o.default.createElement(k.default,{show:!0,divName:this.props.sponsorship.sponsorshipDiv,metadata:i,handlers:this.handlers}),this.props.sponsorship.leaveBehindDiv&&o.default.createElement("div",{className:"ad-leave-behind-container"},o.default.createElement("div",{className:"ad-leave-behind"},o.default.createElement(k.default,{show:t,divName:this.props.sponsorship.leaveBehindDiv,handlers:this.handlers}),t&&o.default.createElement("div",{className:"sponsorship-info"},o.default.createElement("b",null,"NPR thanks our sponsors"),o.default.createElement("a",{href:(0,R.getWebHost)()+"/about-npr/186948703/corporate-sponsorship"},"Become an NPR sponsor")))))))))}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.player,a=e.org,n=e.site,r=e.sponsorship,o=e.user,i=e.localStations;return{player:t,org:a,site:n,queue:(0,L.getConstructedQueue)(e),history:(0,L.getPlayerHistory)(e),historyHeadPosition:(0,L.getCurrentPlayerHistoryHeadPosition)(e),sponsorship:r,user:o,localStations:i,metadata:(0,C.getDerivedMetadata)(e),isMobileDevice:(0,N.isMobileDevice)(e)}}))(B)},491:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=m(r),i=(m(a(4)),m(a(129))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(28)),l=m(a(492)),u=m(a(493)),c=m(a(494)),d=m(a(495)),p=m(a(166)),f=a(496),h=m(a(497));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getInitialComponent",value:function(){if(this.props.player.currentUid){var e=this.props.metadata[this.props.player.currentUid];if((0,f.canResumeAudio)(e,this.props.player.position))return o.default.createElement(c.default,{handlers:this.props.handlers,audioToResume:e,player:this.props.player})}if(this.props.queue&&this.props.queue.length){var t=(0,i.default)(this.props.queue),a=this.props.metadata[t];return o.default.createElement(u.default,{handlers:this.props.handlers,headOfQueue:a,player:this.props.player})}if(this.props.player.featuredAudio.featuredAudioProgramUid&&this.props.metadata[this.props.player.featuredAudio.featuredAudioUid]&&!this.props.localOrg){var n=this.props.metadata[this.props.player.featuredAudio.featuredAudioUid];return o.default.createElement(h.default,{handlers:this.props.handlers,audioToFeature:n,player:this.props.player})}return this.props.orgStatus!==s.PENDING&&this.props.localStationCount>0&&!this.props.localOrg?o.default.createElement("div",null,o.default.createElement(d.default,{handlers:this.props.handlers,player:this.props.player,metadata:this.props.metadata})):this.props.orgStatus!==s.PENDING?o.default.createElement("div",null,o.default.createElement(l.default,{handlers:this.props.handlers,localOrg:this.props.localOrg,metadata:this.props.metadata,player:this.props.player})):o.default.createElement(p.default,null)}},{key:"render",value:function(){return o.default.createElement("div",{className:"player-initial"},this.getInitialComponent())}}]),t}(r.Component);t.default=g},492:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=f(r),i=(f(a(4)),a(538)),s=a(540),l=a(541),u=p(a(132)),c=f(a(96)),d=p(a(20));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){if(e.localOrg){var t=(0,i.pick)(e.metadata,e.localOrg.streams);return(0,l.find)(t,{primary:!0})}},m=function(e){var t=h(e);t&&e.handlers.onNowOnStreamsRegistrationRequested(t)},y=function(e){var t=h(e);t&&e.handlers.onNowOnStreamsUnregistrationRequested(t)},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.bindAll)(a,["onClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){c.default.bind(["mod+shift+space"],this.onClick),m(this.props)}},{key:"componentDidUpdate",value:function(e){var t=h(e),a=h(this.props);!t||!t.uid||a&&a.uid===t.uid||y(e),!a||!a.uid||t&&t.uid===a.uid||m(this.props)}},{key:"componentWillUnmount",value:function(){c.default.unbind(["mod+shift+space"],this.onClick),y(this.props)}},{key:"onClick",value:function(e){e.preventDefault();var t=h(this.props)||u.STREAM_24_HOUR_PROGRAM_METADATA;this.props.handlers.onPlayPauseRequested(t,"from initial state station stream")}},{key:"getNowPlayingText",value:function(){var e=h(this.props);return e&&e.nowPlayingText}},{key:"render",value:function(){var e=void 0,t=void 0,a=void 0;return h(this.props)?(e=this.props.localOrg.name,t=this.getNowPlayingText()||"On Air Now"):(e=u.STREAM_24_HOUR_PROGRAM_METADATA.title,t="On Air Now",a="program-stream"),o.default.createElement("article",{className:"player-item item-initial item-news"},this.props.player.env.breakpoint===d.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one "+a},e),o.default.createElement("b",{className:"tag-two"},t))))}}]),t}(r.Component);t.default=v},493:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=u(r),i=(u(a(4)),u(a(71))),s=u(a(96)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(a,["onClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.headOfQueue,"from initial state first item in queue")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-play-queue"},this.props.player.env.breakpoint===l.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Start Listening"),o.default.createElement("b",{className:"tag-two"},"Play Your Playlist"))))}}]),t}(r.Component);t.default=c},494:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=u(r),i=(u(a(4)),u(a(71))),s=u(a(96)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(a,["onClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToResume,"from initial state - resume")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-resume"},this.props.player.env.breakpoint===l.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial",onClick:this.onClick},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},"Resume Listening"),o.default.createElement("b",{className:"tag-two"},this.props.audioToResume.title))))}}]),t}(r.Component);t.default=c},495:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=l(r),i=(l(a(4)),l(a(96))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){i.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){i.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-liveradio"},this.props.player.env.breakpoint===s.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Close")),this.props.player.env.breakpoint===s.SMALL&&o.default.createElement("button",{className:"toggle-expanded-initial-player toggle-expanded-initial-player--two",onClick:this.props.handlers.onPaneSelectedStreaming,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},"Open"),o.default.createElement("button",{className:"play-initial",onClick:this.props.handlers.onPaneSelectedStreaming},o.default.createElement("b",null,o.default.createElement("b",{className:"tag-one"},o.default.createElement("span",null,"Play Live Radio")))))}}]),t}(r.Component);t.default=d},496:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canResumeAudio=function(e,t){return e&&(e.type===n.STREAM||e.duration-t>10)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(16))},497:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=u(r),i=(u(a(4)),u(a(71))),s=u(a(96)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(a,["onClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.handlers.onPlayPauseRequested(this.props.audioToFeature,"from initial state - featured audio")}},{key:"componentDidMount",value:function(){s.default.bind(["mod+shift+space"],this.onClick)}},{key:"componentWillUnmount",value:function(){s.default.unbind(["mod+shift+space"],this.onClick)}},{key:"render",value:function(){return o.default.createElement("article",{className:"player-item item-initial item-featured-audio"},this.props.player.env.breakpoint===l.SMALL&&o.default.createElement("div",{className:"toggle-expanded-initial-player-wrap"},o.default.createElement("button",{id:"toggle-expanded-initial-player",className:"toggle-expanded-initial-player",onClick:this.props.handlers.onToggleExpanded,type:"button","aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close")),o.default.createElement("button",{className:"play-initial player-initial--featured-audio",onClick:this.onClick},o.default.createElement("b",{className:"tag-wrapper-featured-audio"},o.default.createElement("b",{className:"tag-one tag-one--featured-audio"},"Today's Top Headlines In"===this.props.player.featuredAudio.featuredAudioText?this.props.player.featuredAudio.featuredAudioText+=" "+Math.floor(this.props.audioToFeature.duration/60).toString()+" Minutes.":this.props.player.featuredAudio.featuredAudioText),o.default.createElement("b",{className:"image-wrapper-featured-audio"},o.default.createElement("img",{className:"image-featured-audio",src:this.props.player.featuredAudio.featuredAudioImage})))))}}]),t}(r.Component);t.default=c},498:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=j(r),i=(j(a(4)),a(14)),s=a(143),l=j(a(86)),u=O(a(101)),c=O(a(99)),d=O(a(16)),p=O(a(24)),f=O(a(147)),h=O(a(146)),m=O(a(72)),y=O(a(170)),v=O(a(32)),g=O(a(97)),b=O(a(202)),_=a(94),w=a(87),P=O(a(20)),E=a(74),k=a(21),S=O(a(35));function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=o.default.lazy((function(){return a.e(83).then(a.t.bind(null,1177,7))})),M=o.default.lazy((function(){return a.e(84).then(a.t.bind(null,1178,7))})),T=o.default.lazy((function(){return a.e(86).then(a.t.bind(null,1179,7))})),R=function(e){function t(){var e,a,n;C(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onSoundscapesBannerClick=function(){n.props.onSoundscapesBannerClick(n.props.player.currentUid)},n.getCurrentAudioMetadata=function(){return n.props.player.currentUid&&n.props.metadata[n.props.player.currentUid]?n.props.metadata[n.props.player.currentUid]:{}},n.getAvailableLocalNewscastId=function(){var e=n.props.user.org.id;return n.props.metadata[(0,E.getNewscastUidForOrg)(e)]?e:0},n.getContentForPanel=function(){var e=n.props.user.org.id,t=e&&e!==S.NPR?n.props.org[e]:{},a=!(n.props.player.env.breakpoint===P.SMALL&&(0,l.default)(t)&&!n.props.player.currentUid);switch(n.props.currentPane){case u.STREAMING:return o.default.createElement(A,{metadata:n.props.metadata,orgs:n.props.org,localStations:n.props.localStations,userOrg:t,onPlayPauseRequested:n.props.onPlayPauseRequested,onNowOnStreamsRegistrationRequested:n.props.onNowOnStreamsRegistrationRequested,onNowOnStreamsUnregistrationRequested:n.props.onNowOnStreamsUnregistrationRequested,breakpoint:n.props.player.env.breakpoint,isPaneExpanded:!0===n.props.player.isPaneExpanded,collapsePane:n.props.collapsePane,stationChangeRequested:n.props.stationChangeRequested,findAnotherStationCallback:n.findAnotherStationCallback,onLinkClick:n.props.onLinkClick,availableLocalNewscastId:n.getAvailableLocalNewscastId(),shouldRenderOverlayCloseButton:a});case u.ON_DEMAND:return o.default.createElement(M,{metadata:n.props.metadata,queue:n.props.queue,isAudioRecommendationFunc:n.props.isAudioRecommendationFunc,history:n.props.history,isAutoplayEnabled:n.props.isAutoplayEnabled,onPlayPauseRequested:n.props.onPlayPauseRequested,onAddToQueue:n.props.onAddToQueue,onRemoveFromQueue:n.props.onRemoveFromQueue,onLinkClick:n.props.onLinkClick,onAutoplayEnabled:n.props.onAutoplayEnabled,onAutoplayDisabled:n.props.onAutoplayDisabled,isSmallBreakpoint:n.props.isSmallBreakpoint});case u.NEWSCAST:return o.default.createElement(T,{metadata:n.props.metadata,onPlayPauseRequested:n.props.onPlayPauseRequested,onNewscastRequested:n.props.newscastRequested,orgs:n.props.org,userOrg:t,isPlaying:n.props.player.isPlaying,onLinkClick:n.props.onLinkClick,isAutoplayEnabled:n.props.isAutoplayEnabled,onAutoplayEnabled:n.props.onAutoplayEnabled,onAutoplayDisabled:n.props.onAutoplayDisabled,isMobileDevice:n.props.isMobileDevice,isSmallBreakpoint:n.props.isSmallBreakpoint});default:return null}},n.findAnotherStationCallback=function(){n.props.player.env.breakpoint===P.SMALL&&n.props.collapsePane()},n.shouldRenderContentArea=function(){var e=n.getCurrentAudioMetadata(),t=n.props.player,a=t.isEngaged,r=t.isExpanded,o=t.isPaneExpanded;return a&&r&&o&&e.type!==d.SPONSORSHIP},N(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return o.default.createElement(s.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},o.default.createElement(r.Suspense,{fallback:o.default.createElement("div",{className:"player-details player-details--lazy","aria-label":"loading"})},this.shouldRenderContentArea()&&this.getContentForPanel()))}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,org:e.org,user:e.user,localStations:e.localStations,isAudioRecommendationFunc:function(t){return(0,k.isAudioRecommendation)(e,t)},currentPane:(0,k.getCurrentPane)(e),queue:(0,k.getConstructedQueue)(e),history:(0,k.getPlayerHistory)(e),metadata:(0,_.getDerivedMetadata)(e),isSmallBreakpoint:(0,w.isSmallBreakpoint)(e),isMobileDevice:(0,w.isMobileDevice)(e),isAutoplayEnabled:(0,k.shouldEnableContinuousListening)(e)}}),(function(e){return{onSoundscapesBannerClick:function(t){return e(f.soundscapesBannerClicked(t))},onPlayPauseRequested:function(t,a){return e(p.playPauseRequested(t,{playedFrom:a}))},onAddToQueue:function(t){return e(g.queueButtonPressed(t,c.PLAYER))},onRemoveFromQueue:function(t){return e(g.removeOneFromQueue(t))},onLinkClick:function(t){return e(h.linkClicked(t))},onAutoplayEnabled:function(){return e(y.enableContinuousListening())},onAutoplayDisabled:function(){return e(y.disableContinuousListening())},onNowOnStreamsRegistrationRequested:function(t){return e(v.nowOnStreamsRegistrationRequested(t))},onNowOnStreamsUnregistrationRequested:function(t){return e(v.nowOnStreamsUnregistrationRequested(t))},newscastRequested:function(t){return e(b.newscastRequested(t))},collapsePane:function(){return e(h.collapsePane())},stationChangeRequested:function(t){return e(m.stationChangeRequested(t))}}}))(R)},499:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=m(r),i=(m(a(4)),a(14)),s=h(a(20)),l=m(a(500)),u=m(a(501)),c=h(a(146)),d=a(74),p=h(a(202)),f=h(a(35));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,a,n;y(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.getCurrentAudioMetadata=function(){return n.props.player.currentUid&&n.props.metadata[n.props.player.currentUid]?n.props.metadata[n.props.player.currentUid]:{}},n.getAvailableLocalNewscastId=function(){var e=n.props.user.org.id;return n.props.metadata[(0,d.getNewscastUidForOrg)(e)]?e:0},n.getContentForPanel=function(){var e=n.props.player.env.breakpoint,t=n.getCurrentAudioMetadata(),a=n.props.user.org.id,r=a&&a!==f.NPR?n.props.org[a]:{};return e!==s.SMALL?o.default.createElement(l.default,{onPaneSelectedStreaming:n.props.onPaneSelectedStreaming,onPaneSelectedOnDemand:n.props.onPaneSelectedOnDemand,onPaneSelectedNewscast:n.props.onPaneSelectedNewscast}):o.default.createElement(u.default,{onPaneSelectedStreaming:n.props.onPaneSelectedStreaming,onNewscastPaneSelectedWithPlaySmallBp:n.props.onNewscastPaneSelectedWithPlaySmallBp,onNewscastRequested:n.props.newscastRequested,currentAudio:t,availableLocalOrgId:n.getAvailableLocalNewscastId(),userOrg:r})},v(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return o.default.createElement("span",{className:"player-extras-wrap"},this.getContentForPanel())}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{player:e.player,metadata:e.metadata,user:e.user,org:e.org}}),(function(e){return{onPaneSelectedStreaming:function(){return e(c.streamingPaneSelectedWithPlay())},onPaneSelectedOnDemand:function(){return e(c.onDemandPaneSelectedWithPlay())},onPaneSelectedNewscast:function(){return e(c.newscastPaneSelectedWithPlay())},onNewscastPaneSelectedWithPlaySmallBp:function(t){return e(c.newscastPaneSelectedWithPlaySmallBp(t))},newscastRequested:function(t){return e(p.newscastRequested(t))}}}))(g)},500:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(3)),r=(o(a(4)),o(a(164)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.onPaneSelectedStreaming,a=e.onPaneSelectedOnDemand,o=e.onPaneSelectedNewscast;return n.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},n.default.createElement("li",null,n.default.createElement(r.default,{metrics:{},onClick:o,className:"btn-newscast"},n.default.createElement("b",null,"Hourly News"))),n.default.createElement("li",null,n.default.createElement(r.default,{metrics:{},onClick:t,className:"btn-live-radio"},n.default.createElement("b",null,"Listen Live"))),n.default.createElement("li",null,n.default.createElement(r.default,{metrics:{},onClick:a,className:"btn-playlist"},n.default.createElement("b",null,"Playlist"))))}},501:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=p(r),i=(p(a(4)),p(a(164))),s=d(a(16)),l=d(a(35)),u=a(74),c=p(a(86));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,a,n;f(this,t);for(var r=arguments.length,c=Array(r),d=0;d<r;d++)c[d]=arguments[d];return a=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.onNewscastSelected=function(e){return function(){n.props.onNewscastPaneSelectedWithPlaySmallBp(e)}},n.getContent=function(){var e=n.props.currentAudio,t=e.type,a=e.subtype,r=e.uid,c=[],d=o.default.createElement("li",{key:1},o.default.createElement(i.default,{metrics:{},onClick:n.props.onPaneSelectedStreaming,className:"btn-live-radio"},o.default.createElement("b",null,"Listen Live"))),p=o.default.createElement("li",{key:2},o.default.createElement(i.default,{metrics:{},onClick:n.onNewscastSelected(l.NPR),className:"btn-newscast"},o.default.createElement("b",null,"Hourly News"))),f=n.props.availableLocalOrgId?o.default.createElement("li",{key:3},o.default.createElement(i.default,{metrics:{},onClick:n.onNewscastSelected(n.props.availableLocalOrgId),className:"btn-newscast"},o.default.createElement("b",null,"Local News"))):null;return n.props.currentAudio?t!==s.SPONSORSHIP&&(t===s.SEGMENT?(c.push(d),a===s.SEGMENT_NEWSCAST?r===(0,u.getNewscastUidForOrg)(l.NPR)?c.push(f):c.push(p):c.push(f,p)):c.push(f,p)):c.push(d,f,p),c.filter((function(e){return!!e}))},h(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){(0,c.default)(this.props.userOrg)||this.props.onNewscastRequested(this.props.userOrg.id),this.props.onNewscastRequested(l.NPR)}},{key:"render",value:function(){return o.default.createElement("ul",{className:"player-extras",role:"navigation","aria-label":"audio player navigation"},this.getContent())}}]),t}(r.Component);t.default=m},502:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(3)),r=(i(a(4)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20))),o=a(209);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--lazy"},n.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(e.player.env.breakpoint,e.player.env.hasRightRail)&&n.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:e.handlers.onToggleExpanded,"aria-expanded":e.player.isExpanded,"aria-label":"Toggle more player options"},!e.player.isExpanded&&"Open",e.player.isExpanded&&"Close"),e.player.env.breakpoint!==r.SMALL&&n.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),n.default.createElement("div",{className:"player-controls"},n.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),n.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),e.player.env.breakpoint===r.SMALL&&n.default.createElement("b",{className:"player-play-pause-stop icn-loading","aria-label":"Loading"},"Loading"),n.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),n.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),n.default.createElement("b",{className:"track"},n.default.createElement("b",{className:"track-inner"}))))}},503:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=s(r),i=(s(a(4)),s(a(504)));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.props.isMobileSlot?this.props.handlers.onMobileSponsorshipSlotAvailable():this.props.handlers.onSponsorshipSlotAvailable()}},{key:"render",value:function(){var e=this.props.isMobileSlot?["ad-player-mobile"]:["ad-player"];return this.props.show||e.push("hidden"),o.default.createElement("div",{className:e.join(" "),id:this.props.divName},this.props.metadata&&o.default.createElement(i.default,{sponsorClickthrough:this.props.metadata.sponsorClickthrough,animationIframeUrl:this.props.metadata.animationIframeUrl,onSoundscapesBannerClick:this.props.handlers.onSoundscapesBannerClick}))}}]),t}(r.Component);t.default=c},504:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=o(a(3));o(a(4));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,a,n;i(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.onSoundscapesBannerClick=function(){n.props.onSoundscapesBannerClick()},s(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){return r.default.createElement("div",{className:"custom-sponsorship-slot-content"},r.default.createElement("div",{className:"iframe-container"},r.default.createElement("iframe",{src:this.props.animationIframeUrl,scrolling:"no"})),r.default.createElement("div",{className:"sponsor-clickthrough full-height"},r.default.createElement("a",{href:this.props.sponsorClickthrough,rel:"noopener noreferrer",target:"_blank",onClick:this.onSoundscapesBannerClick},"")),r.default.createElement("div",{className:"custom-audio-help-link"}," ","What's this?"),r.default.createElement("div",{className:"sponsorship-disclaimer"},"The message you are hearing is from the sponsor, which is solely responsible for the content."))}}]),t}(r.default.Component);t.default=l},505:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(3)),o=(l(a(4)),a(209)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(20)),s=l(a(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={hasError:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),s.default.error("NPR - error - player-container-error-boundary.jsx componentDidCatch: ","error: "+e+" errorInfo: "+t)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.player.env.breakpoint!==i.LARGE||(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)?"":"has-engaged-player has-expanded-engaged-player";return r.default.createElement("div",{className:"player-wrap-outer "+e},r.default.createElement("div",{className:"player-wrap-inner"},r.default.createElement("section",{id:"npr-player",className:"npr-player","aria-label":"NPR audio player"},r.default.createElement("div",{className:"player-basic-wrap player-basic-wrap--error"},r.default.createElement("div",{className:"player-basic"},(0,o.canCollapse)(this.props.player.env.breakpoint,this.props.player.env.hasRightRail)&&r.default.createElement("button",{className:"toggle-expanded-engaged-player",onClick:this.props.handlers.onToggleExpanded,"aria-expanded":this.props.player.isExpanded,"aria-label":"Toggle more player options"},!this.props.player.isExpanded&&"Open",this.props.player.isExpanded&&"Close"),this.props.player.env.breakpoint!==i.SMALL&&r.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),r.default.createElement("div",{className:"player-controls"},r.default.createElement("b",{className:"player-previous previous-inactive","aria-hidden":"true"},"Inactive control: Previous"),r.default.createElement("b",{className:"player-rewind rewind-inactive","aria-hidden":"true"},"Inactive control: Rewind"),this.props.player.env.breakpoint===i.SMALL&&r.default.createElement("b",{className:"player-play-pause-stop error","aria-label":"Error"},"Error"),r.default.createElement("b",{className:"player-fast-forward fast-forward-inactive","aria-hidden":"true"},"Inactive control: Fast Forward"),r.default.createElement("b",{className:"player-skip skip-inactive","aria-hidden":"true"},"Inactive control: Skip")),r.default.createElement("div",{className:"audio-info"},r.default.createElement("b",{className:"audio-program-label"},"Sorry, an error occurred"),r.default.createElement("b",{className:"audio-title"},"Please reload the page and try again.")),r.default.createElement("b",{className:"track"},r.default.createElement("b",{className:"track-inner"})))))))}return this.props.children}}]),t}(r.default.Component);t.default=u},506:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=p(r),i=(p(a(4)),p(a(6))),s=p(a(86));a(466);var l=p(a(10)),u=p(a(26)),c=a(128),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(16));function p(e){return e&&e.__esModule?e:{default:e}}var f=navigator.userAgent.match(/android/i),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.audioplayerRef=o.default.createRef(),a.state={didUpdateFirstTime:!1,initialVolume:e.player.volume},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;this.timeUpdateThreshold=1,(0,i.default)(this.audioplayerRef.current).jPlayer({supplied:"mp3",wmode:"window",autoBlur:!1,ended:function(){return e.props.handlers.onAudioComplete(e.props.audio)},playing:function(){return e.props.handlers.onAudioPlayingStatusDirect(!0,e.props.audio)},pause:function(){return e.props.handlers.onAudioPlayingStatusDirect(!1,e.props.audio)},durationchange:function(t){return e.props.handlers.onAudioDurationChange(e.props.audio.uid,t.jPlayer.status.duration)},error:function(t){return e.handleError(t)},loadeddata:function(){return e.handleSuccessfulLoad()}}),this.enableBufferingCheck(),this.setAudioPlayerVolume(this.state.initialVolume)}},{key:"resetBuffering",value:function(){this.lastPlayPosition=0,this.bufferingDetected=!1}},{key:"enableBufferingCheck",value:function(){var e=this;this.resetBuffering();setInterval(function(){var t=(0,i.default)(e.audioplayerRef.current).data().jPlayer.status.currentTime;!e.bufferingDetected&&t<e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!0,e.props.handlers.onAudioBufferingStarted(e.props.audio)),e.bufferingDetected&&t>e.lastPlayPosition+1/600&&e.props.player.isPlaying&&(e.bufferingDetected=!1,e.props.handlers.onAudioBufferingFinished(e.props.audio)),e.lastPlayPosition=t}.bind(this),600)}},{key:"componentWillUpdate",value:function(e,t){var a=(0,i.default)(this.audioplayerRef.current).data().jPlayer,n=(0,c.getAudioUrlToPlay)(e.audio);if(this.state.didUpdateFirstTime){if(e.audio&&((!this.props.audio.isAudioReady&&e.audio.isAudioReady||e.audio.isAudioReady&&this.props.audio.uid!==e.audio.uid||e.audio.isAudioReady&&(0,s.default)(a.status.media))&&this.load(n,!1),(a.status.paused||a.status.waitForPlay)&&e.audio.isPlaying&&this.play(n),a.status.paused||e.audio.isPlaying||this.pause(),e.player.volume!==this.props.player.volume&&this.setAudioPlayerVolume(e.player.volume),this.props.player.env.isPageVisible&&Math.abs(e.player.position-this.props.player.position)>2*this.timeUpdateThreshold)){var r=e.player.position/this.props.audio.duration*100;this.seek(r)}}else this.setState({didUpdateFirstTime:!0})}},{key:"play",value:function(e){var t=(0,i.default)(this.audioplayerRef.current);this.props.audio.type===d.STREAM?(f||(t.jPlayer("clearMedia"),this.load(e,!0)),t.jPlayer("play")):t.jPlayer("play",this.props.player.position)}},{key:"pause",value:function(){(0,i.default)(this.audioplayerRef.current).jPlayer("pause")}},{key:"load",value:function(e,t){if(e){var a=t?u.default.addUrlParameter(e,"ck",(new Date).getTime()):e;(0,i.default)(this.audioplayerRef.current).jPlayer("setMedia",{mp3:a}),this.resetBuffering()}}},{key:"seek",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("playHead",e)}},{key:"setAudioPlayerVolume",value:function(e){(0,i.default)(this.audioplayerRef.current).jPlayer("volume",e)}},{key:"handleSuccessfulLoad",value:function(){this.props.player.userEverInvokedPlay&&this.props.handlers.onAudioLoaded(this.props.audio)}},{key:"handleError",value:function(e){var t=e.jPlayer.error,a=(0,c.getAudioUrlToPlay)(this.props.audio);switch(t.type){case i.default.jPlayer.error.FLASH:case i.default.jPlayer.error.FLASH_DISABLED:case i.default.jPlayer.error.NO_SOLUTION:l.default.error(new Error("Persistent audio player failed to start jPlayer."),{version:e.jPlayer.version});break;case i.default.jPlayer.error.NO_SUPPORT:case i.default.jPlayer.error.URL_NOT_SET:l.default.error(new Error("Failed to find any supported audio formats at "+a),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;case i.default.jPlayer.error.URL:l.default.error(new Error("Failed retrieving "+a+" for playback."),{uid:this.props.audio.uid}),this.props.handlers.onAudioError(this.props.audio,{reason:"Audio temporarily unavailable"});break;default:l.default.warning("Unhandled jPlayer error",{type:t.type,message:t.message})}}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:0,height:0},id:"audio-player",ref:this.audioplayerRef})}}]),t}(r.Component);t.default=h},507:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(3)),r=u(a(70)),o=a(14),i=u(a(6)),s=a(168),l=u(a(312));function u(e){return e&&e.__esModule?e:{default:e}}var c=void 0;t.default={retrieveMetadataFromDOM:function(e,t){return c=[],(0,i.default)("[data-audio]").each((function(){var e=(0,i.default)(this).data("audio"),a=(0,i.default)(this).data("audio-metrics");e.hasOwnProperty("skipSponsorship")||(e.skipSponsorship=t),e.available&&(e.audioUrl&&(e.audioUrl=(0,s.deObfuscateUrl)(e.audioUrl)),(0,i.default)(this).removeAttr("data-audio"),c.push({metadata:e,metrics:a,domNode:this}))})),c.map((function(e){return e.metadata}))},mountModules:function(e){c.map((function(t){return r.default.render(n.default.createElement(o.Provider,{store:e},n.default.createElement(l.default,{audio:t.metadata,metrics:t.metrics})),t.domNode)}))},unmountModules:function(){c.map((function(e){return r.default.unmountComponentAtNode(e.domNode)}))}}},508:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=d(r),i=(d(a(4)),d(a(71))),s=a(85),l=a(200),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(324)),c=d(a(43));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,i.default)(a,["onPlayPauseClick","onQueueClick"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.props.handlers.onAudioModuleMounted()}},{key:"onPlayPauseClick",value:function(){this.props.handlers.onPlayPausePressed(this.props.audio)}},{key:"onQueueClick",value:function(){this.props.handlers.onQueue(this.props.audio.uid)}},{key:"renderQueueButton",value:function(){var e=["audio-module-queue"],t=null;this.props.renderPlatform===u.NPR_ONE_ANDROID||this.props.renderPlatform===u.NPR_ONE_IOS||this.props.audio.isUserQueued||(t=o.default.createElement("b",{className:"audio-module-queue-text-extra"},"Add to "));var a=null;this.props.renderPlatform!==u.NPR_ONE_ANDROID&&this.props.renderPlatform!==u.NPR_ONE_IOS&&this.props.audio.isUserQueued&&(a=o.default.createElement("b",{className:"audio-module-queue-text-extra"}," to Playlist"));var n="Playlist";return this.props.renderPlatform!==u.NPR_ONE_ANDROID&&this.props.renderPlatform!==u.NPR_ONE_IOS||(e.push("listen-later"),n="Listen Later"),this.props.audio.isUserQueued&&(e.push("queued"),n="Added"),o.default.createElement("button",{className:e.join(" "),onClick:this.onQueueClick},o.default.createElement("b",{className:"audio-module-queue-inner"},o.default.createElement("b",{className:this.props.audio.isUserQueued?"icn-playlist-added":"icn-playlist"}),o.default.createElement("b",{className:"audio-module-queue-text"},t,n,a)))}},{key:"render",value:function(){var e=this.props.audio.isPlaying?"audio-module-listen is-playing":"audio-module-listen",t=["audio-module-listen-icon",(0,l.getSegmentPlayButtonIconClass)(this.props.audio.isLoading,this.props.audio.isPlaying)];return o.default.createElement("div",{className:"audio-module-controls"},o.default.createElement("button",{className:e,onClick:this.onPlayPauseClick},o.default.createElement("b",{className:"audio-module-listen-inner"},o.default.createElement("b",{className:t.join(" ")}),o.default.createElement("b",{className:"audio-module-listen-text"},o.default.createElement("b",{className:"audio-module-cta"},"Listen"),!!this.props.audio.duration&&o.default.createElement("b",{className:"audio-module-listen-duration"}," ",(0,s.secondsAsHMMSS)(this.props.audio.duration))))),!!this.props.audio.duration&&!c.default.isMobileNativeApp(this.props.renderPlatform)&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsFormattedText)(this.props.audio.duration)),!!this.props.audio.duration&&c.default.isMobileNativeApp(this.props.renderPlatform)&&o.default.createElement("time",{className:"audio-module-duration",dateTime:(0,s.secondsAsHtmlDuration)(this.props.audio.duration)},(0,s.secondsAsHMMSS)(this.props.audio.duration)),!this.props.audio.duration&&o.default.createElement("time",{className:"audio-module-duration",dateTime:"0"},"Listen"),(c.default.isMobileNativeApp(this.props.renderPlatform)||!this.props.isSmallBreakpoint)&&this.renderQueueButton())}}]),t}(r.Component);t.default=p,p.defaultProps={renderPlatform:""}},509:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=c(a(3)),o=c(a(70)),i=a(14),s=c(a(6)),l=a(168),u=c(a(510));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;t.default={retrieveMetadataFromDOM:function(){d=[];var e=[];return(0,s.default)("[data-play-all]").each((function(){var t=(0,s.default)(this).data("play-all");if((0,s.default)(this).removeAttr("data-play-all"),t.audioData){var a=t.audioData.map((function(e){return e.audioUrl?Object.assign({},e,{audioUrl:(0,l.deObfuscateUrl)(e.audioUrl)}):""})),r=n({},t,{audioData:a});d.push({deobfuscatedPlayAllData:r,domNode:this}),e=e.concat(a)}})),e},mountModules:function(e){d.map((function(t){return o.default.render(r.default.createElement(i.Provider,{store:e},r.default.createElement(u.default,t.deobfuscatedPlayAllData)),t.domNode)}))},unmountModules:function(){d.map((function(e){return o.default.unmountComponentAtNode(e.domNode)}))}}},510:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=_(r),i=(_(a(4)),a(14)),s=_(a(71)),l=_(a(129)),u=_(a(511)),c=b(a(97)),d=b(a(24)),p=a(94),f=a(87),h=_(a(313)),m=_(a(166)),y=b(a(99)),v=a(102),g=_(a(43));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(a,["onAddFullToQueue","onAddSegmentsToQueue","onClickPlayAllFull","onClickPlayAllSegments","onCountryRequested"]),a.state={allAddedToQueue:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onAddFullToQueue",value:function(){var e=this,t=(0,l.default)(this.props.full);this.props.dispatch(c.queueButtonPressed(t,y.PAGE)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onAddSegmentsToQueue",value:function(){var e=this;this.props.dispatch(c.addManyToQueue(this.props.segments,y.PAGE)),this.setState({allAddedToQueue:!0}),setTimeout((function(){return e.setState({allAddedToQueue:!1})}),2e3)}},{key:"onClickPlayAllFull",value:function(){var e=(0,l.default)(this.props.full),t=this.props.metadata[e];this.props.dispatch(d.playPauseRequested(t,{playedFrom:"from listen to all"}))}},{key:"onClickPlayAllSegments",value:function(){this.props.dispatch(c.addManyToTopOfQueue(this.props.segments,{origin:y.PAGE}));var e=(0,l.default)(this.props.segments),t=this.props.metadata[e];this.props.dispatch(d.playPauseRequested(t,{playedFrom:"from listen to all"}))}},{key:"onCountryRequested",value:function(){this.props.dispatch(d.countryRequested())}},{key:"render",value:function(){if("episode"===this.props.type&&this.props.full.length)return o.default.createElement(u.default,{onAddToQueue:this.onAddFullToQueue,onClickPlay:this.onClickPlayAllFull,isMobileDevice:this.props.isMobileDevice,allAddedToQueue:this.state.allAddedToQueue,cta:"Listen to Full Show"});if(!this.props.isMobileDevice&&!g.default.isMobileNativeApp(this.props.renderPlatform)&&this.props.segments.length){var e="Listen to all";"firstListen"===this.props.type&&(e="Listen to Full Album"),"episode"===this.props.type&&(e="Listen to Full Show");var t=o.default.createElement(u.default,{onAddToQueue:this.onAddSegmentsToQueue,onClickPlay:this.onClickPlayAllSegments,isSmallBreakpoint:this.props.isSmallBreakpoint,allAddedToQueue:this.state.allAddedToQueue,cta:e}),a=this.props.audioData.find((function(e){return e.geofencedRegions&&e.geofencedRegions.length}));return a?o.default.createElement(h.default,{geofencedRegions:a.geofencedRegions,country:this.props.player.env.country,inside:t,outside:o.default.createElement(m.default,null),onCountryRequested:this.onCountryRequested}):t}return o.default.createElement(m.default,null)}}]),t}(r.Component);w.defaultProps={renderPlatform:""},t.default=(0,i.connect)((function(e){return{player:e.player,metadata:(0,p.getDerivedMetadata)(e),isMobileDevice:(0,f.isMobileDevice)(e),isSmallBreakpoint:(0,f.isSmallBreakpoint)(e),renderPlatform:(0,v.getRenderPlatform)(e)}}))(w)},511:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(3));r(a(4));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.cta,a=e.onClickPlay,r=e.onAddToQueue,o=e.allAddedToQueue,i=e.isSmallBreakpoint;return n.default.createElement("div",{className:"audio-module-controls play-all-controls"},n.default.createElement("button",{className:"audio-module-listen",onClick:a},n.default.createElement("b",{className:"audio-module-listen-inner"},n.default.createElement("b",{className:"audio-module-listen-icon icn-play"}),n.default.createElement("b",{className:"audio-module-listen-text"},n.default.createElement("b",{className:"audio-module-cta"},t)))),!i&&n.default.createElement("button",{className:"audio-module-queue",onClick:r},n.default.createElement("b",{className:"audio-module-queue-inner"},n.default.createElement("b",{className:o?"icn-playlist-added":"icn-playlist"}),n.default.createElement("b",{className:"audio-module-queue-text"},o?"":n.default.createElement("b",{className:"audio-module-queue-text-extra"},"Add to "),o?"Added":"Playlist",o?n.default.createElement("b",{className:"audio-module-queue-text-extra"}," to Playlist"):""))))}},512:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(3)),r=c(a(70)),o=a(14),i=c(a(6)),s=a(74),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(202)),u=c(a(312));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0;t.default={retrieveMetadataFromDOM:function(e,t){return d=[],(0,i.default)("[data-newscast-audio]").each((function(){var a=(0,i.default)(this).data("newscast-audio").orgId;if((0,i.default)(this).removeAttr("data-newscast-audio"),a){var n=(0,s.getNewscastUidForOrg)(a);e.dispatch(l.newscastRequested(a)),d.push({audio:{uid:n,skipSponsorship:t},domNode:this})}})),[]},mountModules:function(e){d.map((function(t){return r.default.render(n.default.createElement(o.Provider,{store:e},n.default.createElement(u.default,{audio:t.audio})),t.domNode)}))},unmountModules:function(){d.map((function(e){return r.default.unmountComponentAtNode(e.domNode)}))}}},513:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(3)),r=l(a(70)),o=a(14),i=l(a(6)),s=l(a(514));function l(e){return e&&e.__esModule?e:{default:e}}var u=void 0;t.default={retrieveMetadataFromDOM:function(){return u=[],(0,i.default)("[data-stream-audio]").each((function(){var e=(0,i.default)(this).data("stream-audio"),t=(0,i.default)(this).data("audio-metrics");(0,i.default)(this).removeAttr("data-stream-audio"),u.push({metadata:e,metrics:t,domNode:this})})),u.map((function(e){return e.metadata}))},mountModules:function(e){u.map((function(t){return r.default.render(n.default.createElement(o.Provider,{store:e},n.default.createElement(s.default,{audio:t.metadata,metrics:t.metrics})),t.domNode)}))},unmountModules:function(){u.map((function(e){return r.default.unmountComponentAtNode(e.domNode)}))}}},514:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=m(r),i=(m(a(4)),a(14)),s=m(a(7)),l=h(a(24)),u=h(a(32)),c=m(a(311)),d=m(a(314)),p=a(94),f=a(125);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlers=(0,f.getBoundHandlers)(a,["onPlayPauseRequested","onMetadataLoaded","onNowOnStreamsRegistrationRequested","onNowOnStreamsUnregistrationRequested","onAudioModuleMounted"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onNowOnStreamsRegistrationRequested",value:function(e){this.props.dispatch(u.nowOnStreamsRegistrationRequested(e))}},{key:"onNowOnStreamsUnregistrationRequested",value:function(e){this.props.dispatch(u.nowOnStreamsUnregistrationRequested(e))}},{key:"onAudioModuleMounted",value:function(){this.props.dispatch(l.audioModuleMounted())}},{key:"getPlayedFrom",value:function(){return(0,s.default)(this.props,"metrics.playedFrom")||"from page"}},{key:"onPlayPauseRequested",value:function(e){this.props.dispatch(l.playPauseButtonPressed(e,{playedFrom:this.getPlayedFrom()}))}},{key:"onMetadataLoaded",value:function(e){this.props.dispatch(u.metadataLoaded(e))}},{key:"render",value:function(){var e=this.props.metadata[this.props.audio.uid];return!1===e.available?o.default.createElement(d.default,{message:e.unavailableText}):o.default.createElement(c.default,{handlers:this.handlers,audio:e})}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{metadata:(0,p.getDerivedMetadata)(e)}}))(y)},515:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timerTick=function(e,t){return{type:n.TIMER,payload:{now:e,sinceLastTick:t}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1))},516:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){u=e};var n=l(a(24)),r=l(a(97)),o=l(a(315)),i=l(a(72)),s=l(a(329));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var u=void 0,c={};window.MobileNative=c,c.bridge=function(e){var t=null;try{t=JSON.parse(e)}catch(t){return void console.error("Unable to JSON.parse bridge object: "+e+", error:",t)}if(t&&t.name)if("string"==typeof t.attributes||null==t.attributes){var a=t.attributes;switch(t.name){case"audioLoading":u(n.mobileNativeDidStartLoading(a));break;case"audioPlaying":u(n.mobileNativeDidStartPlaying(a));break;case"audioStopped":u(n.mobileNativeDidStopPlaying(a));break;case"playlistAdded":u(r.mobileNativeDidAddToPlaylist(a));break;case"playlistRemoved":u(r.mobileNativeDidRemoveFromPlaylist(a));break;case"accessToken":s.setAccessToken(a),s.recordUserReadStory().catch(console.err);var l=Math.round((new Date).getTime()/1e3);u(i.mobileNativeAccessTokenReceived(a,l)),u(o.mobileNativeDetected());break;default:console.error("Unknown bridge object name, no action taken. Bridge object:",t)}}else console.error('Bridge object is invalid. Property "attributes" is incorrect.',t);else console.error('Bridge object is invalid. Missing "name" property.',t)}},517:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){e(n.initialStateCorrection())};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(518))},518:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStateCorrection=function(){return{type:n.INITIAL_STATE_CORRECTION}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1))},519:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){$(document).on("npr:player:getfeaturedaudio",(function(e,t,a,n){i.dispatch((0,r.initializeFeaturedAudioRequested)(t,a,n))}))};var n,r=a(326),o=a(50);var i=(0,((n=o)&&n.__esModule?n:{default:n}).default)()},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){$(document).on("npr:player:removeNewscastFromContinuousListening",(function(){i.dispatch((0,r.removeNewscastFromContinuousListening)())}))};var n,r=a(521),o=a(50);var i=(0,((n=o)&&n.__esModule?n:{default:n}).default)()},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNewscastFromContinuousListening=function(){return{type:n.AB_TEST_REMOVE_NEWSCAST_FROM_CONTINUOUS_LISTENING}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1))},522:function(e,t,a){"use strict";var n=y(a(6)),r=y(a(3)),o=y(a(70)),i=a(14),s=y(a(23)),l=m(a(334)),u=a(213),c=m(a(169)),d=y(a(523)),p=y(a(526)),f=y(a(50)),h=y(a(330));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.default)(),g=s.default.create();g.name="callout/on-page-callouts",g.onReady=function(){(0,n.default)(window).on("centerStageAdNotRendered",(function(){(0,f.default)().dispatch(l.centerStageAdStatusDetermined(c.NONE))})),(0,n.default)(window).on("centerStageAdRendered",(function(){(0,f.default)().dispatch(l.centerStageAdStatusDetermined(c.AD))})),(0,n.default)(window).on("centerStageIneligible",(function(){(0,f.default)().dispatch(l.centerStageAdStatusDetermined(c.INELIGIBLE))}));var e=(0,u.getPageData)(),t=e.station,a=e.newsletter,s=e.podcast,m=document.getElementById("callout-end-of-story-mount");m&&o.default.render(r.default.createElement(i.Provider,{store:v},r.default.createElement(d.default,{station:t,podcast:s,newsletter:a})),m),(0,n.default)(document).on("npr:onPageCalloutDeterminationSucceeded",(function(e){!function(e,t,a){var n=document.getElementById("callout-center-stage-mount");n&&o.default.render(r.default.createElement(i.Provider,{store:v},r.default.createElement(p.default,{station:e,podcast:t,newsletter:a})),n),h.default.fireScrollOffsetReset()}(t,s,a)}))},g.onUnload=function(){(0,n.default)(window).off("centerStageAdNotRendered"),(0,n.default)(window).off("centerStageAdRendered"),(0,n.default)(window).off("centerStageIneligible"),(0,n.default)(document).off("npr:onPageCalloutDeterminationSucceeded");var e=document.getElementById("callout-center-stage-mount"),t=document.getElementById("callout-end-of-story-mount");t&&o.default.unmountComponentAtNode(t),e&&o.default.unmountComponentAtNode(e)},g.register()},523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=b(r),i=(b(a(4)),a(14)),s=g(a(216)),l=g(a(73)),u=b(a(203)),c=b(a(525)),d=b(a(317)),p=b(a(204)),f=b(a(205)),h=a(21),m=a(210),y=a(213),v=a(36);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"_getReformattedStation",value:function(e){return{id:e.id,name:e.name,donateUrl:e.donationUrl,orgUrl:e.homepageUrl,callLetters:e.abbr}}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.station,n=e.podcast,r=e.endOfStoryVariant,i=e.donationVariantId,h=this.props.newsletter,y=this.props.org[this.props.user.org.id]||null,g=null;switch(r){case s.DONATION:var b=(0,m.getEndOfStoryCtaInfo)();if(i.includes(v.DONATION_EMBED)){g=o.default.createElement("div",{className:"donation-portal-endofstory"},o.default.createElement(f.default,{station:y,metricsCategory:l.END_OF_STORY}));break}g=o.default.createElement(p.default,{donation:b[i],station:y,metricsCategory:l.END_OF_STORY});break;case s.STATION:g=o.default.createElement(c.default,{station:this._getReformattedStation(a)});break;case s.PODCAST:g=o.default.createElement(d.default,{podcast:n});break;case s.NEWSLETTER:g=o.default.createElement(u.default,{newsletter:h,user:t})}return g}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,a=e.session,n=e.org,r=(0,h.getCurrentPage)(e),o=(0,h.getVariantIDToShowOnThisPage)(e),i=(0,h.getVariantTypeToShowOnThisPage)(e);return{user:t,session:a,org:n,centerStageVariant:(0,h.getCenterStageVariant)(e),endOfStoryVariant:(0,h.getEndOfStoryVariant)(e),isDFPComplete:(0,h.getIsDFPComplete)(e),isGlobalAlertsComplete:(0,h.getIsGlobalAlertsComplete)(e),currentPage:r,variantIDToShowOnThisPage:o,variantTypeToShowOnThisPage:i,wasOnPageCalloutDeterminationRequested:!1,donationVariantId:(0,y.shouldDisplayDonationCta)(e,r,o,i)}}))(P)},524:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=m(r),i=(m(a(4)),m(a(7))),s=m(a(319)),l=a(14),u=m(a(201)),c=h(a(28)),d=m(a(320)),p=h(a(35)),f=a(75);h(a(333));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.triggerRecaptcha=function(e){e.preventDefault(),a.setState({tempFormData:e.target},(function(){if((0,f.isCaptchaEnabled)()&&!a.props.renderingForMobileNative)try{(0,f.triggerRecaptchaManually)()}catch(e){a.onSubscribe()}else a.onSubscribe()}))},a.isValidEmail=function(e){var t=e.trim();return!(t.length>=0)||u.default.isEmail(t)},a.onSubscribe=a.onSubscribe.bind(a),a.doSubscribe=a.doSubscribe.bind(a),a.handlers=e.handlers,a.state={brandingLogo:null,isExternalNewsletter:!1,additionalHiddenFields:[],externalAction:null,emailInput:{},marketingHeader:"",emailFieldName:null,newsletterId:null,marketingShortDescription:"",stickyDescription:"",errorMessage:"",termsText:"",tempFormData:null};var n=a.props.newsletter,r=(n.newsletterId,n.organizationId),o={};((o=r!==p.NPR?d.default[r]:d.default[a.props.user.org.id])&&!o.enabled||!NPR.serverVars.isLocalStationStory||"false"===NPR.serverVars.isLocalStationStory)&&(o={});return a.state.isExternalNewsletter=(0,i.default)(o,"enabled",!1),a.state.externalAction=(0,i.default)(o,"url"),a.state.termsText=(0,i.default)(o,"termsText",'By subscribing, you agree to <a href="/about-npr/179876898/terms-of-use">NPR\'s terms of use</a> and <a href="/about-npr/179878450/privacy-policy">privacy policy</a>. NPR may share your name and email address with your NPR station. <a href="https://www.npr.org/about-npr/179878450/privacy-policy#disclosure">See Details</a>.'),a.state.emailFieldName=(0,i.default)(o,"emailFieldName","email"),a.state.marketingHeader=(0,i.default)(o,"marketingHeader",a.props.newsletter.marketingHeader),a.state.stickyDescription=(0,i.default)(o,"stickyDescription",a.props.newsletter.stickyDescription),a.state.marketingShortDescription=(0,i.default)(o,"shortDescription",a.props.newsletter.shortDescription),a.state.newsletterId=(0,i.default)(o,"id",a.props.newsletter.newsletterId),a.state.organizationId=(0,i.default)(o,"organizationId",a.props.newsletter.organizationId),a.state.additionalHiddenFields=(0,i.default)(o,"hiddenFields",[]),a.state.additionalHiddenFields.push({name:"newsletterId",value:a.props.newsletter.newsletterId}),a.state.brandingLogo=(0,i.default)(o,"logo"),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;window.onNewsletterSubmitRecaptcha=function(){e.onSubscribe()},window.onNewsletterErrorRecaptcha=function(){(0,f.loadCaptcha)()}}},{key:"componentWillUnmount",value:function(){window.onNewsletterSubmitRecaptcha=function(){},window.onNewsletterErrorRecaptcha=function(){}}},{key:"onSubscribe",value:function(){this.state.externalAction?this.doExternalSubscribe():this.doSubscribe()}},{key:"doExternalSubscribe",value:function(){var e=new FormData(this.state.tempFormData),t=this.state.emailInput.value;this.isValidEmail(t)?(this.setState({errorMessage:""}),this.handlers.onExternalSubscriptionRequested(t,this.state.newsletterId,this.state.organizationId,this.state.externalAction,e)):(this.setState({errorMessage:"Please enter a valid email address."}),(0,f.loadCaptcha)())}},{key:"doSubscribe",value:function(){var e=this.state.emailInput.value;this.isValidEmail(e)?(this.setState({errorMessage:""}),this.handlers.onSubscriptionRequested(e,this.state.newsletterId)):this.setState({errorMessage:"Please enter a valid email address."})}},{key:"render",value:function(){var e=this,t="callout callout--newsletter callout--"+this.state.newsletterId+" "+(this.state.isExternalNewsletter?"callout--newsletter-station":""),a=(0,u.default.isUserLoggedIn)(this.props.user),n="",r=!1,l="",d=!1;if(a&&(l=(0,i.default)(this.props.user,"view.data.attributes.email"),!this.state.isExternalNewsletter)){var p=(0,i.default)(this.props.user,"view.data.attributes.subscriptions");p&&(0,s.default)(p,this.state.newsletterId)>=0&&(d=!0)}var f=(0,i.default)(this.props.user,"newsletter.status");f===c.FAILED&&(n="An error has occurred. Please try subscribing again."),(d||f===c.RESOLVED)&&(r=!0);var h=function(){var t=e.state.additionalHiddenFields;return Object.keys(t).map((function(e){return o.default.createElement("input",{type:"hidden",id:t[e].id,name:t[e].name,value:t[e].value,key:e})}))},m=void 0,y=this.state.errorMessage||n;m=r?o.default.createElement("div",{className:"callout__subscribed"},o.default.createElement("div",{className:"callout__subscribed-text"},"Thank you for subscribing!"),o.default.createElement("a",{href:"//npr.org/newsletters",className:"callout__subscribed-more"},"See more newsletters")):l?o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},l&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input callout__input--populated",type:"text",name:e.state.emailFieldName,placeholder:"What's your email?",readOnly:!0,value:l}),h(),l&&o.default.createElement("div",{className:"g-recaptcha","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha","data-size":"invisible"}),l&&o.default.createElement("button",{className:"callout__submit callout__submit--populated",type:"submit",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing as "+l:"subscribe as "+l))):o.default.createElement("form",{id:"callout__form--newsletter",className:"callout__form",onSubmit:e.triggerRecaptcha},!l&&o.default.createElement("label",{htmlFor:"callout__input"},"E-mail address"),h(),!l&&o.default.createElement("input",{ref:function(t){e.state.emailInput=t},className:"callout__input",id:"callout__input",type:"email",name:e.state.emailFieldName,placeholder:"What's your email?"}),!l&&o.default.createElement("div",{className:"g-recaptcha","data-sitekey":e.props.newsletter.recaptchaSiteKey,"data-callback":"onNewsletterSubmitRecaptcha","data-error-callback":"onNewsletterErrorRecaptcha","data-size":"invisible"}),!l&&o.default.createElement("button",{className:"callout__submit",type:"submit",disabled:e.props.user.newsletter.status===c.PENDING},o.default.createElement("span",{className:"callout__submit-text"},e.props.user.newsletter.status===c.PENDING?"subscribing":"subscribe")));var v="";v=this.state.isExternalNewsletter?'This sign-up box is protected by reCAPTCHA, use of which is governed by the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a>.':'This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a> apply.';var g=this.state.brandingLogo?"callout__main":"callout__main callout__main--no-image";return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},this.state.brandingLogo?o.default.createElement("div",{className:"callout__branding"},o.default.createElement("img",{className:"callout__branding-logo",src:this.state.brandingLogo,alt:"Newsletter logo"})):"",o.default.createElement("div",{className:g},this.props.isStickybar?o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.stickyDescription)):o.default.createElement("div",null,o.default.createElement("h2",{className:"callout__header"},this.state.marketingHeader)),this.props.isStickybar?"":o.default.createElement("div",null,o.default.createElement("p",{className:"callout__description",dangerouslySetInnerHTML:{__html:this.state.marketingShortDescription}})),y?o.default.createElement("b",{className:"callout__error"},this.state.errorMessage||n):"",m,r?"":o.default.createElement("footer",{className:"callout__footer"},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.termsText+" "+v}})))))}}]),t}(r.Component);t.default=(0,l.connect)()(y)},525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=p(r),i=(p(a(4)),a(14)),s=p(a(7)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(72)),u=p(a(165)),c=p(a(316)),d=a(36);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onStationDonateLinkClick=a.onStationDonateLinkClick.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"onStationDonateLinkClick",value:function(){var e=(0,s.default)(this.props,"station.id");e&&this.props.dispatch(l.stationChangeRequested(e))}},{key:"render",value:function(){var e=this.props.station;if(!e)return null;var t="callout callout--org callout--org-"+e.id,a="Support "+e.name,n=d.STATION_CONTENT_BOX;return o.default.createElement("section",{className:t},o.default.createElement("div",{className:"callout__inner"},o.default.createElement("h2",{className:"callout__header"},a),o.default.createElement("p",{className:"callout__description"},"Stories like these are made possible by contributions from readers and listeners like you."),o.default.createElement("ul",{className:"callout__links"},o.default.createElement("li",null,o.default.createElement(u.default,{metricsCategory:n,org:e,onClick:this.onStationDonateLinkClick,overrideClasses:"callout__link callout__link--donate"})),o.default.createElement("li",null,o.default.createElement(c.default,{metricsCategory:n,org:e,overrideClasses:"callout__link callout__link--homepage"},"Visit the station")))))}}]),t}(r.Component);t.default=(0,i.connect)((function(){return{}}))(f)},526:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=d(r),i=(d(a(4)),a(14)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(169)),l=d(a(203)),u=d(a(317)),c=a(21);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.podcast,n=(e.station,e.centerStageVariant),r=this.props.newsletter,i=(this.props.org[this.props.user.org.id],null);switch(n){case s.NEWSLETTER:i=o.default.createElement(l.default,{newsletter:r,user:t});break;case s.PODCAST:i=o.default.createElement(u.default,{podcast:a})}return i}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{user:e.user,org:e.org,centerStageVariant:(0,c.getCenterStageVariant)(e)}}))(h)},527:function(e,t,a){"use strict";var n=b(a(6)),r=b(a(327)),o=b(a(23)),i=b(a(542)),s=b(a(10)),l=b(a(7)),u=b(a(148)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(98)),d=b(a(50)),p=b(a(331)),f=a(85),h=b(a(328)),m=b(a(528)),y=a(100),v=a(212),g=a(529);function b(e){return e&&e.__esModule?e:{default:e}}var _=o.default.create();_.name="dfp";var w={},P={},E=[],k={devicemotion:[],resize:[],message:[]},S=n.default.Event("centerStageAdNotRendered"),O=n.default.Event("centerStageAdRendered"),j=n.default.Event("centerStageIneligible"),C=!1,N=[];function A(e){window.addEventListener("devicemotion",g.deviceMotionEventCallback.bind(null,e)),window.addEventListener("resize",g.resizeEventCallback.bind(null,e)),k.devicemotion.push(g.deviceMotionEventCallback),k.resize.push(g.resizeEventCallback)}function M(e){var t=e.slot.getSlotElementId();(0,g.isRenderedSlot)(c.CENTERSTAGE,t,P)?function(e,t){var a=(0,d.default)().getState(),r=(0,l.default)(a,"user.org.id",!1);e.isEmpty?p.default.find((function(e){return e===r}))&&!(0,f.isWeekend)()?(s.default.info("DFP: Do not replace centerstage for participating station stories"),(0,n.default)(window).trigger(j)):(s.default.info("DFP: No Centerstage ad returned"),(0,n.default)(window).trigger(S)):((0,n.default)(".centerstage-sponsor-language").addClass("visible"),(0,n.default)(".centerstage-outer-wrap").addClass("visible"),(0,g.checkForClickToPlaySponsorship)(t,P[t].site),A(t),window.addEventListener("message",g.receiveExpandMessage,!1),k.message.push(g.receiveExpandMessage),s.default.info("DFP: Centerstage ad returned"),(0,n.default)(window).trigger(O))}(e,c.CENTERSTAGE):(0,g.isRenderedSlot)(c.BACKSTAGE,t,P)?function(e,t){if(e.isEmpty)if(s.default.info("DFP: No Centerstage ad returned"),(0,n.default)((0,n.default)(".ad-"+t).get(0)).data("ad-config").isBetweenContent){var a=(0,n.default)((0,n.default)("#ad-"+t+"-wrap").get(0)),r=document.createElement("div");r.setAttribute("id","callout-center-stage-mount"),a[0].appendChild(r),(0,n.default)(window).trigger(S)}else(0,n.default)(window).trigger(j);else(0,g.addSponsorLanguage)(t),(0,g.checkForClickToPlaySponsorship)(t,P[t].site),A(t),window.addEventListener("message",g.receiveExpandMessage,!1),k.message.push(g.receiveExpandMessage),s.default.info("DFP: Centerstage ad returned"),(0,n.default)(window).trigger(O)}(e,c.BACKSTAGE):(0,g.isRenderedSlot)(c.MAINSTAGE,t,P)?function(e){if(e.isEmpty)s.default.info("DFP: No Music Centerstage ad returned");else{(0,n.default)(".mainstage-sponsor-language").addClass("visible"),(0,n.default)(".mainstage-outer-wrap").addClass("visible");var t=P[c.MAINSTAGE].site;(0,g.checkForClickToPlaySponsorship)(c.MAINSTAGE,t),window.addEventListener("message",g.receiveExpandMessage,!1),k.message.push(g.receiveExpandMessage)}}(e):(0,g.isRenderedSlot)(c.STANDARD,t,P)?function(e,t){if(e.isEmpty)document.querySelector("#ad-"+t+"-wrap").classList.add("hidden");else if(document.querySelector("#ad-"+t+"-wrap").classList.remove("hidden"),e.slot.getResponseInformation().isBackfill&&T(e),(0,i.default)(e.size,[300,600])){var a=P[c.STANDARD].site;(0,g.checkForClickToPlaySponsorship)(c.STANDARD,a),(0,y.makeAdScrollable)(c.STANDARD)}}(e,c.STANDARD):(0,g.isRenderedSlot)(c.SECONDARY,t,P)&&function(e,t){e.isEmpty?((0,g.removeSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.add("hidden"),s.default.info("DFP: No Secondary ad returned"),T(e)):(e.slot.getResponseInformation().isBackfill&&T(e),(0,g.addSponsorLanguage)(t),document.querySelector(".ad-"+t).classList.remove("hidden"),(0,g.checkForClickToPlaySponsorship)(t,P[t].site),s.default.info("DFP: Secondary ad returned"),(0,n.default)(window).trigger(O))}(e,c.SECONDARY)}function T(e){s.default.info("DFP: Setting up refresh on slot '"+e.slot.getSlotElementId()+"'"),s.default.info("DFP: Line item id: "+e.lineItemId+", creative: "+e.creativeId+", advertiser: "+e.advertiserId),googletag.cmd.push((function(){window.setTimeout((function(){(0,g.visibilityCheck)((function(){s.default.info("DFP: Refreshing slot '"+e.slot.getSlotElementId()+"'"),googletag.pubads().refresh([e.slot])}))}),6e4)}))}function R(){N.forEach((function(e){e.destroy()})),N=[],r.default.refreshAll()}_.init=function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"===document.location.protocol;e.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),(0,m.default)(),window.grumi=window.grumi||{cfg:{advs:{19566752:!0,4952276315:!0,88382072:!0,5056504790:!0}},key:"880a45f2-0015-49d2-b38f-2d26be44ae09"};var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://rumcdn.geoedge.be/880a45f2-0015-49d2-b38f-2d26be44ae09/grumi-ip.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e=navigator.userAgent.toLowerCase();e.indexOf("android")>-1?googletag.pubads().setTargeting("device","android"):e.match(/(iPad|iPhone|iPod)/i)&&googletag.pubads().setTargeting("device","ios"),googletag.pubads().enableLazyLoad({fetchMarginPercent:120,renderMarginPercent:120,mobileScaling:1}),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),"true"===h.default.getCcpaCookie()&&(s.default.info("DFP: ccpa rdp enabled"),googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})),googletag.enableServices()}))},_.onReady=function(){var e=!0,t=[String(Math.floor(20*Math.random())+1)];googletag.cmd.push((function(){googletag.pubads().setTargeting("advelvet",t);var a=[];(0,n.default)("[data-ad-config]").each((function(){var e=(0,n.default)(this).data("ad-config"),t=new u.default(e);t.location===c.STANDARD?a.unshift(t):a.push(t)})),a.forEach((function(t){var n="";if(a.push(t),(0,g.shouldRenderLocation)(t.location)){t.location!==c.CENTERSTAGE&&t.location!==c.BACKSTAGE||(e=!1);var r=t.getAdSlotName();Object.prototype.hasOwnProperty.call(w,r)?(Object.assign(t,{slot:w[r]}),t.slot.clearTargeting()):t.createAdSlot(),E.push(t),n=t.slot.getSlotElementId();var o=Object.assign({},t.targets,(0,g.getAdditionalTargeting)());Object.getOwnPropertyNames(o).forEach((function(e){t.slot.setTargeting(e,o[e])})),googletag.display(r)}P[t.location]={slotElementId:n,site:t.site}})),(0,g.logSponsorship)(a,E),(0,g.visibilityCheck)((function(){var e;(e=new n.default.Deferred,E.forEach((function(t){!0===t.deferred?N.push(new r.default({element:(0,n.default)(t.getAdSelector()).get(0),handler:function(){return e.resolve()},offset:r.default.viewportHeight()+200})):e.resolve()})),e.promise()).done((function(){googletag.cmd.push((function(){var e=E.map((function(e){return e.slot}));C||(C=!0,googletag.pubads().addEventListener("slotRenderEnded",M)),(0,y.canHaveEventListener)()&&window.addEventListener("message",v.playerMessageEventCallback,!1),googletag.pubads().refresh(e)})),R()}))})),e&&(0,n.default)(window).trigger(j)}))},_.onUnload=function(){R(),window.removeEventListener("message",v.playerMessageEventCallback,!1),googletag.cmd.push((function(){var e=[];E.forEach((function(t){var a=t.getAdSlotName();e.push(t.slot),w[a]=t.slot})),E=[],googletag.pubads().clear(e)})),Object.keys(k).forEach((function(e){k[e].forEach((function(t){s.default.info("DFP: Cleaning up event of type: "+e),window.removeEventListener(e,t)})),k[e]=[]})),P={}},_.register()},528:function(e,t){e.exports=()=>{var e,t,a;e=document,t="script",a=e.createElement(t),e=e.getElementsByTagName(t)[0],a.async=1,a.src="https://abstractedauthority.com/v2chn2WmFPFMpJ_vETUrFZlfJf9hY36RmWwxWhlc5DWsBtcEgU12qDPjP82MA-1bN",e.parentNode.insertBefore(a,e),function(e,t){function a(){(a.q=a.q||[]).push(arguments)}a.v=1,e.admiral=e.admiral||a}(window),function(e,t,a,n){function r(a){(function(){try{return(localStorage.getItem("v4ac1eiZr0")||"").split(",")[4]>0}catch(e){}return!1})()&&(a=e[t].pubads())&&a.setTargeting("admiral-engaged","true")}(n=e[t]=e[t]||{}).cmd=n.cmd||[],typeof n.pubads===a?r():typeof n.cmd.unshift===a?n.cmd.unshift(r):n.cmd.push(r)}(window,"googletag","function")}},529:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.shouldRenderLocation=function(e){if(!e)return!1;var t=!(0,r.default)("html").hasClass("has-page-engaged-player");switch(e){case l.STANDARD:return!i.default.isOnPhone()&&!i.default.isOnTablet()&&i.default.isScreenLargerOrEqual(i.default.BREAKPOINT.LARGE)&&t;case l.MLE_BANNER:case l.MAINSTAGE:case l.CENTERSTAGE:case l.BACKSTAGE:case l.PLAYER_PRIMARY:case l.PLAYER_LEAVEBEHIND:case l.PLAYER_POSTROLL:case l.SPICE_RACK:return!0;case l.SECONDARY:case l.PLAYER_MOBILE_PRIMARY:return i.default.isScreenSmaller(i.default.BREAKPOINT.LARGE);default:return!1}},t.getSponsorshipMetadataFromHtml=h,t.checkForClickToPlaySponsorship=function(e,t){var a=(0,r.default)(".ad-"+e+" iframe:first"),i=(0,r.default)(a).get(0).contentDocument,s=i.querySelector("#sponsorship-data");if(!s){var l=i.querySelector("template");if(l){var d=l.content.firstChild.innerText,p=(new DOMParser).parseFromString(d,"text/html");s||(o.default.info("DFP: Util: Looking for sponsorship data in document fragment"),s=p.querySelector("#sponsorship-data"))}else o.default.info("DFP Util: Location: "+e+" no document fragment")}if(s){o.default.info("DFP Util: Location: "+e+". Found valid sponsorship data.");var f=s.getAttribute("data-sponsorshipType"),m=h(s,f);f===u.CTP_CUSTOM_CHANNEL_OR_PODCAST?(0,c.loadCustomChannel)(n({},m,{sponsorshipSiteOverride:t}),e):f===u.CLICK_TO_PLAY_SOUNDSCAPES&&(0,c.loadSoundscapes)(m)}else o.default.info("DFP Util: Location: "+e+". Could not find valid player sponsorship data.")},t.deviceMotionEventCallback=function(e,t){var a={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},portrait:window.matchMedia("(orientation: portrait)").matches,landscape:window.matchMedia("(orientation: landscape)").matches,orientation:window.orientation},n=(0,r.default)(".ad-"+e+" iframe").get(0);n&&null!==n.contentWindow&&n.contentWindow.postMessage({type:"device-motion",events:a},"*")},t.resizeEventCallback=function(e,t){var a=(0,r.default)(".ad-"+e+" iframe").get(0);a&&null!==a.contentWindow&&a.contentWindow.postMessage({type:"resize",obj:{width:t.target.innerWidth,height:t.target.innerHeight}},"*")},t.isRenderedSlot=function(e,t,a){return void 0!==a[e]&&t===a[e].slotElementId},t.addSponsorLanguage=function(e){if(document.querySelector("."+e+"-sponsor-language"))return document.querySelector("."+e+"-sponsor-language").classList.remove("hidden"),void document.querySelector("."+e+"-bottom-spacer").classList.remove("hidden");var t=(0,r.default)((0,r.default)(".ad-"+e).get(0)),a=document.createElement("div"),n=t.data("ad-config"),o=n.isBetweenContent,i=n.isAggSponsorship,s=n.borderClass;a.className=e+"-sponsor-language "+s;var l=document.createElement("span");l.innerHTML=o?"Article continues after sponsor message":i?"More NPR content after sponsor message":"A message from our sponsor";a.appendChild(l);var u=t.parent().get(0);(0,r.default)(a).insertBefore(u);var c=document.createElement("div");c.className=e+"-bottom-spacer "+s,(0,r.default)(c).insertAfter(u)},t.removeSponsorLanguage=function(e){o.default.info("DFP Util: Removing sponsor language on "+e),(0,r.default)("."+e+"-bottom-spacer").addClass("hidden"),(0,r.default)("."+e+"-sponsor-language").addClass("hidden")},t.receiveExpandMessage=function(e){var t=void 0,a=void 0;try{t=f.DomainRegex.exec(e.origin)[0],a=t.split(".")[1]+"."+t.split(".")[2],f.TrustedOrigins.some((function(e){return e.host===a}))&&e.data===f.ExpandMessage&&(e.source.postMessage(f.AckMessage,e.origin),(n=(0,r.default)("#"+e.slot.getSlotElementId())).find("div").width("100%"),n.find("iframe").width("100%"))}catch(e){o.default.warning("Problem receiving full-width roadblock message across iframe.",{},e)}var n},t.visibilityCheck=function(e){if(document.hidden)var t=setInterval((function(){"visible"===document.visibilityState&&(r.default.isFunction(e)&&e(),clearInterval(t))}),500);else r.default.isFunction(e)&&e()},t.getAdditionalTargeting=m,t.logSponsorship=function(e,t){if(!e||0===e.length)return void o.default.info("DFP: No ads configured");function a(e){return e.location}var n=e.map(a),r=t.map(a),i=t.some((function(e){return!0===e.deferred}));if(o.default.info("DFP: configured "+JSON.stringify(n)+", rendered "+JSON.stringify(r)),t&&0!==t.length){var s=Object.assign({},t[0].targets,m());o.default.info("DFP: ad configuration",{network:t[0].network,site:t[0].site,zone:t[0].zone,anyDeferred:i,targets:s})}else o.default.info("DFP: No ads rendered")};var r=p(a(6)),o=p(a(10)),i=p(a(124)),s=p(a(26)),l=d(a(98)),u=d(a(16)),c=a(212);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var f={TrustedOrigins:[{host:"2mdn.net"}],ExpandMessage:"doExpand",AckMessage:"ack",DomainRegex:/(?:[\w-]+\.)+[\w-]+/};function h(e,t){var a={};return t===u.CTP_CUSTOM_CHANNEL_OR_PODCAST?a={channel:e.getAttribute("data-trackingChannel"),recommendationsChannelOrUid:e.getAttribute("data-recommendationsChannelOrUid")}:t!==u.CLICK_TO_PLAY_SOUNDSCAPES&&t!==u.SOUNDSCAPES||(a={audioUrl:e.getAttribute("data-supportedCustomAudioFileUrl"),type:u.SPONSORSHIP,subtype:e.getAttribute("data-sponsorshipType"),sponsorClickthrough:e.getAttribute("data-sponsorClickthrough"),primaryThemeColor:e.getAttribute("data-primaryThemeColor"),secondaryThemeColor:e.getAttribute("data-secondaryThemeColor"),uid:e.getAttribute("data-trackingChannel"),animationIframeUrl:e.getAttribute("data-animationIframeUrl")}),a}function m(){var e={sc:s.default.getUrlParameter("sc"),ft:s.default.getUrlParameter("ft"),utm_source:s.default.getUrlParameter("utm_source"),utm_medium:s.default.getUrlParameter("utm_medium")},t={orient:""};return"string"==typeof e.sc&&e.sc.length>0?t.sc=e.sc:"string"==typeof document.referrer&&document.referrer.search("facebook.com")>-1?t.sc="fb":"string"==typeof e.ft&&(t.ft=e.ft),"string"==typeof e.utm_source&&e.utm_source.length>0&&(t.utm_source=e.utm_source),"string"==typeof e.utm_medium&&e.utm_medium.length>0&&(t.utm_medium=e.utm_medium),(i.default.isOnPhone()||i.default.isOnTablet())&&(0===window.orientation||180===window.orientation?t.orient="portrait":90!==window.orientation&&-90!==window.orientation||(t.orient="landscape")),t}},530:function(e,t,a){"use strict";var n=m(a(23)),r=m(a(3)),o=m(a(70)),i=m(a(531)),s=m(a(532)),l=a(167),u=m(a(6)),c=a(14),d=m(a(50)),p=a(171),f=a(130),h=a(332);function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,d.default)(),v=n.default.create();v.name="global-alerts";var g=function e(){(0,h.getIsGlobalAlertLastSeenToday)(y.getState())?(0,u.default)(window).off("scroll",e):y.dispatch((0,l.checkGlobalAlerts)(window.scrollY))};v.init=function(){(0,u.default)(document).on("npr:globalAlerts:stickybar",(function(){return y.dispatch((0,l.showGlobalStickybar)())})),(0,u.default)(document).on("npr:globalAlerts:modal",(function(){return y.dispatch((0,l.showGlobalModal)())})),(0,u.default)(document).on("npr:globalAlerts:hide",(function(){return y.dispatch((0,l.hideGlobalAlerts)())}))},v.onReady=function(){var e=(0,p.isWithinAnyModalPeriod)(),t=(0,f.isWithinAnyStickybarPeriod)();(e||t)&&(0,u.default)(window).on("scroll",g);var a=document.getElementById("global-modal-mount");a&&o.default.render(r.default.createElement(c.Provider,{store:y},r.default.createElement(i.default,null)),a);var n=document.getElementById("global-stickybar-mount");n&&o.default.render(r.default.createElement(c.Provider,{store:y},r.default.createElement(s.default,null)),n)},v.onUnload=function(){var e=(0,p.isWithinAnyModalPeriod)(),t=(0,f.isWithinAnyStickybarPeriod)();(e||t)&&(0,u.default)(window).off("scroll",g);var a=document.getElementById("global-modal-mount");a&&o.default.unmountComponentAtNode(a);var n=document.getElementById("global-stickybar-mount");n&&o.default.unmountComponentAtNode(n)},v.register()},531:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=g(r),i=(g(a(4)),a(14)),s=g(a(206)),l=g(a(96)),u=v(a(167)),c=a(143),d=a(21),p=g(a(204)),f=v(a(73)),h=a(171),m=a(36),y=g(a(205));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.closeModal=function(e){a.props.hideGlobalAlerts(e)},a.closeWithoutMetrics=function(){a.setState({isLinkClicked:!0})},a.state={isLinkClicked:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;this.focusTrap=(0,s.default)("#global-modal-mount"),l.default.bind(["esc"],(function(){return e.closeModal()}))}},{key:"componentDidUpdate",value:function(){this.props.alertVariant!==f.MODAL||this.props.isAlertDismissed||this.state.isLinkClicked?this.focusTrap.deactivate():this.focusTrap.activate()}},{key:"componentWillUnmount",value:function(){var e=this;l.default.unbind(["esc"],(function(){return e.closeModal()}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAlertDismissed,n=t.alertVariant,r=t.org,i=t.user,s=t.variantIDToShowOnThisPage;if(!a&&!this.state.isLinkClicked&&n===f.MODAL){var l=r[i.org.id]||null,u=(0,h.getModalInfo)();return o.default.createElement(c.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},o.default.createElement("section",{className:s.includes(m.DONATION_EMBED)?"global-modal donation-portal-modal":"global-modal",role:"dialog","aria-labelledby":"callout__text--title","aria-describedby":"callout__text--body"},o.default.createElement("div",{className:"global-modal__inner"},o.default.createElement("button",{className:"global-modal__dismiss",onClick:function(){return e.closeModal()},"aria-label":"close dialog box"},o.default.createElement("span",{className:"global-modal__dismiss-text"},"Close")),s.includes(m.DONATION_EMBED)?o.default.createElement(y.default,{station:l,metricsCategory:f.MODAL,onClick:function(){return e.closeModal("maybe later")}}):o.default.createElement(p.default,{donation:u[s],station:l,metricsCategory:f.MODAL,onClick:this.closeWithoutMetrics})),o.default.createElement("div",{className:"global-modal__overlay",onClick:function(){return e.closeModal()}})))}return null}}]),t}(r.Component);t.default=(0,i.connect)((function(e){return{org:e.org,user:e.user,alertVariant:(0,d.getAlertVariant)(e),isAlertDismissed:(0,d.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,d.getVariantIDToShowOnThisPage)(e)}}),(function(e){return{hideGlobalAlerts:function(){return e(u.hideGlobalAlerts())}}}))(b)},532:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(3),o=w(r),i=(w(a(4)),a(14)),s=_(a(167)),l=w(a(203)),u=w(a(204)),c=w(a(205)),d=w(a(533)),p=w(a(534)),f=a(130),h=a(21),m=a(143),y=w(a(144)),v=w(a(96)),g=_(a(73)),b=a(36);w(a(95));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.checkHeight=function(){var e=document.querySelectorAll(".global-stickybar")[0];if(e){var t=e.offsetHeight;a.setState({isTallerThanViewport:t>=window.innerHeight})}},a.closeStickybar=function(e){a.props.hideGlobalAlerts(e)},a.closeStickybarWithoutMetrics=function(){a.setState({isLinkClicked:!0})},a.getStickybarComponent=function(){var e=a.props,t=e.isAlertDismissed,n=e.alertVariant,r=e.variantIDToShowOnThisPage,i=e.user,s=e.org;if(!t&&!a.state.isLinkClicked&&n===g.STICKYBAR){var h=(0,f.getStickybarNewsletterInfo)(),m=(0,f.getStickybarEmbeddedDonationInfo)(),y=(0,f.getStickybarDonationInfo)(),v=(0,f.getStickybarGenericInfo)(),_=(0,f.getStickyBarPlusInfo)(),w=r in h,P=r in y||r in m,E=r in v,k=r in _,S=s[i.org.id]||null,O="",j=null;if(P)r.includes(b.DONATION_EMBED)?(O="global-stickybar donation-portal-stickybar",j=o.default.createElement(c.default,{station:S,metricsCategory:g.STICKYBAR,onClick:function(){return a.closeStickybar("maybe later")}})):(O="global-stickybar donations-stickybar",j=o.default.createElement(u.default,{donation:y[r],station:S,metricsCategory:g.STICKYBAR,onClick:a.closeStickybarWithoutMetrics}));else if(w)if(O="global-stickybar newsletter-stickybar",h[r].newsletterInfo===(0,f.getStickybarUsePageNewsletter)()){var C=document.getElementById("newsletter-acquisition-callout-data"),N=C?C.getAttribute("data-newsletter"):null,A=JSON.parse(N)||null;A&&(j=o.default.createElement(l.default,{newsletter:A,user:i,isStickybar:!0}))}else j=o.default.createElement(l.default,{newsletter:h[r].newsletterInfo,user:i,isStickybar:!0});else E?(O="global-stickybar generic-stickybar",j=o.default.createElement(d.default,{variantID:r,headerText:v[r].genericInfo.headerText,subText:v[r].genericInfo.subText,buttonText:v[r].genericInfo.buttonText,buttonUrl:v[r].genericInfo.buttonUrl,metricsCategory:g.STICKYBAR,onClick:a.closeStickybarWithoutMetrics})):k&&(O="global-stickybar generic-stickybar",j=o.default.createElement(p.default,{headerText:_[r].genericInfo.headerText,subText:_[r].genericInfo.subText,buttonText:_[r].genericInfo.buttonText,buttonUrl:_[r].genericInfo.buttonUrl,eventLabel:_[r].genericInfo.eventLabel,onClick:a.closeStickybarWithoutMetrics}));if(a.state.isTallerThanViewport&&(O+=" is-tall"),j)return o.default.createElement("section",{className:O},o.default.createElement("button",{className:"global-stickybar__dismiss",onClick:function(){return a.closeStickybar()},"aria-label":"close dialog box"},"X"),o.default.createElement("div",{className:"global-stickybar__inner"},j))}return null},a.state={isLinkClicked:!1,isTallerThanViewport:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;v.default.bind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,y.default)(this.checkHeight,300))}},{key:"componentWillUnmount",value:function(){var e=this;v.default.unbind(["esc"],(function(){return e.closeStickybar()})),window.addEventListener("resize",(0,y.default)(this.checkHeight,300))}},{key:"render",value:function(){return o.default.createElement(m.CSSTransitionGroup,{transitionName:"a",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:500},this.getStickybarComponent())}}]),t}(r.Component);t.default=(0,i.connect)((function(e){var t=e.user,a=e.org;return{alertVariant:(0,h.getAlertVariant)(e),isAlertDismissed:(0,h.getAlertIsDismissed)(e),variantIDToShowOnThisPage:(0,h.getVariantIDToShowOnThisPage)(e),globalAlertAlreadyVisibleThisPage:(0,h.getGlobalAlertAlreadyVisibleThisPage)(e),user:t,org:a}}),(function(e){return{hideGlobalAlerts:function(t){return e(s.hideGlobalAlerts(t))}}}))(P)},533:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(3)),r=(o(a(4)),o(a(164)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return n.default.createElement("section",{className:"callout callout--generic"},n.default.createElement("div",{className:"callout__inner"},n.default.createElement("div",null,n.default.createElement("p",{className:"callout__header"},e.headerText)),n.default.createElement("div",null,n.default.createElement("p",{className:"callout__description"},e.subText)),n.default.createElement("div",{className:"callout__links"},n.default.createElement(r.default,{className:"callout__link",metrics:{category:"generic "+e.metricsCategory,action:"click button",label:e.variantID},onClick:function(){return function(e,t,a){if(a(),e){var n=new URL(e);n.searchParams.set("utm_source","npr.org"),n.searchParams.set("utm_medium","referral"),n.searchParams.set("utm_term",t),window.open(n.href,"_blank")}}(e.buttonUrl,e.metricsCategory,e.onClick)}},n.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},534:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(3)),r=(o(a(4)),o(a(164)));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return n.default.createElement("section",{className:"callout callout--generic"},n.default.createElement("div",{className:"callout__inner"},n.default.createElement("div",null,n.default.createElement("p",{className:"callout__header"},e.headerText)),n.default.createElement("div",null,n.default.createElement("p",{className:"callout__description"},e.subText)),n.default.createElement("div",{className:"callout__links"},n.default.createElement(r.default,{className:"callout__link",metrics:{category:"npr plus",action:"click stickybar promo",label:e.eventLabel},onClick:function(){return t=e.buttonUrl,(0,e.onClick)(),void(t&&window.open(t,"_blank"));var t}},n.default.createElement("span",null,e.buttonText)))))};i.defaultProps={onClick:function(){}},t.default=i},535:function(e,t,a){"use strict";(function(e){var n,r;n=[a(23),a(6)],void 0===(r=function(e,t){var a=e.create();a.name="we-are-hiring",a.init=function(){NPR.serverVars.isHiring&&console.log("\n%cWe are hiring!\n\n%chttps://n.pr/tech-jobs\n","font-size: 22px; font-family: Helvetica, Arial, sans-serif;","font-size: 12px")},a.register()}.apply(t,n))||(e.exports=r)}).call(this,a(63)(e))},59:function(e,t,a){"use strict";var n=i(a(6)),r=i(a(7)),o=i(a(321));function i(e){return e&&e.__esModule?e:{default:e}}var s=i(a(23)).default.create();s.name="auto-refresh";var l=void 0;function u(){return(0,r.default)(window,"NPR.serverVars.refresh",void 0)}function c(){var e=window.location.href;if(e.indexOf("refresh=true")<=0){var t=[];if(e.indexOf("?")>-1)t=e.substr(e.indexOf("?")+1).split("&");if(t.length>0){for(var a=!1,n=[],r=0;r<t.length;r+=1)t[r].indexOf("refresh")>-1&&(t[r]="refresh=true",a=!0),t[r].indexOf("=")>-1&&n.push(t[r]);a||n.push("refresh=true");var i=window.location.href.split("?")[0],s=n.join("&");o.default.navigateTo(i+"?"+s)}else o.default.navigateTo(e+"?refresh=true")}else o.default.navigateTo(window.location)}function d(){window.clearTimeout(l),l=window.setTimeout(c,1e3*u())}function p(){(0,n.default)(document).trigger("resetRefreshTimeout","window.focus")}function f(){(0,n.default)(document).trigger("resetRefreshTimeout","document.click")}s.onReady=function(){if(u()&&(l=window.setTimeout(c,1e3*u()),(0,n.default)(document).on("resetRefreshTimeout",d),(0,n.default)(window).on("focus",p),(0,n.default)(document).on("click",f),"function"==typeof window.jwplayer)){var e=window.jwplayer();e&&"function"==typeof e.onTime&&e.onTime((function(){Math.round(e.getPosition())%30==0&&(0,n.default)(document).trigger("resetRefreshTimeout","video timeupdate: "+e.getPosition())}))}},s.onUnload=function(){window.clearTimeout(l),(0,n.default)(document).off("resetRefreshTimeout",d),(0,n.default)(window).off("focus",p),(0,n.default)(document).off("click",f)},s.register()},75:function(e,t,a){"use strict";(function(e){var n,r;n=[a(23)],void 0===(r=function(e){var t=e.create();return t.name="social/recaptcha",t.init=function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://www.google.com/recaptcha/api.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},t.register(),{loadCaptcha:function(){void 0!==window.grecaptcha&&window.grecaptcha.reset()},isCaptchaEnabled:function(){return void 0!==window.grecaptcha&&(e=window.location.href,!((t=new RegExp("[?&]disableCaptcha(=([^&#]*)|&|#|$)").exec(e))&&t[2]&&"1"===decodeURIComponent(t[2]))||"www.npr.org"===window.location.hostname);var e,t},triggerRecaptchaManually:function(){void 0!==window.grecaptcha&&window.grecaptcha.execute()}}}.apply(t,n))||(e.exports=r)}).call(this,a(63)(e))},84:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a(3)),i=s(a(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(e){"#"===this.props.href&&e.preventDefault(),function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,a,n)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClick",this).call(this,e)}},{key:"render",value:function(){var e=this._getMetricsObject(),t=this._getAccessibilityAttributes();return o.default.createElement("a",n({className:this.props.className,href:this.props.href,onClick:this.onClick,onBlur:this.props.onBlur,onMouseDown:this.props.onMouseDown,onKeyPress:this.props.onKeyPress,"data-metrics":e},t),this.props.children)}}]),t}(s(a(318)).default);t.default=l,l.defaultProps={href:"#"},l.propTypes={href:i.default.string}},94:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDerivedMetadata=void 0;var n=a(173),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(128));a(21);t.getDerivedMetadata=(0,n.createSelector)([function(e){return e.metadata},function(e){return e.player},function(e){return e.sponsorship},function(e){return e.queue}],(function(e,t,a,n){var o=Object.create(null);for(var i in e)e.hasOwnProperty(i)&&(o[i]=r.getMetadataWithDerivedProps(e[i],t,a,n));return o}))}}]);